(()=>{var e,t={897:()=>{!function(){"use strict";function e(t){return this instanceof e?(this._canvas=t="string"==typeof t?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,void this.clear()):new e(t)}e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(e,t){return this._data=e,this},max:function(e){return this._max=e,this},add:function(e){return this._data.push(e),this},clear:function(){return this._data=[],this},radius:function(e,t){t=t||15;var n=this._circle=document.createElement("canvas"),a=n.getContext("2d"),r=this._r=e+t;return n.width=n.height=2*r,a.shadowOffsetX=a.shadowOffsetY=200,a.shadowBlur=t,a.shadowColor="black",a.beginPath(),a.arc(r-200,r-200,e,0,2*Math.PI,!0),a.closePath(),a.fill(),this},gradient:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),a=n.createLinearGradient(0,0,0,256);for(var r in t.width=1,t.height=256,e)a.addColorStop(r,e[r]);return n.fillStyle=a,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},draw:function(e){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var t=this._ctx;t.clearRect(0,0,this._width,this._height);for(var n,a=0,r=this._data.length;r>a;a++)n=this._data[a],t.globalAlpha=Math.max(n[2]/this._max,e||.05),t.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var i=t.getImageData(0,0,this._width,this._height);return this._colorize(i.data,this._grad),t.putImageData(i,0,0),this},_colorize:function(e,t){for(var n,a=3,r=e.length;r>a;a+=4)(n=4*e[a])&&(e[a-3]=t[n],e[a-2]=t[n+1],e[a-1]=t[n+2])}},window.simpleheat=e}(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(e,t){this._latlngs=e,L.setOptions(this,t)},setLatLngs:function(e){return this._latlngs=e,this.redraw()},addLatLng:function(e){return this._latlngs.push(e),this.redraw()},setOptions:function(e){return L.setOptions(this,e),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(e){this._map=e,this._canvas||this._initCanvas(),e._panes.overlayPane.appendChild(this._canvas),e.on("moveend",this._reset,this),e.options.zoomAnimation&&L.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._canvas),e.off("moveend",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},_initCanvas:function(){var e=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),t=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);e.style[t]="50% 50%";var n=this._map.getSize();e.width=n.x,e.height=n.y;var a=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(e,"leaflet-zoom-"+(a?"animated":"hide")),this._heat=simpleheat(e),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var e=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,e);var t=this._map.getSize();this._heat._width!==t.x&&(this._canvas.width=this._heat._width=t.x),this._heat._height!==t.y&&(this._canvas.height=this._heat._height=t.y),this._redraw()},_redraw:function(){var e,t,n,a,r,i,o,s,l,p=[],c=this._heat._r,d=this._map.getSize(),m=new L.Bounds(L.point([-c,-c]),d.add([c,c])),h=void 0===this.options.max?1:this.options.max,u=void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom,g=1/Math.pow(2,Math.max(0,Math.min(u-this._map.getZoom(),12))),f=c/2,b=[],w=this._map._getMapPanePos(),v=w.x%f,y=w.y%f;for(e=0,t=this._latlngs.length;t>e;e++)n=this._map.latLngToContainerPoint(this._latlngs[e]),m.contains(n)&&(r=Math.floor((n.x-v)/f)+2,i=Math.floor((n.y-y)/f)+2,l=(void 0!==this._latlngs[e].alt?this._latlngs[e].alt:void 0!==this._latlngs[e][2]?+this._latlngs[e][2]:1)*g,b[i]=b[i]||[],(a=b[i][r])?(a[0]=(a[0]*a[2]+n.x*l)/(a[2]+l),a[1]=(a[1]*a[2]+n.y*l)/(a[2]+l),a[2]+=l):b[i][r]=[n.x,n.y,l]);for(e=0,t=b.length;t>e;e++)if(b[e])for(o=0,s=b[e].length;s>o;o++)(a=b[e][o])&&p.push([Math.round(a[0]),Math.round(a[1]),Math.min(a[2],h)]);this._heat.data(p).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,n,t):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+t+")"}}),L.heatLayer=function(e,t){return new L.HeatLayer(e,t)}},9819:()=>{L.Control.ActiveLayers=L.Control.Layers.extend({getActiveBaseLayer:function(){return this._activeBaseLayer},getActiveOverlayLayers:function(){return this._activeOverlayLayers},onAdd:function(e){var t=L.Control.Layers.prototype.onAdd.call(this,e);return Array.isArray(this._layers)?(this._activeBaseLayer=this._findActiveBaseLayer(),this._activeOverlayLayers=this._findActiveOverlayLayers()):(this._activeBaseLayer=this._findActiveBaseLayerLegacy(),this._activeOverlayLayers=this._findActiveOverlayLayersLegacy()),t},_findActiveBaseLayer:function(){for(var e=this._layers,t=0;t<e.length;t++){var n=e[t];if(!n.overlay&&this._map.hasLayer(n.layer))return n}throw new Error("Control doesn't have any active base layer!")},_findActiveOverlayLayers:function(){for(var e={},t=this._layers,n=0;n<t.length;n++){var a=t[n];a.overlay&&this._map.hasLayer(a.layer)&&(e[a.layer._leaflet_id]=a)}return e},_findActiveBaseLayerLegacy:function(){var e=this._layers;for(var t in e)if(this._layers.hasOwnProperty(t)){var n=e[t];if(!n.overlay&&this._map.hasLayer(n.layer))return n}throw new Error("Control doesn't have any active base layer!")},_findActiveOverlayLayersLegacy:function(){var e={},t=this._layers;for(var n in t)if(this._layers.hasOwnProperty(n)){var a=t[n];a.overlay&&this._map.hasLayer(a.layer)&&(e[n]=a)}return e},_onLayerChange:function(){L.Control.Layers.prototype._onLayerChange.apply(this,arguments),this._recountLayers()},_onInputClick:function(){this._handlingClick=!0,this._recountLayers(),L.Control.Layers.prototype._onInputClick.call(this),this._handlingClick=!1},_recountLayers:function(){var e,t,n,a=this._section.getElementsByTagName("input"),r=a.length;for(e=0;e<r;e++)t=a[e],n=Array.isArray(this._layers)?this._layers[e]:this._layers[t.layerId],t.checked&&!this._map.hasLayer(n.layer)?n.overlay?this._activeOverlayLayers[t.layerId]=n:this._activeBaseLayer=n:!t.checked&&this._map.hasLayer(n.layer)&&n.overlay&&delete this._activeOverlayLayers[t.layerId]}}),L.control.activeLayers=function(e,t,n){return new L.Control.ActiveLayers(e,t,n)}},746:(e,t,n)=>{"use strict";var a=n(7294),r=n(3935),i=n(745),o=n(3727),s=n(6550),p=n(962),c=n.n(p);const d="(/record_ids/:record_ids)(/search/:search)(/search_field/:search_field)(/type/:type)(/category/:category)(/recordtype/:recordtype)(/year_from/:year_from)(/year_to/:year_to)(/person_relation/:person_relation)(/gender/:gender)(/person_landskap/:person_landskap)(/person_county/:person_county)(/person_harad/:person_harad)(/person_socken/:person_socken)(/filter/:filter)(/has_media/:has_media)(/has_transcribed_records/:has_transcribed_records)(/transcriptionstatus/:transcriptionstatus)(/page/:page)",m="/places(/:place_id)(/record_ids/:record_ids)(/search/:search)(/search_field/:search_field)(/type/:type)(/category/:category)(/recordtype/:recordtype)(/year_from/:year_from)(/year_to/:year_to)(/person_relation/:person_relation)(/gender/:gender)(/person_landskap/:person_landskap)(/person_county/:person_county)(/person_harad/:person_harad)(/person_socken/:person_socken)(/filter/:filter)(/has_media/:has_media)(/has_transcribed_records/:has_transcribed_records)(/transcriptionstatus/:transcriptionstatus)(/page/:page)",h="/records/:record_id(/record_ids/:record_ids)(/search/:search)(/search_field/:search_field)(/type/:type)(/category/:category)(/recordtype/:recordtype)(/year_from/:year_from)(/year_to/:year_to)(/person_relation/:person_relation)(/gender/:gender)(/person_landskap/:person_landskap)(/person_county/:person_county)(/person_harad/:person_harad)(/person_socken/:person_socken)(/filter/:filter)(/has_media/:has_media)(/has_transcribed_records/:has_transcribed_records)(/transcriptionstatus/:transcriptionstatus)(/page/:page)",u={createPlacePathFromPlaces(e,t){t=t.split("?")[0];const n=new(c())(m),a=n.match(t)||{};return a.place_id=e,a.search=a.search?encodeURIComponent(decodeURIComponent(a.search)):void 0,n.reverse(a)||""},createPlacesPathFromPlace(e){e=e.split("?")[0];var t=new(c())("/places/:place_id(/record_ids/:record_ids)(/search/:search)(/search_field/:search_field)(/type/:type)(/category/:category)(/recordtype/:recordtype)(/year_from/:year_from)(/year_to/:year_to)(/person_relation/:person_relation)(/gender/:gender)(/person_landskap/:person_landskap)(/person_county/:person_county)(/person_harad/:person_harad)(/person_socken/:person_socken)(/filter/:filter)(/has_media/:has_media)(/has_transcribed_records/:has_transcribed_records)(/transcriptionstatus/:transcriptionstatus)(/page/:page)"),n=t.match(e)||{};return n.place_id&&delete n.place_id,(t=new(c())(m)).reverse(n)||""},createPlacesPathFromRecord(e){var t=new(c())(h),n=t.match(e)||{};return n.record_id&&delete n.record_id,(t=new(c())(m)).reverse(n)||""},createSearchRoute(e){const t={...e};var n=new(c())(d);return t.search=t.search?encodeURIComponent(decodeURIComponent(t.search)):void 0,n.reverse(t)||""},createParamsFromPlacesRoute:e=>(e=e.split("?")[0],new(c())(m).match(e.replace(/\/$/,""))),createParamsFromRecordRoute:e=>(e=e.split("?")[0],new(c())(h).match(e.replace(/\/$/,""))),createParamsFromSearchRoute:e=>(e=e.split("?")[0],new(c())(d).match(e.replace(/\/$/,"")))};var g=n(9050);const f={getCategoryName(e,t){if(e){var n=t?this.categories_advanced:this.categories;return g.ZP.find(n,function(t){return t.letter.toLowerCase()==e.toLowerCase()}.bind(this)).label}return null},categories:[{letter:"trad1",label:"Bebyggelse och bosättning"},{letter:"trad2",label:"Yrken, näringar och hushållning"},{letter:"trad3",label:"Kommunikation och handel"},{letter:"trad4",label:"Samhället"},{letter:"trad5",label:"Livets högtider"},{letter:"trad6",label:"Spöken och gastar"},{letter:"trad7",label:"Naturen"},{letter:"trad8",label:"Läkekonst"},{letter:"trad9",label:"Årets fester"},{letter:"trad10",label:"Klokskap och svartkonst"},{letter:"trad11",label:"Övernaturliga väsen"},{letter:"trad12",label:"Historisk tradition"},{letter:"trad13",label:"Sagor, gåtor och ordspråk"},{letter:"trad14",label:"Visor och musik"},{letter:"trad15",label:"Idrott, lek och spel"},{letter:"trad16",label:"Ej kategoriserat"}]};class b extends a.Component{constructor(e){super(e),this.itemKeyUpHandler=this.itemKeyUpHandler.bind(this)}itemKeyUpHandler(e){13==e.keyCode&&this.itemClickHandler(e)}render(){var e=f.categories.map(function(e,t){return window.currentLang&&"no"==window.currentLang&&(e.label=e.label_no),this.props.multipleSelect?a.createElement("a",{tabIndex:0,key:t,"data-index":t,className:"item"+(this.props.searchParams.category&&this.props.searchParams.category.split(",").includes(e.letter)?" selected":""),onClick:this.props.itemClickHandler,onKeyUp:this.itemKeyUpHandler},e.label):a.createElement("a",{tabIndex:0,key:t,"data-index":t,className:"item"+(e.letter==this.state.selectedCategory?" selected":""),onClick:this.props.itemClickHandler,onKeyUp:this.itemKeyUpHandler},e.label)}.bind(this));return a.createElement("div",null,e)}}var w=n(982),v=n(9417);const y=window.location.hostname,x=["127.0.0.1","localhost","0.0.0.0"].some((e=>y.includes(e))),k=["-test."].some((e=>y.includes(e))),E=x?"dev":k?"test":"prod";"prod"!==E&&console.log(`ENV=${E}`);const _={dev:window.location.origin+"/",test:"https://sok.folke-test.isof.se/",prod:"https://sok.folke.isof.se/"},C={dev:window.location.origin,test:"https://sok.folke-test.isof.se",prod:"https://sok.folke.isof.se"},S={siteTitle:"Folke sök - Institutet för språk och folkminnen",hitsPerPage:100,localLibraryName:"publikutforska_library",requiredParams:{mark_metadata:"transcriptionstatus",type:"arkiv",categorytypes:"tradark",publishstatus:"published"},siteOptions:{placeView:{hideInformantPersonList:!0},recordList:{hideMaterialType:!0,visibleCategories:["tradark"],visibleCollecorPersons:!0},feedbackText:"Har du frågor eller synpunkter på hur applikationen fungerar? Har du hittat fel, till exempel i avskrifterna? Kontakta oss gärna!",contributeInfoText:"Känner du till någon av personerna som nämns: en upptecknare, någon som intervjuats eller som nämns i en berättelse? Vid 1900-talets början var arkiven framför allt intresserade av berättelserna, inte berättarna. Därför vet vi idag ganska lite om människorna i arkiven. Kontakta oss gärna nedan om du har information om eller fotografier på någon av personerna som nämns på uppteckningen! \t\t\t\t\tVill du vara med och bevara minnen och berättelser från vår tid till framtiden? På Institutets webbplats publiceras regelbundet frågelistor om olika ämnen. ",helpText:"Här kan du läsa mer om hur du använder applikationen: Här kan du läsa mer om hur du bidrar genom att t.ex. skriva av uppteckningar: ",copyrightContent:{"https://creativecommons.org/licenses/by-nd/2.5/se/":'<a rel="license" target="_blank" href="https://creativecommons.org/licenses/by-nd/2.5/se/"><img alt="Creative Commons-licens" style="border-width:0" src="https://i.creativecommons.org/l/by-nd/2.5/se/88x31.png" /></a><br />Detta verk är licensierat under en <a rel="license" target="_blank" href="https://creativecommons.org/licenses/by-nd/2.5/se/">Creative Commons Erkännande-IngaBearbetningar 2.5 Sverige Licens</a>.',"https://creativecommons.org/licenses/by/2.5/se/":'<a rel="license" target="_blank" href="https://creativecommons.org/licenses/by/2.5/se/"><img alt="Creative Commons-licens" style="border-width:0" src="https://i.creativecommons.org/l/by/2.5/se/88x31.png" /></a><br />Detta verk är licensierat under en <a rel="license" target="_blank" href="https://creativecommons.org/licenses/by/2.5/se/">Creative Commons Erkännande 2.5 Sverige Licens</a>.'}},country:"sweden",startPageUrl:"https://www.isof.se/arkiv-och-insamling/digitala-arkivtjanster/folke",imageUrl:"https://www4.isof.se/Folkminnen/Svenska_sagor_filer/",pdfUrl:{dev:"https://sok.folke.isof.se/arkivfiler/publik/",test:"https://sok.folke-test.isof.se/arkivfiler/publik/",prod:"https://sok.folke.isof.se/arkivfiler/publik/"}[E],personImageUrl:"https://frigg.isof.se/media/",audioUrl:"https://www4.isof.se/Folkminnen/Svenska_sagor_filer/inspelningar/",appUrl:_[E],siteUrl:C[E],apiUrl:{dev:"http://127.0.0.1:5001/api/es/",test:"https://frigg-test.isof.se/sagendatabas/api/es/",prod:"https://frigg.isof.se/sagendatabas/api/es/"}[E],restApiUrl:{dev:"http://127.0.0.1:5001/api/",test:"https://frigg-test.isof.se/sagendatabas/api/",prod:"https://frigg.isof.se/sagendatabas/api/"}[E],matomoApiUrl:{dev:"http://127.0.0.1:5002/matomo_api",test:"https://djangoproxy-test.isof.se/matomo_api",prod:"https://djangoproxy.isof.se/matomo_api/"}[E],searchSuggestionsParams:{module:"API",method:"Actions.getSiteSearchKeywords",idSite:"17",period:"range",date:"2022-01-01,today",format:"JSON"},numberOfSearchSuggestions:6};function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},P.apply(this,arguments)}class L extends a.Component{constructor(e){super(e),this.searchInputRef=a.createRef(),this.suggestionsRef=a.createRef(),this.suggestionsCloseRef=a.createRef(),this.inputKeyPressHandler=this.inputKeyPressHandler.bind(this),this.searchValueChangeHandler=this.searchValueChangeHandler.bind(this),this.executeSearch=this.executeSearch.bind(this),this.clearSearch=this.clearSearch.bind(this),this.checkboxChangeHandler=this.checkboxChangeHandler.bind(this),this.categoryItemClickHandler=this.categoryItemClickHandler.bind(this),this.openButtonClickHandler=this.openButtonClickHandler.bind(this),this.openButtonKeyUpHandler=this.openButtonKeyUpHandler.bind(this),this.languageChangedHandler=this.languageChangedHandler.bind(this),this.totalRecordsHandler=this.totalRecordsHandler.bind(this),this.suggestionClickHandler=this.suggestionClickHandler.bind(this),this.closeSuggestionsHandler=this.closeSuggestionsHandler.bind(this),this.searchInputFocusHandler=this.searchInputFocusHandler.bind(this),this.searchInputBlurHandler=this.searchInputBlurHandler.bind(this),this.fetchingPageHandler=this.fetchingPageHandler.bind(this),this.state={fetchingPage:!1,searchSuggestions:[],suggestionsVisible:!1,searchParams:{search:"",search_field:"record"},totalRecords:{value:0,relation:"eq"}},window.searchBox=this}filteredSearchSuggestions(){return this.state.searchSuggestions.filter((e=>e.label.toLowerCase().indexOf(this.state.searchParams.search?this.state.searchParams.search.toLowerCase():"")>-1))}getSearchSuggestions(){const e=S.matomoApiUrl,t=S.searchSuggestionsParams,n=new URL(e);Object.keys(t).forEach((e=>n.searchParams.append(e,t[e]))),fetch(n,{mode:"cors"}).then((e=>e.json())).then((e=>{this.setState({searchSuggestions:e})}))}fetchingPageHandler(e){this.setState({fetchingPage:e.target})}closeSuggestionsHandler(){console.log("closeSuggestionsHandler"),this.searchInputRef.current.focus(),this.setState({suggestionsVisible:!1})}inputKeyPressHandler(e){if("Enter"==e.key&&e.target===this.searchInputRef.current&&this.executeSearch(),"Enter"===e.key&&this.suggestionsRef.current&&this.suggestionsRef.current.contains(e.target)&&this.setState({suggestionsVisible:!1,searchParams:{search:e.target.dataset.value}},(()=>this.executeSearch())),"Escape"==e.key&&this.closeSuggestionsHandler(),"ArrowDown"==e.key&&this.suggestionsRef.current&&this.suggestionsRef.current.contains(e.target)){let t=e.target.nextElementSibling;t&&t.focus()}if("ArrowUp"==e.key&&this.suggestionsRef.current&&this.suggestionsRef.current.contains(e.target)){let t=e.target.previousElementSibling;t&&t.focus()}if("ArrowDown"==e.key&&this.suggestionsRef.current&&e.target===this.searchInputRef.current){let e=this.suggestionsRef.current.firstElementChild;e&&e.focus()}if("ArrowUp"==e.key&&this.suggestionsRef.current&&this.suggestionsRef.current.contains(e.target)){let t=this.suggestionsRef.current.firstElementChild;e.target===t&&this.searchInputRef.current.focus()}"ArrowDown"!=e.key&&"ArrowUp"!=e.key&&"Enter"!=e.key&&"Escape"!=e.key&&this.suggestionsRef.current&&this.suggestionsRef.current.contains(e.target)&&this.searchInputRef.current.focus()}suggestionClickHandler(e){this.setState({suggestionsVisible:!1,searchParams:{search:e}},(()=>this.executeSearch()))}searchInputFocusHandler(){this.setState({suggestionsVisible:!0})}searchInputBlurHandler(e){const t=e.relatedTarget===this.suggestionsCloseRef.current;let n=!!this.suggestionsRef.current;n=n&&e.relatedTarget!==this.searchInputRef.current&&e.relatedTarget!==this.suggestionsRef.current,n=n&&!this.suggestionsRef.current.contains(e.relatedTarget),window.setTimeout((()=>{t&&this.searchInputRef.current.focus(),n&&this.setState({suggestionsVisible:!1})}),0)}categoryItemClickHandler(e){const t=f.categories[e.target.dataset.index].letter;let n=this.props.searchParams.category&&this.props.searchParams.category.split(","),a=[];n&&n.includes(t)?a=n.filter((e=>e!==t)):n?(a=n,a.push(t)):a=[t];const r={...this.state.searchParams};r.category=a.join(",");const i="/places"+u.createSearchRoute(r);this.props.history.push(i)}executeSearch(){const e={...this.props.searchParams};Object.assign(e,this.state.searchParams),e.page&&delete e.page,this.props.history.push(`/places${u.createSearchRoute(e)}\n\t\t\t${this.state.searchParams.search?"?s="+this.state.searchParams.search:""}`)}searchValueChangeHandler(e){if(e.target.value!=this.state.searchParams.search){const t={...this.state.searchParams};t.search=e.target.value,this.setState({searchParams:t})}}clearSearch(){const e={...this.state.searchParams};e.search="",this.setState({searchParams:e}),document.getElementById("searchInputMapMenu").value="",document.getElementById("searchInputMapMenu").focus()}checkboxChangeHandler(e){if("filter"===e.target.name){if(!this.state.searchParams[e.target.value]){const t={...this.state.searchParams};t.has_media=void 0,t.has_transcribed_records=void 0,"all"!==e.target.value&&(t[e.target.value]="true"),this.setState({searchParams:t},(()=>this.executeSearch()))}}else if(e.target.value!=this.state.searchParams[e.target.name]){const t={...this.state.searchParams};"false"===e.target.value?t[e.target.name]=void 0:t[e.target.name]=e.target.value,this.setState({searchParams:t},(()=>this.executeSearch()))}}languageChangedHandler(){this.forceUpdate()}totalRecordsHandler(e){this.setState({totalRecords:e.target})}componentDidMount(){window.eventBus&&(window.eventBus.addEventListener("Lang.setCurrentLang",this.languageChangedHandler),window.eventBus.addEventListener("recordList.totalRecords",this.totalRecordsHandler.bind(this)),window.eventBus.addEventListener("recordList.fetchingPage",this.fetchingPageHandler.bind(this)));const e={...this.props.searchParams};this.setState({searchParams:e}),this.getSearchSuggestions()}componentDidUpdate(e){if(JSON.stringify(e.searchParams)!==JSON.stringify(this.props.searchParams)){const e={...this.props.searchParams};this.setState({searchParams:e})}}componentWillUnmount(){window.eventBus&&window.eventBus.removeEventListener("Lang.setCurrentLang",this.languageChangedHandler)}openButtonKeyUpHandler(e){13==e.keyCode&&this.openButtonClickHandler(e)}openButtonClickHandler(){window.eventBus&&window.eventBus.dispatch("routePopup.show")}render(){return a.createElement("div",{className:"search-box map-floating-control"+(this.props.expanded?" expanded":"")+("one_record"===this.state.searchParams.recordtype?" advanced":"")},a.createElement("div",null,a.createElement("input",{id:"searchInputMapMenu",ref:this.searchInputRef,type:"text",defaultValue:this.state.searchParams.search?this.state.searchParams.search:"",onInput:this.searchValueChangeHandler,onKeyDown:this.inputKeyPressHandler,placeholder:"Sök i Folke",onFocus:this.searchInputFocusHandler,onBlur:this.searchInputBlurHandler,"aria-autocomplete":"both",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",tabIndex:0}),a.createElement("div",{className:"search-label",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:275,display:"block"}},this.state.searchParams.search?"record"==this.state.searchParams.search_field?"Innehåll: ":"person"==this.state.searchParams.search_field?"Person: ":"place"==this.state.searchParams.search_field?"Ort: ":"":l("Sök i Folke"),a.createElement("strong",null,this.state.searchParams.search?this.state.searchParams.search:""),this.state.searchParams.has_media?" (Digitaliserat)":"",this.state.searchParams.has_transcribed_records?" (Avskrivet)":"",this.state.searchParams.transcriptionstatus?"published"==this.state.searchParams.transcriptionstatus?" (Avskrivna)":" (För avskrift)":"",a.createElement("br",null),a.createElement("small",null,this.state.searchParams.category?this.state.searchParams.category.split(",").map((e=>f.getCategoryName(e))).join(", "):"")),this.state.suggestionsVisible&&this.state.searchSuggestions.length>0&&this.filteredSearchSuggestions().length>0&&a.createElement("div",{className:"suggestions"},a.createElement("span",{className:"suggestions-label"},"Vanligaste sökningar"),a.createElement("span",{className:"suggestions-close",onClick:this.closeSuggestionsHandler,tabIndex:"0",ref:this.suggestionsCloseRef},"×"),a.createElement("ul",{ref:this.suggestionsRef},this.filteredSearchSuggestions().slice(0,S.numberOfSearchSuggestions).map((e=>a.createElement("li",{className:"suggestions-item",key:e.label,onClick:()=>this.suggestionClickHandler(e.label),tabIndex:"0",onKeyDown:this.inputKeyPressHandler,"data-value":e.label},e.label.split(new RegExp(`(${this.state.searchParams.search})`,"gi")).map(((e,t)=>a.createElement("span",{key:t,style:{fontWeight:e.toLowerCase()===(this.state.searchParams.search?this.state.searchParams.search.toLowerCase():"")?"bold":"normal"}},e))))))))),a.createElement("div",{className:"search-field-buttons"},this.state.searchParams.search&&a.createElement("button",{className:"clear-button",onClick:this.clearSearch}),a.createElement("button",{className:"search-button",onClick:this.executeSearch})),a.createElement("div",{className:"expanded-content"},a.createElement("div",{className:"radio-group"},a.createElement("label",null,a.createElement("input",{type:"radio",value:"record",onChange:this.checkboxChangeHandler,name:"search_field",checked:"record"==this.state.searchParams.search_field||!this.state.searchParams.search_field}),"Innehåll"),a.createElement("label",null,a.createElement("input",{type:"radio",value:"person",onChange:this.checkboxChangeHandler,name:"search_field",checked:"person"==this.state.searchParams.search_field}),"Person"),a.createElement("label",null,a.createElement("input",{type:"radio",value:"place",onChange:this.checkboxChangeHandler,name:"search_field",checked:"place"==this.state.searchParams.search_field}),"Ort")),a.createElement("hr",null),"one_accession_row"==this.state.searchParams.recordtype&&a.createElement("div",{className:"radio-group"},a.createElement("label",null,a.createElement("input",{type:"radio",value:"has_media",onChange:this.checkboxChangeHandler,name:"filter",checked:"true"===this.state.searchParams.has_media}),"Digitaliserat"),a.createElement("label",null,a.createElement("input",{type:"radio",value:"has_transcribed_records",onChange:this.checkboxChangeHandler,name:"filter",checked:"true"===this.state.searchParams.has_transcribed_records}),a.createElement("span",null,"Avskrivet")),a.createElement("label",null,a.createElement("input",{type:"radio",value:"all",onChange:this.checkboxChangeHandler,name:"filter",checked:"true"!==this.state.searchParams.has_media&&"true"!==this.state.searchParams.has_transcribed_records}),"Allt")),"one_record"==this.state.searchParams.recordtype&&a.createElement("div",null,a.createElement("div",{className:"radio-group"},a.createElement("label",null,a.createElement("input",{type:"radio",value:"readytotranscribe",onChange:this.checkboxChangeHandler,name:"transcriptionstatus",checked:"readytotranscribe"==this.state.searchParams.transcriptionstatus}),"För avskrift"),a.createElement("label",null,a.createElement("input",{type:"radio",value:"published",onChange:this.checkboxChangeHandler,name:"transcriptionstatus",checked:"published"==this.state.searchParams.transcriptionstatus}),"Avskrivet"),a.createElement("label",null,a.createElement("input",{type:"radio",value:"false",onChange:this.checkboxChangeHandler,name:"transcriptionstatus",checked:!this.state.searchParams.transcriptionstatus}),"Allt"))),a.createElement("div",{className:"advanced-content",style:{display:"none"}},a.createElement("h4",null,"Kategorier"),a.createElement("div",{tabIndex:-1,className:"list-container minimal-scrollbar"},a.createElement(s.AW,{path:["/places/:place_id([0-9]+)?","/records/:record_id","/person/:person_id"],render:e=>a.createElement(b,P({multipleSelect:"true",searchParams:u.createParamsFromSearchRoute(e.location.pathname.split(e.match.url)[1]),itemClickHandler:this.categoryItemClickHandler},e))})))),!this.state.fetchingPage&&a.createElement("div",{className:"popup-wrapper"},this.state.totalRecords.value>0&&a.createElement("a",{className:"popup-open-button map-floating-control map-right-control visible ignore-expand-menu",onClick:this.openButtonClickHandler,onKeyUp:this.openButtonKeyUpHandler,tabIndex:0},a.createElement("strong",{className:"ignore-expand-menu"},a.createElement(w.G,{icon:v.Zrf})," Visa ",this.state.totalRecords.value,"gte"===this.state.totalRecords.relation?"+":""," sökträffar som lista")),0===this.state.totalRecords.value&&a.createElement("div",{className:"popup-open-button map-floating-control map-right-control visible ignore-expand-menu",style:{cursor:"unset"}},a.createElement("strong",{className:"ignore-expand-menu"},"0 sökträffar"))))}}class I extends a.Component{constructor(e){super(e),this.menuButtonClick=this.menuButtonClick.bind(this),this.openSwitcherHelptext=this.openSwitcherHelptext.bind(this),this.openSideMenu=this.openSideMenu.bind(this)}openSwitcherHelptext(){window.eventBus&&window.eventBus.dispatch("overlay.switcherHelpText",{})}openSideMenu(){window.eventBus&&window.eventBus.dispatch("overlay.sideMenu","visible")}menuButtonClick(e){const t=e.currentTarget.dataset.value,n={...this.props.searchParams};n.recordtype=t,"one_accession_row"===t?(n.category=void 0,n.transcriptionstatus=void 0,n.has_media=!0,n.has_transcribed_records=void 0):"one_record"===t&&(n.has_media=void 0,n.has_transcribed_records=void 0,n.transcriptionstatus="readytotranscribe"),this.props.history.push("/places"+u.createSearchRoute(n))}render(){return a.createElement("div",{className:"nordic-switch-wrapper map-floating-control"},a.createElement("span",{onClick:this.openSideMenu,className:"open-sidemenu-button",title:"Öppna sidomeny"},a.createElement(w.G,{icon:v.xiG})),a.createElement("a",{onClick:this.menuButtonClick,"data-value":"one_accession_row",className:"one_accession_row"==this.props.searchParams.recordtype?"selected":""},l("Arkivmaterial")),a.createElement("a",{onClick:this.menuButtonClick,"data-value":"one_record",className:"one_record"==this.props.searchParams.recordtype?"selected":""},l("Skriva av")),a.createElement("span",{className:"switcher-help-button",onClick:this.openSwitcherHelptext,title:"Om accessioner och uppteckningar"},"?"))}}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},N.apply(this,arguments)}class H extends a.Component{constructor(e){super(e),this.state={selectedCategory:null,advanced:!1}}searchBoxSearchHandler(e){this.setState({searchValue:e.searchValue,searchField:e.searchField},function(){this.updateRoute()}.bind(this))}render(){return a.createElement(s.AW,{path:["/places/:place_id([0-9]+)?","/records/:record_id","/person/:person_id"],render:e=>a.createElement("div",{className:"menu-wrapper"+(this.props.expanded?" menu-expanded":"")+(this.state.advanced?" advanced-menu-view":"")},a.createElement(I,N({searchParams:u.createParamsFromSearchRoute(e.location.pathname.split(e.match.url)[1])},e)),a.createElement(L,N({key:e.location.pathname.split(e.match.url)[1],searchParams:u.createParamsFromSearchRoute(e.location.pathname.split(e.match.url)[1]),expanded:this.props.expanded},e)))})}}var O=n(5243),B=n.n(O),R=(n(5732),n(897),n(687),n(9819),n(6439),n(1751),n(3548));const z=n.p+"img/map-marker-blue-highlighted.png",U=n.p+"img/map-marker-shadow.png",M=n.p+"img/map-marker-orange.png",F=n.p+"img/marker-blue.png",V=n.p+"img/marker-red.png",A={markerIcon:B().icon({iconUrl:R,shadowUrl:U,iconSize:[28,36],shadowSize:[41,41],iconAnchor:[14,35],shadowAnchor:[12,40],popupAnchor:[-1,-15]}),markerIconHighlighted:B().icon({iconUrl:z,shadowUrl:U,iconSize:[28,36],shadowSize:[41,41],iconAnchor:[14,35],shadowAnchor:[12,40],popupAnchor:[-1,-15]}),orangeIcon:B().icon({iconUrl:M,iconSize:[27,27],iconAnchor:[15,15],popupAnchor:[0,0]}),blueIcon:B().icon({iconUrl:F,iconSize:[27,27],iconAnchor:[15,15],popupAnchor:[0,0]}),redIcon:B().icon({iconUrl:V,iconSize:[27,27],iconAnchor:[15,15],popupAnchor:[0,0]}),tileLayers:[{label:"Lantmäteriet topografisk karta",url:"https://frigg.isof.se/sagendatabas/api/lm_epsg3857_proxy/{z}/{y}/{x}.png",options:{attribution:'&copy; <a href="https://www.lantmateriet.se/en/">Lantmäteriet</a> Topografisk Webbkarta Visning',crossOrigin:!0}},{label:"Lantmäteriet topografisk karta nedtonad",url:"https://frigg.isof.se/sagendatabas/api/lm_nedtonad_epsg3857_proxy/{z}/{y}/{x}.png",options:{attribution:'&copy; <a href="https://www.lantmateriet.se/en/">Lantmäteriet</a> Topografisk Webbkarta Visning',crossOrigin:!0}},{label:"Open Street Map Mapnik",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}},{label:"ESRI World Imagery",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},{label:"ESRI Gray",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ"}}],overlayTileLayers:[{isWms:!0,label:"Lantmäteriet Ortofoto 1960",url:"https://frigg.isof.se/sagendatabas/api/lm_historto_proxy",layers:"OI.Histortho_60",TILED:!0,TILESORIGIN:"-2238400, 5287200",ISBASELAYER:!0,hidden:!0,maxZoom:17,minZoom:6,options:{attribution:'&copy; <a href="https://www.lantmateriet.se/sv/Kartor-och-geografisk-information/geodataprodukter/produktlista/historiska-ortofoton-visning/">Lantmäteriverket</a> Ortofoto 1960',crossOrigin:!0}},{isWms:!0,label:"Lantmäteriet Ortofoto",url:"https://frigg.isof.se/sagendatabas/api/lm_orto_proxy",layers:"Ortofoto_0.5,Ortofoto_0.4,Ortofoto_0.25,Ortofoto_0.16",TILED:!0,TILESORIGIN:"-2238400, 5287200",ISBASELAYER:!0,hidden:!0,maxZoom:17,minZoom:6,options:{attribution:'&copy; <a href="https://www.lantmateriet.se/sv/Kartor-och-geografisk-information/geodataprodukter/produktlista/ortofoto-visning/">Lantmäteriverket</a> Ortofoto',crossOrigin:!0}},{isWms:!0,label:"Sockengränser",url:"https://karta.raa.se/geo/arkreg_v1.0/wms",layers:"socken",TILED:!0,TILESORIGIN:"-2238400, 5287200",ISBASELAYER:!1,hidden:!1,maxZoom:17,minZoom:11,options:{attribution:'&copy; <a href="https://www.raa.se/en/">Riksankikvarieämbetet</a> Sockenkarta',crossOrigin:!0}}],createLayers(){for(var e={},t=0;t<this.tileLayers.length;t++){var n;n=this.tileLayers[t].isWms?B().tileLayer.wms(this.tileLayers[t].url,{layers:this.tileLayers[t].layerName,minZoom:this.tileLayers[t].minZoom||3,maxZoom:this.tileLayers[t].maxZoom,attribution:this.tileLayers[t].attribution}):B().tileLayer(this.tileLayers[t].url,this.tileLayers[t].options),e[this.tileLayers[t].label]=n}return e},createOverlayLayers(){var e={};if(this.overlayTileLayers)for(var t=0;t<this.overlayTileLayers.length;t++){var n;n=this.overlayTileLayers[t].isWms?B().tileLayer.wms(this.overlayTileLayers[t].url,{layers:this.overlayTileLayers[t].layers,minZoom:this.overlayTileLayers[t].minZoom||3,maxZoom:this.overlayTileLayers[t].maxZoom,format:"image/png",transparent:!0,hidden:this.overlayTileLayers[t].hidden,TILED:this.overlayTileLayers[t].TILED,ISBASELAYER:this.overlayTileLayers[t].ISBASELAYER,TILESORIGIN:this.overlayTileLayers[t].TILESORIGIN}):B().tileLayer(this.overlayTileLayers[t].url,this.overlayTileLayers[t].options),e[this.overlayTileLayers[t].label]=n}return e},getSweref99crs:()=>new(B().Proj.CRS)("EPSG:3006","+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",{resolutions:[4096,2048,1024,512,256,128,64,32,16,8,4,2,1,.5],origin:[-12e5,85e5],bounds:B().bounds([-12e5,85e5],[4305696,2994304])})};class T extends a.Component{constructor(e){super(e),this.mapView=a.createRef(),this.nordicLegendsUpdateHandler=this.nordicLegendsUpdateHandler.bind(this),this.state={}}componentDidMount(){var e,t=A.createLayers();this.props.ignoreOverlayLayers||(e=A.createOverlayLayers()),this.props.disableSwedenMap&&delete t[A.tileLayers[0].label];var n=[t[Object.keys(t)[0]]];if(e&&!t[Object.keys(e)[0]]){var a=e[Object.keys(e)[0]];0==a.wmsParams.hidden&&n.push(a)}var r={center:this.props.center||[63.5,16.7211],zoom:parseInt(this.props.zoom)||5,minZoom:parseInt(this.props.minZoom)||5,maxZoom:parseInt(this.props.maxZoom)||17,layers:n,scrollWheelZoom:this.props.scrollWheelZoom||!1,zoomControl:!1};this.props.disableSwedenMap||Object.keys(t)[0].indexOf("(SWEREF99)")>-1&&(r.crs=A.getSweref99crs(),r.zoom=1,r.minZoom=1),this.map=B().map(this.mapView.current,r),B().control.zoom({position:this.props.zoomControlPosition||"topright"}).addTo(this.map),this.props.disableLocateControl||B().control.locate({showPopup:!1,icon:"map-location-icon",position:this.props.zoomControlPosition||"topright",locateOptions:{maxZoom:9},markerStyle:{weight:2,fillColor:"#ffffff",fillOpacity:1},circleStyle:{weight:1,color:"#a6192e"}}).addTo(this.map),this.layersControl=B().control.activeLayers(t,e,{position:this.props.layersControlPosition||"topright",collapsed:!this.props.layersControlStayOpen}).addTo(this.map),this.map.on("baselayerchange",this.mapBaseLayerChangeHandler.bind(this)),window.eventBus&&window.eventBus.addEventListener("nordicLegendsUpdate",this.nordicLegendsUpdateHandler)}nordicLegendsUpdateHandler(e,t){!this.props.disableSwedenMap&&t.includeNordic&&this.layersControl.getActiveBaseLayer().name.indexOf("Lantmäteriet")>-1&&(mapView.mapBase.layersControl._layers[2].layer.addTo(mapView.mapBase.map),mapView.mapBase.layersControl._onInputClick())}mapBaseLayerChangeHandler(e){if(e.name.indexOf("(SWEREF99)")>-1&&"EPSG:3006"!=this.map.options.crs.code){var t=this.map.getCenter(),n=this.map.getZoom();this.map.options.crs=A.getSweref99crs(),this.map.options.minZoom=1,this.map.options.maxZoom=13,this.map.setView(t,n-4,{animate:!1})}-1==e.name.indexOf("(SWEREF99)")&&"EPSG:3006"==this.map.options.crs.code&&(t=this.map.getCenter(),n=this.map.getZoom(),this.map.options.crs=B().CRS.EPSG3857,this.map.options.minZoom=4,this.map.options.maxZoom=16,this.map.setView(t,n+4,{animate:!1})),this.props.onBaseLayerChange&&this.props.onBaseLayerChange(e)}invalidateSize(){this.map&&this.map.invalidateSize()}UNSAFE_componentWillReceiveProps(e){e.marker&&this.addMarker(e.marker)}render(){return a.createElement("div",{className:this.props.className||"map-container small",ref:this.mapView,style:this.props.mapHeight?{height:-1==this.props.mapHeight.indexOf("px")?this.props.mapHeight+"px":this.props.mapHeight}:null})}}n(7147);class D{constructor(e){this.url=S.apiUrl+"socken/",this.onComplete=e}cleanParams(e){for(var t in e)null!==e[t]&&void 0!==e[t]||delete e[t];return e}fetch(e){var t=[];if(e.record_ids)t.push("documents="+e.record_ids);else for(var n in t=[],(e=g.ZP.defaults(this.cleanParams(e),S.requiredParams)).search&&("person"==e.search_field&&(e.person=e.search,delete e.search),"place"==e.search_field&&(e.place=e.search,delete e.search),delete e.search_field),e)t.push(n+"="+e[n]);var a=t.join("&");fetch(this.url+"?"+a).then((function(e){return e.json()})).then(function(e){this.onComplete&&this.onComplete(e)}.bind(this)).catch((function(e){console.log("parsing failed",e)}))}}class j extends a.Component{constructor(e){super(e),window.mapView=this,this.mapView=a.createRef(),this.state={viewMode:"clusters",loading:!1},this.mapData=[],this.changeViewMode=this.changeViewMode.bind(this),this.mapBaseLayerChangeHandler=this.mapBaseLayerChangeHandler.bind(this),this.collections=new D(function(e){this.mapData=e.data||[],this.updateMap(),this.setState({loading:!1})}.bind(this))}componentDidMount(){this.fetchData(this.props.searchParams),this.mapBase=this.mapView.current}componentDidUpdate(e){const t={...e.searchParams};t.place_id&&delete t.place_id;const n={...this.props.searchParams};n.place_id&&delete n.place_id,JSON.stringify(t)!==JSON.stringify(n)&&this.fetchData(n)}mapBaseLayerChangeHandler(e){this.updateMap()}fetchData(e){if(this.setState({loading:!0}),e){var t={search:e.search?encodeURIComponent(e.search):void 0,search_field:e.search_field||void 0,type:e.type,category:e.category&&e.category+""+(e.subcategory?","+e.subcategory:""),year_from:e.year_from||void 0,year_to:e.year_to||void 0,gender:e.gender?e.person_relation?e.person_relation+":"+e.gender:e.gender:void 0,birth_years:e.birth_years?e.person_relation?e.person_relation+":"+(e.gender?e.gender+":":"")+e.birth_years:e.birth_years:void 0,record_ids:e.record_ids||void 0,has_metadata:e.has_metadata||void 0,has_media:e.has_media||void 0,has_transcribed_records:e.has_transcribed_records||void 0,recordtype:e.recordtype||void 0,transcriptionstatus:e.transcriptionstatus||void 0};e.nordic||(t.country=S.country),S.filterParameterName&&S.filterParameterValues&&"filter"in e&&("true"==e.filter||1==e.filter?t[S.filterParameterName]=S.filterParameterValues[1]:t[S.filterParameterName]=S.filterParameterValues[0]),this.collections.fetch(t)}}changeViewMode(e){this.setViewmode(e.target.dataset.viewmode)}setViewmode(e){e!=this.state.viewMode&&(this.setState({viewMode:e}),this.mapData.length>0&&setTimeout(function(){this.createLayers(),this.updateMap()}.bind(this),50))}setMapFilter(e){this.setState({mapFilter:e},function(){this.updateMap()}.bind(this))}createLayers(){switch(this.markers&&(this.markers.clearLayers&&this.markers.clearLayers(),this.mapView.current.map.removeLayer(this.markers)),this.state.viewMode){case"markers":case"circles":this.markers=B().featureGroup(),this.mapView.current.map.addLayer(this.markers);break;case"clusters":this.markers=new(B().MarkerClusterGroup)({showCoverageOnHover:!1,maxClusterRadius:40,iconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=t<10?"small":t<20?"medium":"large",new(B().DivIcon)({html:"<div><span><b>"+t+"</b></span></div>",className:"marker-cluster"+n,iconSize:new(B().Point)(28,28)})}}),this.mapView.current.map.addLayer(this.markers);break;case"heatmap":this.markers=B().heatLayer([],{minOpacity:.35,radius:18,blur:15}),this.markers.addTo(this.mapView.current.map);case"heatmap-count":this.markers=B().heatLayer([],{minOpacity:.35,radius:18,blur:15,maxZoom:4}),this.markers.addTo(this.mapView.current.map)}}updateMap(){var e=this.state.mapFilter?g.ZP.filter(this.mapData,function(e){return e.relation_type.indexOf(this.state.mapFilter)>-1}.bind(this)):this.mapData;if(("markers"==this.state.viewMode||"clusters"==this.state.viewMode)&&(this.markers?this.markers.clearLayers():this.createLayers(),e.length>0)){var t=this.mapView.current.map.getBounds().pad(-.2),n=[],a=!1;g.ZP.each(e,function(e){if(e.location.length>0){var r=B().marker([Number(e.location[0]),Number(e.location[1])],{title:e.name,icon:1==e.has_metadata?this.props.highlightedMarkerIcon||A.markerIconHighlighted:this.props.defaultMarkerIcon||A.markerIcon});r.on("click",function(t){this.props.onMarkerClick&&this.props.onMarkerClick(e.id)}.bind(this)),this.markers.addLayer(r),n.push(e.location),t.contains(e.location)&&(a=!0)}}.bind(this)),(!a||S.siteOptions.mapView&&1==S.siteOptions.mapView.alwaysUpdateViewport)&&this.mapView.current.map.fitBounds(n,{maxZoom:10,padding:[50,50]})}if("circles"==this.state.viewMode&&(this.markers?this.markers.clearLayers():this.createLayers(),e.length>0)){n=[],g.ZP.min(e,(function(e){return Number(e.doc_count)})).doc_count;var r=g.ZP.max(e,(function(e){return Number(e.doc_count)})).doc_count;g.ZP.each(e,function(e){if(e.location.length>0){var t=B().circleMarker(e.location,{radius:e.doc_count/r*20+2,fillColor:"#047bff",fillOpacity:.4,color:"#000",weight:.8});t.on("click",function(t){this.props.onMarkerClick&&this.props.onMarkerClick(e.id)}.bind(this)),this.markers.addLayer(t)}}.bind(this))}if("heatmap"==this.state.viewMode){var i=g.ZP.map(e,function(e){return[e.location[0],e.location[1],.5]}.bind(this));this.markers.setLatLngs(i)}if("heatmap-count"==this.state.viewMode){this.mapView.current.map.removeLayer(this.markers);var o=g.ZP.max(e,(function(e){return Number(e.doc_count)})).doc_count;this.markers=B().heatLayer([],{minOpacity:.35,radius:18,blur:15,max:o,maxZoom:0}),this.markers.addTo(this.mapView.current.map),i=g.ZP.map(e,function(e){return[e.location[0],e.location[1],e.doc_count]}.bind(this)),this.markers.setLatLngs(i)}this.props.onMapUpdate&&this.props.onMapUpdate()}render(){return a.createElement("div",{className:"map-wrapper"+(this.state.loading?" map-loading":"")},this.props.children,!this.props.hideMapmodeMenu&&a.createElement("div",{className:"map-viewmode-menu"},a.createElement("a",{className:"icon-marker"+("clusters"==this.state.viewMode?" selected":""),"data-viewmode":"clusters",onClick:this.changeViewMode},a.createElement("span",null,"Cluster")),!this.props.disableHeatmapMode&&a.createElement("a",{className:"icon-heatmap"+("heatmap-count"==this.state.viewMode?" selected":""),"data-viewmode":"heatmap-count",onClick:this.changeViewMode},a.createElement("span",null,"Heatmap")),!this.props.disableCirclesMode&&a.createElement("a",{className:"icon-circles"+("circles"==this.state.viewMode?" selected":""),"data-viewmode":"circles",onClick:this.changeViewMode},a.createElement("span",null,"Circles"))),a.createElement("div",{className:"map-progress"},a.createElement("div",{className:"indicator"})),a.createElement(T,{ref:this.mapView,className:"map-view",layersControlPosition:this.props.layersControlPosition||"bottomright",zoomControlPosition:this.props.zoomControlPosition||"bottomright",disableLocateControl:!0,scrollWheelZoom:!0,zoom:this.props.zoom,center:this.props.center,disableSwedenMap:this.props.disableSwedenMap,onBaseLayerChange:this.mapBaseLayerChangeHandler}))}}class W{constructor(e){this.url=S.apiUrl+"documents/",this.onComplete=e}fetch(e){var t=[];if(e.record_ids)t.push("documents="+e.record_ids);else{var n=g.ZP.defaults(e,S.requiredParams);for(var a in n.search&&("person"==n.search_field&&(n.person=n.search,delete n.search),"place"==n.search_field&&(n.place=n.search,delete n.search),delete n.search_field),n)n[a]&&t.push(a+"="+n[a])}var r=t.join("&");fetch(this.url+"?"+r).then((function(e){return e.json()})).then(function(e){this.onComplete&&this.onComplete(e)}.bind(this)).catch((function(e){console.log("parsing failed",e)}))}}class Z extends a.Component{constructor(e){super(e),this.state={isPlaying:!1},this.playButtonClickHandler=this.playButtonClickHandler.bind(this),this.audioPlayerPlayHandler=this.audioPlayerPlayHandler.bind(this),this.audioPlayerStopHandler=this.audioPlayerStopHandler.bind(this)}audioPlayerPlayHandler(){this.setState({isPlaying:window.isofAudioPlayer&&window.isofAudioPlayer.currentAudio&&window.isofAudioPlayer.currentAudio.record==this.props.recordId&&window.isofAudioPlayer.currentAudio.media==this.props.media.source&&window.isofAudioPlayer.currentAudio.playing})}audioPlayerStopHandler(){this.setState({isPlaying:window.isofAudioPlayer&&window.isofAudioPlayer.currentAudio&&window.isofAudioPlayer.currentAudio.record==this.props.recordId&&window.isofAudioPlayer.currentAudio.media==this.props.media.source&&window.isofAudioPlayer.currentAudio.playing})}componentDidMount(){window.eventBus&&(window.eventBus.addEventListener("audio.play",this.audioPlayerPlayHandler),window.eventBus.addEventListener("audio.stop",this.audioPlayerStopHandler)),window.isofAudioPlayer&&window.isofAudioPlayer.currentAudio&&window.isofAudioPlayer.currentAudio.record==this.props.recordId&&this.props.media&&window.isofAudioPlayer.currentAudio.media==this.props.media.source&&window.isofAudioPlayer.currentAudio.playing&&this.setState({isPlaying:!0})}componentWillUnmount(){window.eventBus&&(window.eventBus.removeEventListener("audio.play",this.audioPlayerPlayHandler),window.eventBus.removeEventListener("audio.stop",this.audioPlayerStopHandler))}playButtonClickHandler(e){this.props.disablePlayback||(e.stopPropagation(),e.preventDefault(),window.eventBus&&(window.isofAudioPlayer&&window.isofAudioPlayer.currentAudio&&window.isofAudioPlayer.currentAudio.record==this.props.recordId&&window.isofAudioPlayer.currentAudio.media==this.props.media.source&&window.isofAudioPlayer.currentAudio.playing?window.eventBus.dispatch("audio.pauseaudio"):window.eventBus.dispatch("audio.playaudio",{record:{id:this.props.recordId,title:this.props.recordTitle},audio:this.props.media})))}render(){return a.createElement("button",{alt:"Spela",className:"play-button"+(this.state.isPlaying?" playing":""),onClick:this.playButtonClickHandler})}}const K=e=>{if(!e||!e[0])return"";const{name:t,landskap:n,fylke:a}=e[0];let r=t;return(n||a)&&(r+=", "+(n||a)),r};class Y extends a.Component{constructor(e){super(e),this.transcribeButtonClick=this.transcribeButtonClick.bind(this)}transcribeButtonClick(){window.eventBus&&(this.props.random?window.eventBus.dispatch("overlay.transcribe",{random:!0}):window.eventBus.dispatch("overlay.transcribe",{url:S.siteUrl+"#/records/"+this.props.recordId,id:this.props.recordId,archiveId:this.props.archiveId,title:this.props.title,type:this.props.type,images:this.props.images,transcriptionType:this.props.transcriptionType,placeString:K(this.props.places)}))}render(){return a.createElement("button",{className:"transcribe-button"+(this.props.className?" "+this.props.className:""),onClick:this.props.onClick||this.transcribeButtonClick},this.props.label)}}function G(e){let t=`${e._source.archive.page}`;return e._source.archive.total_pages>1&&(t+=`-${parseInt(e._source.archive.page)+(e._source.archive.total_pages-1)}`),t}function $(e,t){return 1==!!e?e:t?t.length>300?`[${t.substring(0,284)} (FÖRKORTAD TITEL)]`:`[${t}]`:null}function X(e){const[t,n=""]=e.match(/^(\D*)(\d+)?/).slice(1);return[t.toUpperCase(),n.replace(/^0+/,"")].join(" ")}const q=n.p+"img/pdf.gif";class J extends a.Component{constructor(e){super(e),this.state={subrecords:[],total:void 0,fetchedSubrecords:!1},this.fetchData=this.fetchData.bind(this),this.collections=new W(function(e){e.data&&0!=e.data.length||window.eventBus&&window.eventBus.dispatch("popup-notification.notify",null,l("Inga sökträffar")),this.setState({subrecords:e.data,total:e.metadata.total.value||e.metadata.total,fetchingPage:!1})}.bind(this))}fetchData(){this.setState({fetchedSubrecords:!0});var e={search:this.props.id,recordtype:"one_record"};this.collections.fetch(e)}renderFieldArchiveId(){return"one_accession_row"==this.props.item._source.recordtype?a.createElement("td",{className:"table-buttons","data-title":l("Arkivnummer")+":"},a.createElement("span",null,X(this.props.item._source.archive.archive_id),this.props.item._source.archive.page&&":"+this.props.item._source.archive.page)):"one_record"==this.props.item._source.recordtype?a.createElement("td",{className:"table-buttons","data-title":l("Arkivnummer")+":"},a.createElement("span",{style:{whiteSpace:"nowrap"}},a.createElement("a",{"data-archiveidrow":this.props.item._source.archive.archive_id_row,"data-search":this.props.searchParams.search?this.props.searchParams.search:"","data-recordtype":this.props.searchParams.recordtype,onClick:this.props.archiveIdClick,title:`Gå till accessionen ${this.props.item._source.archive.archive_id_row}`,style:{cursor:this.props.item._source.archive.archive_id_row?"pointer":"inherit"}},X(this.props.item._source.archive.archive_id)),this.props.item._source.archive.page&&":"+G(this.props.item))):a.createElement("td",{className:"table-buttons","data-title":l("Arkivnummer")+":"},a.createElement("span",{style:{whiteSpace:"nowrap"}},a.createElement("a",{"data-archiveid":this.props.item._source.archive.archive_id,"data-recordtype":"one_accession_row"===this.props.searchParams.recordtype?"one_record":"one_accession_row",onClick:this.props.archiveIdClick,title:"Gå till "+("one_accession_row"===this.props.searchParams.recordtype?"uppteckningarna":"accessionerna"),style:{cursor:"pointer"}},X(this.props.item._source.archive.archive_id)),this.props.item._source.archive.page&&":"+this.props.item._source.archive.page))}shouldRenderColumn(e){return this.props.shouldRenderColumn(e,this.props)}render(){const e=this;if(S.siteOptions.recordList&&S.siteOptions.recordList.displayPlayButton)var t=g.ZP.find(this.props.item._source.media,(function(e){return"audio"==e.type}));const n=a.createElement("div",{className:"subrecords"},!1===this.state.fetchedSubrecords?a.createElement("small",null,a.createElement("a",{onClick:this.fetchData},a.createElement(w.G,{icon:v.Pk})," Visa uppteckningar (",this.props.item._source.numberofonerecord,")")):a.createElement("small",null,a.createElement(w.G,{icon:v.cC_})," Uppteckningar i den här accessionen (",this.props.item._source.numberofonerecord,"):"),a.createElement("ul",null,this.state.subrecords.sort(((e,t)=>parseInt(e._source.archive.page)>parseInt(t._source.archive.page)?1:-1)).map((function(t,n){const r="published"===t._source.transcriptionstatus;return a.createElement("li",{key:`subitem${t._source.id}`},a.createElement("small",null,a.createElement("a",{style:{fontWeight:r?"bold":""},href:`#/records/${t._source.id}${u.createSearchRoute(e.props.searchParams)}`},"Sida ",G(t),r&&`: ${t._source.title}`)))}))));var r,i,o=!1;if(this.props.highlightRecordsWithMetadataField&&g.ZP.findWhere(this.props.item._source.metadata,{type:this.props.highlightRecordsWithMetadataField})){o=!0;var s=this.props.item._source.text?this.props.item._source.text.length>300?this.props.item._source.text.substr(0,300)+"...":this.props.item._source.text:""}if(this.props.item._source.taxonomy){if(S.siteOptions.recordList&&S.siteOptions.recordList.visibleCategories)var p=S.siteOptions.recordList.visibleCategories;if(this.props.item._source.taxonomy.name)p?p.indexOf(this.props.item._source.taxonomy.type.toLowerCase())>-1&&(r=a.createElement("a",{href:"#/places/category/"+this.props.item._source.taxonomy.category.toLowerCase()+(this.props.routeParams?this.props.routeParams.replace(/category\/[^/]+/g,""):"")},l(this.props.item._source.taxonomy.name))):r=a.createElement("a",{href:"#/places/category/"+this.props.item._source.taxonomy.category.toLowerCase()+(this.props.routeParams?this.props.routeParams.replace(/category\/[^/]+/g,""):"")},l(this.props.item._source.taxonomy.name));else if(this.props.item._source.taxonomy.length>0&&(!S.siteOptions.recordList||1==!S.siteOptions.recordList.hideCategories)){const e=this.props;r=g.ZP.compact(g.ZP.map(e.item._source.taxonomy,(function(t,n){if(t.category){const r="#/places"+u.createSearchRoute({category:t.category.toLowerCase(),recordtype:e.searchParams.recordtype});if(!p)return a.createElement("a",{href:r},l(t.name));if(p.indexOf(t.type.toLowerCase())>-1)return a.createElement("a",{href:r,key:`record-list-item-${e.id}-${n}`},l(t.name))}})))}}if(this.props.item._source.persons&&S.siteOptions.recordList&&1==S.siteOptions.recordList.visibleCollecorPersons&&this.props.item._source.persons.length>0){const e=this.props;i=g.ZP.compact(g.ZP.map(e.item._source.persons,(function(t,n){if("c"==t.relation){var r="";if(e.routeParams){const t=u.createParamsFromSearchRoute(e.routeParams);r=u.createSearchRoute(g.ZP.omit(t,"page"))}const i="#/person/"+t.id.toLowerCase()+r;return a.createElement("a",{href:i,key:`record-list-item-${e.id}-${n}`},l(t.name))}return""})))}const c=this.props.item._source.transcribedby?a.createElement("span",{className:"transcribed-by"},this.props.item._source.transcribedby):"",d={untranscribed:"",nottranscribable:"",readytotranscribe:"Nej",undertranscription:"Skrivs av",transcribed:"Granskas",reviewing:"Granskas",needsimprovement:"Granskas",approved:"Granskas",published:"Avskriven"};let m,h=a.createElement("span",{className:"transcriptionstatus empty"});if(this.props.item._source.transcriptionstatus&&"accession"!==this.props.item._source.transcriptionstatus){const e=this.props.item._source.transcriptionstatus;h=a.createElement("span",{className:`transcriptionstatus ${e}`},e.replace(e,d[e]))}else if("accession"===this.props.item._source.transcriptionstatus&&this.props.item._source.numberofonerecord&&Number.isInteger(this.props.item._source.numberoftranscribedonerecord)){const e=0===this.props.item._source.numberofonerecord?0:Math.round(this.props.item._source.numberoftranscribedonerecord/this.props.item._source.numberofonerecord*100);h=a.createElement("div",{style:{marginRight:10}},`${this.props.item._source.numberoftranscribedonerecord} av ${this.props.item._source.numberofonerecord}`,a.createElement("br",null),a.createElement("div",{title:`${e}%`,style:{display:0===this.props.item._source.numberofonerecord?"none":"inline-block",width:"100%",maxWidth:200,backgroundColor:"#fff",height:10,border:"1px solid #01535d",borderRadius:3}},a.createElement("span",{style:{width:`${e}%`,display:"block",background:"#01535d",height:10}})))}m="Granskas"==h?"Titel granskas":"readytotranscribe"==this.props.item._source.transcriptionstatus?"Ej avskriven":$(this.props.item._source.title,this.props.item._source.contents);const f=(S.embeddedApp?window.applicationSettings&&window.applicationSettings.landingPage?window.applicationSettings.landingPage:S.siteUrl:"")+"#/records/"+this.props.id+u.createSearchRoute(this.props.searchParams);return a.createElement("tr",{className:"list-item"+(o?" highlighted":"")},this.shouldRenderColumn("title")&&a.createElement("td",{className:"text-larger"},a.createElement("a",{className:"item-title",target:S.embeddedApp?"_parent":"_self",href:f},S.siteOptions.recordList&&S.siteOptions.recordList.displayPlayButton&&null!=t&&a.createElement(Z,{disablePlayback:!0,media:t,recordId:this.props.item._source.id,recordTitle:this.props.item._source.title&&""!=this.props.item._source.title?this.props.item._source.title:l("(Utan titel)")}),m&&""!=m&&"[]"!=m?m:l("(Utan titel)"),this.props.item._source.media&&this.props.item._source.media.filter((e=>e.source&&e.source.includes(".pdf")))[0]&&a.createElement("sub",null,a.createElement("img",{src:q,style:{marginLeft:5}}))),o&&a.createElement("div",{className:"item-summary"},s),"one_accession_row"===this.props.item._source.recordtype&&0!==this.props.item._source.numberofonerecord&&n,"readytotranscribe"===this.props.item._source.transcriptionstatus&&this.props.item._source.media.length>0&&a.createElement(Y,{className:"button-primary",label:l("Skriv av"),title:this.props.item._source.title,recordId:this.props.item._source.id,archiveId:this.props.item._source.archive.archive_id,places:this.props.item._source.places,images:this.props.item._source.media,transcriptionType:this.props.item._source.transcriptiontype})),this.shouldRenderColumn("archive_id")&&(!S.siteOptions.recordList||1==!S.siteOptions.recordList.hideAccessionpage)&&this.renderFieldArchiveId(),this.shouldRenderColumn("category")&&(!S.siteOptions.recordList||1==!S.siteOptions.recordList.hideCategories&&"one_accession_row"!==this.props.searchParams.recordtype)&&a.createElement("td",{className:"table-buttons","data-title":l("Kategori")+":"},r),this.shouldRenderColumn("place")&&a.createElement("td",{className:"table-buttons","data-title":l("Ort")+":"},this.props.item._source.places&&this.props.item._source.places.length>0&&a.createElement("a",{target:S.embeddedApp?"_parent":"_self",href:(S.embeddedApp?window.applicationSettings&&window.applicationSettings.landingPage?window.applicationSettings.landingPage:S.siteUrl:"")+"#/places/"+this.props.item._source.places[0].id+u.createSearchRoute({recordtype:this.props.searchParams.recordtype})},K(this.props.item._source.places))),this.shouldRenderColumn("collector")&&(!S.siteOptions.recordList||1==S.siteOptions.recordList.visibleCollecorPersons)&&a.createElement("td",{className:"table-buttons","data-title":l("Insamlare")+":"},i),this.shouldRenderColumn("year")&&a.createElement("td",{className:"table-buttons","data-title":l("År")+":"},a.createElement("span",{className:"year"},this.props.item._source.year?this.props.item._source.year.split("-")[0]:"")),this.shouldRenderColumn("material_type")&&(!S.siteOptions.recordList||1==!S.siteOptions.recordList.hideMaterialType)&&a.createElement("td",{"data-title":l("Materialtyp")+":"},this.props.item._source.materialtype),this.shouldRenderColumn("transcription_status")&&a.createElement("td",{"data-title":l("Avskriftstatus")+":",className:"table-buttons"},h),this.props.columns&&this.props.columns.indexOf("transcribedby")>-1&&a.createElement("td",{"data-title":l("Transkriberad av")+":"},c))}}class Q extends a.Component{constructor(e){super(e),this.state={records:[],fetchingPage:!1,currentPage:1,sort:"archive.archive_id_row.keyword",order:"asc",loadedMore:!1},this.stepPage=this.stepPage.bind(this),this.sort=this.sort.bind(this),this.archiveIdClick=this.archiveIdClick.bind(this),this.loadMore=this.loadMore.bind(this),this.collections=new W((e=>{window.eventBus&&(window.eventBus.dispatch("recordList.totalRecords",e.metadata.total,e.metadata.total),window.eventBus.dispatch("recordList.fetchingPage",!1));let t="";"eq"!==e.metadata.total.relation&&(t="mer än "),this.setState({records:e.data,total:e.metadata.total.value||e.metadata.total,totalRelation:e.metadata.total.relation||"eq",fetchingPage:!1,totalPrefix:t})}))}componentDidMount(){this.setState({currentPage:this.props.searchParams.page||1},(()=>{this.fetchData(this.props.searchParams)})),this.interval=setInterval((()=>{this.props.interval&&(this.state.loadedMore?this.loadMore():this.fetchData(this.props.searchParams))}),this.props.interval)}componentWillUnmount(){this.interval&&clearInterval(this.interval)}shouldRenderColumn(e,t){const n=this.props?this.props:t;return!n.columns||n.columns.indexOf(e)>-1}archiveIdClick(e){const t=e.target.dataset.archiveidrow,n=e.target.dataset.recordtype,a={search:e.target.dataset.search,recordtype:n};t&&this.props.history.push("/records/"+t+u.createSearchRoute(a))}stepPage(e){const t=Number(e.target.dataset.pageStep);if(this.props.disableRouterPagination)this.setState({currentPage:this.state.currentPage+t},(()=>{this.fetchData(this.props.searchParams)}));else{const e=Object.assign({},this.props.searchParams,{page:Number(this.state.currentPage)+t});this.props.history.push("/places"+u.createSearchRoute(e))}}loadMore(){this.setState({currentPage:1,loadedMore:!0},(()=>{const e=Object.assign({},this.props.searchParams,{size:this.props.sizeMore});this.fetchData(e)}))}sort(e){this.setState({sort:e.target.name,order:void 0===this.state.order?"asc":this.state.sort===e.target.name&&"asc"===this.state.order?"desc":"asc",currentPage:1},(()=>{this.fetchData(this.props.searchParams)}))}fetchData(e){window.eventBus&&window.eventBus.dispatch("recordList.fetchingPage",!0),this.setState({fetchingPage:!0});const t={from:e.page?(e.page-1)*S.hitsPerPage:(this.state.currentPage-1)*S.hitsPerPage,size:e.size||S.hitsPerPage,search:e.search?encodeURIComponent(e.search):void 0,search_field:e.search_field||void 0,type:e.type,category:e.category&&e.category+""+(e.subcategory?","+e.subcategory:""),year_from:e.year_from||void 0,year_to:e.year_to||void 0,gender:e.gender?e.person_relation?e.person_relation+":"+e.gender:e.gender:void 0,birth_years:e.birth_years?e.person_relation?e.person_relation+":"+(e.gender?e.gender+":":"")+e.birth_years:e.birth_years:void 0,record_ids:e.record_ids||void 0,has_metadata:e.has_metadata||void 0,has_media:e.has_media||void 0,has_transcribed_records:e.has_transcribed_records||void 0,recordtype:e.recordtype||void 0,person_id:e.person_id||void 0,socken_id:e.place_id||void 0,transcriptionstatus:e.transcriptionstatus||void 0,sort:e.sort||this.state.sort||void 0,order:e.order||(this.state.order&&this.state.order?this.state.order:void 0)};S.filterParameterName&&S.filterParameterValues&&e&&"filter"in e&&("true"==e.filter||1==e.filter?t[S.filterParameterName]=S.filterParameterValues[1]:t[S.filterParameterName]=S.filterParameterValues[0]),this.collections.fetch(t)}renderListPagination(){return(this.state.total>0||this.state.fetchingPage)&&a.createElement("div",{className:"list-pagination"},a.createElement("hr",null),a.createElement("p",{className:"page-info"},a.createElement("strong",null,l("Visar")+" "+(this.state.currentPage*S.hitsPerPage-(S.hitsPerPage-1))+"-"+(this.state.currentPage*S.hitsPerPage>this.state.total?this.state.total:this.state.currentPage*S.hitsPerPage)+" "+l(this.state.total?"av":"")+l(this.state.totalPrefix||"")+" "+(this.state.total||""))),a.createElement("br",null),a.createElement("button",{disabled:1===this.state.currentPage,className:"button prev-button",onClick:this.stepPage,"data-page-step":-1},l("Föregående")),a.createElement("span",null," "),a.createElement("button",{disabled:this.state.total<=this.state.currentPage*S.hitsPerPage,className:"button next-button",onClick:this.stepPage,"data-page-step":1},l("Nästa")))}renderMoreButton(){return a.createElement("div",null,a.createElement("button",{className:"button",onClick:this.loadMore},l("Visa fler")))}render(){var e=u.createSearchRoute(this.props.searchParams),t=this.state.records?this.state.records.map(((t,n)=>a.createElement(J,{key:t._source.id,id:t._source.id,item:t,routeParams:e,highlightRecordsWithMetadataField:this.props.highlightRecordsWithMetadataField,searchParams:this.props.siteSearchParams||this.props.searchParams,archiveIdClick:this.archiveIdClick,shouldRenderColumn:this.shouldRenderColumn,columns:this.props.columns}))):[];return this.state.records?a.createElement("div",{className:(this.props.class?this.props.class:"")+" table-wrapper records-list list-container"+(0==this.state.records.length?" loading":this.state.fetchingPage?" loading-page":"")},!this.props.disableListPagination&&this.renderListPagination(),a.createElement("table",{width:"100%",className:"table-responsive"},a.createElement("thead",null,a.createElement("tr",null,this.shouldRenderColumn("title")&&a.createElement("th",{scope:"col"},l("Titel")),this.shouldRenderColumn("archive_id")&&(!S.siteOptions.recordList||1==!S.siteOptions.recordList.hideAccessionpage)&&a.createElement("th",{scope:"col"},a.createElement("a",{className:"sort",onClick:this.sort,name:"archive.archive_id_row.keyword"},"archive.archive_id_row.keyword"===this.state.sort&&("asc"===this.state.order?"▼":"▲"),l("Arkivnummer"),"one_record"===this.props.searchParams.recordtype?":Sida":"")),this.shouldRenderColumn("category")&&(!S.siteOptions.recordList||1==!S.siteOptions.recordList.hideCategories&&"one_accession_row"!==this.props.searchParams.recordtype)&&a.createElement("th",{scope:"col"},a.createElement("a",{className:"sort",onClick:this.sort,name:"taxonomy.category"},"taxonomy.category"===this.state.sort&&("asc"===this.state.order?"▼":"▲"),l("Kategori"))),this.shouldRenderColumn("place")&&a.createElement("th",{scope:"col"},l("Ort")),this.shouldRenderColumn("collector")&&(!S.siteOptions.recordList||!S.siteOptions.recordList.visibleCollecorPersons||1==S.siteOptions.recordList.visibleCollecorPersons)&&a.createElement("th",{scope:"col"},l("Insamlare")),this.shouldRenderColumn("year")&&a.createElement("th",{scope:"col"},a.createElement("a",{className:"sort",onClick:this.sort,name:"year"},"year"===this.state.sort&&("asc"===this.state.order?"▼":"▲"),l("År"))),this.shouldRenderColumn("material_type")&&!S.siteOptions.recordList||1==!S.siteOptions.recordList.hideMaterialType&&a.createElement("th",{scope:"col"},l("Materialtyp")),this.shouldRenderColumn("transcriptionstatus")&&(!S.siteOptions.recordList||1==!S.siteOptions.recordList.hideTranscriptionStatus)&&a.createElement("th",{scope:"col"},a.createElement("a",{className:"sort",onClick:this.sort,name:"transcriptionstatus.keyword"},"transcriptionstatus.keyword"===this.state.sort&&("asc"===this.state.order?"▼":"▲"),l("Avskriven"))),this.props.columns&&this.props.columns.indexOf("transcribedby")>-1&&a.createElement("th",{scope:"col"},l("Transkriberad av")))),a.createElement("tbody",null,t)),!this.props.disableListPagination&&this.renderListPagination(),this.props.sizeMore&&this.state.records.length<this.props.sizeMore&&this.renderMoreButton()):a.createElement("div",{className:"table-wrapper list-container"},a.createElement("h3",null,l("Inga sökträffar.")))}}class ee extends a.Component{constructor(e){super(e),this.state={persons:[]},this.url=S.apiUrl+(this.props.personType||"persons")+"/"}componentDidMount(){this.props.place&&this.handleProps(this.props)}UNSAFE_componentWillReceiveProps(e){e.place&&e.place!=this.props.place&&this.handleProps(e)}handleProps(e){var t={socken_id:e.place};e.includeNordic||(t.country=S.country),this.fetchData(t)}fetchData(e){var t=[],n=Object.assign({},S.requiredParams,e);for(var a in n)n[a]&&"page"!=a&&t.push(a+"="+n[a]);var r=t.join("&");this.setState({persons:[]},function(){fetch(this.url+"?"+r).then((function(e){return e.json()})).then(function(e){this.setState({persons:e.data})}.bind(this)).catch((function(e){console.log("parsing failed",e)}))}.bind(this))}render(){let e=this.props;var t=u.createSearchRoute(e),n=this.state.persons?this.state.persons.map(function(e,n){return a.createElement("tr",{key:n},a.createElement("td",null,1==!S.siteOptions.disablePersonLinks?1==S.siteOptions.disableInformantLinks&&"i"==e.relation?e.name:a.createElement("a",{href:"#/person/"+e.id+(t||"")},e.name?e.name:""):e.name),a.createElement("td",null,e.birth_year>0?e.birth_year:""))}.bind(this)):[];return this.state.persons&&this.state.persons.length>0?a.createElement("div",{className:"table-wrapper list-container"+(0==this.state.persons.length?" loading":"")},this.props.title&&a.createElement("h3",null,this.props.title),a.createElement("table",{width:"100%",className:"table-responsive"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,l("Namn")),a.createElement("th",null,l("Födelseår")))),a.createElement("tbody",null,n))):this.props.showNoResults?a.createElement("div",{className:"table-wrapper list-container"},a.createElement("h3",null,l("Inga sökträffar"))):null}}class te extends a.Component{constructor(e){super(e),this.mapView=a.createRef()}componentDidMount(){this.props.marker&&this.addMarker(this.props.marker),this.props.markers&&this.addMarkers(this.props.markers)}UNSAFE_componentWillReceiveProps(e){e.marker&&this.addMarker(e.marker),e.markers&&this.addMarkers(e.markers)}removeMarkers(){this.markers&&g.ZP.each(this.markers,function(e){this.mapView.current.map.removeLayer(e)}.bind(this))}addMarkers(e){this.removeMarkers(),this.markers=[],g.ZP.each(e,function(e){this.addMarker(e,!0)}.bind(this))}addMarker(e,t){if(t||this.removeMarkers(),e&&(e.lat&&e.lng||e.location&&e.location.lat&&e.location.lon)){var n=this.props.animate;this.marker&&!t&&(n=!0,this.mapView.current.map.removeLayer(this.marker));var a=Number(e.lat)&&Number(e.lng)?[Number(e.lat),Number(e.lng)]:e.location&&Number(e.location.lat)&&Number(e.location.lon)?[Number(e.location.lat),Number(e.location.lon)]:null;if(a){var r=B().marker(a,{title:e.label||e.name||null,icon:A.markerIcon});t?this.markers.push(r):this.marker=r,this.mapView.current.map.addLayer(r),this.mapView.current.map.panTo(a,{animate:n})}}}render(){return a.createElement(T,{ref:this.mapView})}}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ne.apply(this,arguments)}class ae extends a.Component{constructor(e){super(e),window.placeView=this,this.state={data:{},placeMarker:{}},this.url=S.restApiUrl+"locations/"}handleParams(e){const t={...e};"true"!=e.nordic&&(t.country=S.country),S.filterParameterName&&S.filterParameterValues&&"filter"in e&&("true"==e.filter||1==e.filter?t[S.filterParameterName]=S.filterParameterValues[1]:t[S.filterParameterName]=S.filterParameterValues[0]),this.fetchData(t);var n={};e.type&&(n.type=e.type),e.category&&(n.category=e.category),e.place_id&&(n.recordPlace=e.place_id),e.search&&(n.searchQuery=e.search),e.search_field&&(n.searchField=e.search_field),e.record_ids&&(n.record_ids=e.record_ids),e.has_metadata&&(n.has_metadata=e.has_metadata),e.gender&&(n.gender=e.gender),e.person_relation&&(n.person_relation=e.person_relation),e.birth_years&&(n.birth_years=e.birth_years),e.nordic&&(n.nordic=!0),e.recordtype&&(n.recordtype=e.recordtype),e.has_media&&(n.has_media=e.has_media),e.has_transcribed_records&&(n.has_transcribed_records=e.has_transcribed_records),e.transcriptionstatus&&(n.transcriptionstatus=e.transcriptionstatus),this.setState(n)}componentDidMount(){const e=u.createParamsFromPlacesRoute(this.props.location.pathname);this.handleParams(e)}fetchData(e){e.place_id&&fetch(this.url+e.place_id+"/").then((function(e){return e.json()})).then(function(e){this.setState({data:e}),document.title=e.name.replace(/ sn$/," socken")+" - "+S.siteTitle}.bind(this)).catch((function(e){console.log("parsing failed",e)}))}render(){let e=this.props;return this.state.data.informants&&this.state.data.informants.length>0&&this.state.data.informants.map(function(e,t){return a.createElement("tr",{key:t},a.createElement("td",null,a.createElement("a",{href:"#/person/"+e.id},e.name)),a.createElement("td",null,e.birth_year>0?e.birth_year:""))}.bind(this)),this.state.data.persons&&this.state.data.persons.length>0&&this.state.data.persons.map(function(e,t){return a.createElement("tr",{key:t},a.createElement("td",null,1==!S.siteOptions.disablePersonLinks?1==S.siteOptions.disableInformantLinks&&"i"==e.relation?e.name:a.createElement("a",{href:"#/person/"+e.id},e.name?e.name:""):e.name),a.createElement("td",null,e.birth_year>0?e.birth_year:""))}.bind(this)),this.state.data.records&&this.state.data.records.length>0&&this.state.data.records.map(function(e,t){return a.createElement("tr",{key:t},a.createElement("td",{"data-title":""},a.createElement("a",{href:"#/records/"+e.id},"inspelning"==e.type&&a.createElement(Z,null),e.title?e.title:"(Untitled)")),a.createElement("td",{"data-title":l("Kategori")},e.taxonomy.name),a.createElement("td",{"data-title":l("Ort")},e.places&&a.createElement("span",null,e.places[0].name+", "+e.places[0].landskap)),a.createElement("td",{"data-title":l("År")},e.year>0?e.year:""),a.createElement("td",{"data-title":l("Materialtyp")},e.materialtype))}.bind(this)),a.createElement("div",{className:"container"+(this.state.data.id?"":" loading")},a.createElement("div",{className:"container-header"},a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement("h2",null,this.state.data.name&&this.state.data.name.replace(/ sn$/," socken")),a.createElement("p",null,this.state.data.fylke?a.createElement("span",null,a.createElement("strong",null,l("Fylke"))," ",this.state.data.fylke):this.state.data.harad?a.createElement("span",null,a.createElement("strong",null,l("Härad")),": ",this.state.data.harad,", ",a.createElement("strong",null,l("Län")),": ",this.state.data.lan,", ",a.createElement("strong",null,l("Landskap")),": ",this.state.data.landskap):null)))),!e.hideMap&&a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement(te,{marker:this.state.data.location&&this.state.data.location.lat&&this.state.data.location.lon?{lat:this.state.data.location.lat,lng:this.state.data.location.lon,label:this.state.data.name}:null}))),a.createElement("div",{className:"row search-results-container"},a.createElement("div",{className:"twelve columns"},!this.props.showOnlyResults&&a.createElement("h3",null,l("Sökträffar")),a.createElement(s.AW,{path:"/places/:place_id([0-9]+)",render:e=>a.createElement(Q,ne({key:`PlaceView-RecordList-${e.location.pathname}`,disableRouterPagination:!0,highlightRecordsWithMetadataField:e.highlightRecordsWithMetadataField,searchParams:u.createParamsFromPlacesRoute(e.location.pathname)},e))}))),!this.props.showOnlyResults&&a.createElement("div",null,this.state.data.records&&this.state.data.records.length>0&&a.createElement("hr",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement("h3",null,"Samtliga ","one_accession_row"===this.props.searchParams.recordtype?"accessioner":"uppteckningar"," från orten"),a.createElement(s.AW,{path:"/places/:place_id([0-9]+)",render:e=>a.createElement(Q,{disableRouterPagination:!0,highlightRecordsWithMetadataField:e.highlightRecordsWithMetadataField,searchParams:{place_id:u.createParamsFromPlacesRoute(e.location.pathname).place_id,recordtype:u.createParamsFromPlacesRoute(e.location.pathname).recordtype}})})))),!S.siteOptions.placeView||1==!S.siteOptions.placeView.hideInformantPersonList&&a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement(ee,{personType:"informants",title:l("Intervjuade personer"),nordic:this.state.nordic,place:this.state.recordPlace}))))}}class re extends a.Component{constructor(e){super(e),this.contributeinfoButtonClick=this.contributeinfoButtonClick.bind(this)}contributeinfoButtonClick(){window.eventBus&&window.eventBus.dispatch("overlay.contributeinfo",{url:S.siteUrl+"#"+this.props.location.pathname,title:this.props.title,type:this.props.type,country:this.props.country,appUrl:S.appUrl,id:this.props.id})}render(){return a.createElement("button",{className:"feedback-button contributeinfo-button",onClick:this.contributeinfoButtonClick},l("Vet du mer?"))}}class ie extends a.Component{constructor(e){super(e),this.feedbackButtonClick=this.feedbackButtonClick.bind(this)}feedbackButtonClick(){window.eventBus&&window.eventBus.dispatch("overlay.feedback",{url:S.siteUrl+"#"+this.props.location.pathname,title:this.props.title,type:this.props.type,country:this.props.country,appUrl:S.appUrl})}render(){return a.createElement("button",{className:"feedback-button",onClick:this.feedbackButtonClick},l("Frågor och synpunkter"))}}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(this,arguments)}class se extends a.Component{constructor(e){super(e),this.state={data:{},personId:null},this.url=S.restApiUrl+"persons/"}componentDidMount(){this.fetchData(this.props.match.params)}fetchData(e){e.person_id&&fetch(this.url+e.person_id+"/").then((function(e){return e.json()})).then(function(e){this.setState({data:e}),e.name&&(document.title=e.name+" - "+S.siteTitle)}.bind(this)).catch((function(e){console.log("parsing failed",e)}))}render(){let e="";if(this.state.data.places&&this.state.data.places[0]){let t=this.state.data.places[0];t&&(e=t.name,t.landskap&&(e=e+", "+t.landskap),t.fylke&&(e=e+", "+t.fylke))}let t="";return window.applicationSettings&&window.applicationSettings.includeNordic&&(t="/nordic/true"),a.createElement("div",{className:"container"+(this.state.data.id?"":" loading")},a.createElement("div",{className:"container-header"},a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement("h2",null,this.state.data.name||""),a.createElement("p",null,(this.state.data.birth_year&&this.state.data.birth_year>0?l("Föddes")+" "+this.state.data.birth_year:"")+(this.state.data.birth_year&&this.state.data.birth_year>0&&this.state.data.places?" i ":""),this.state.data.places&&this.state.data.places.length>0&&a.createElement("a",{href:"#/places/"+this.state.data.places[0].id+t},e)))),!S.siteOptions.hideContactButton&&a.createElement(ie,oe({title:this.state.data.name||"",type:"Person"},this.props)),!S.siteOptions.hideContactButton&&a.createElement(re,{title:this.state.data.name||"",type:"Person"})),this.state.data.places&&this.state.data.places.length>0&&this.state.data.places[0].lat&&this.state.data.places[0].lng&&a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement(te,{marker:{lat:this.state.data.places[0].lat,lng:this.state.data.places[0].lng,label:this.state.data.places[0].name}}))),a.createElement("div",{className:"row"},a.createElement("div",{className:(this.state.data.imagepath?"eight":"twelve")+" columns"},this.state.data.biography&&a.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.data.biography.replace(/(?:\r\n|\r|\n)/g,"<br />")}})),this.state.data.imagepath&&a.createElement("div",{className:"four columns"},a.createElement("img",{className:"archive-image",src:(S.personImageUrl||S.imageUrl)+this.state.data.imagepath,alt:""}))),a.createElement("hr",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement("h3",null,l("Uppteckningar")),a.createElement(s.AW,{path:"/person/:person_id",render:e=>a.createElement(Q,{disableRouterPagination:!0,disableAutoFetch:!0,searchParams:{person_id:e.match.params.person_id}})}))))}}const le={_getList(){try{return localStorage.getItem(S.localLibraryName)?JSON.parse(localStorage.getItem(S.localLibraryName)):[]}catch(e){return[]}},_saveList(e){try{localStorage.setItem(S.localLibraryName,JSON.stringify(e))}catch(e){}},add(e){var t=this._getList();t.push(e),this._saveList(t)},remove(e){var t=this._getList();t=g.ZP.reject(t,(function(t){return"object"==typeof e?t.id==e.id:t.id==e})),this._saveList(t)},find(e){var t=this._getList();return g.ZP.findWhere(t,{id:e.id})},list(){return this._getList()}},pe=function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{return document.execCommand("copy"),!0}catch(e){return console.log("Unable to copy, unable to cope."),!1}document.body.removeChild(t)};class ce extends a.Component{constructor(e){super(e),this.linkClickHandler=this.linkClickHandler.bind(this),this.handleCopyLinkClick=this.handleCopyLinkClick.bind(this)}componentDidMount(){this.props.manualInit||setTimeout(function(){this.initialize()}.bind(this),500)}linkClickHandler(e){e.preventDefault(),pe(this.props.path)&&window.eventBus&&window.eventBus.dispatch("popup-notification.notify",null,l("Länk har kopierats."))}handleCopyLinkClick(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e.target),t.removeAllRanges(),t.addRange(n)}initialize(){if(!this.initialized){var e=function(){try{FB&&(FB.XFBML.parse(),this.fbInitialized=!0,this.fbInitialized&&this.twitterInitialized&&(this.initialized=!0))}catch(t){setTimeout(e,2e3)}}.bind(this);e();var t=function(){try{twttr&&(twttr.widgets.load(),this.twitterInitialized=!0,this.fbInitialized&&this.twitterInitialized&&(this.initialized=!0))}catch(e){setTimeout(t,2e3)}}.bind(this);t()}}render(){return a.createElement("div",{className:"share-buttons"},this.props.title&&""!=this.props.title&&a.createElement("div",null,a.createElement("label",null,this.props.title),a.createElement("div",{className:"u-cf"})),!this.props.hideLink&&a.createElement("div",null,a.createElement("a",{href:this.props.path,onClick:this.linkClickHandler},a.createElement(w.G,{icon:v.kZ_}))," ",a.createElement("span",{className:"copy-link",onClick:this.handleCopyLinkClick},this.props.path)))}}class de extends a.Component{constructor(e){super(e),this.state={messageContainerWidth:0,messageContainerHeight:0,elementContainerWidth:0,elementContainerHeight:0,messageVisible:!1},this.messageClickHandler=this.messageClickHandler.bind(this)}messageClickHandler(){this.setState({messageVisible:!1}),this.props.forgetAfterClick&&localStorage.setItem(this.props.messageId,"read")}show(){"read"!=localStorage.getItem(this.props.messageId)&&this.setState({messageVisible:!0})}componentDidMount(){this.setState({messageContainerWidth:this.refs.messageContainer.clientWidth,messageContainerHeight:this.refs.messageContainer.clientHeight,elementContainerWidth:this.refs.elementContainer.offsetWidth,elementContainerHeight:this.refs.elementContainer.offsetHeight}),this.props.closeTrigger&&this.refs.elementContainer.addEventListener&&this.refs.elementContainer.addEventListener(this.props.closeTrigger,this.messageClickHandler),this.props.manuallyOpen||(this.props.forgetAfterClick?"read"!=localStorage.getItem(this.props.messageId)&&setTimeout(function(){this.setState({messageVisible:!0})}.bind(this),this.props.openTimeout||2e3):setTimeout(function(){this.setState({messageVisible:!0})}.bind(this),this.props.openTimeout||2e3)),this.props.autoHide&&setTimeout(function(){this.setState({messageVisible:!1})}.bind(this),this.props.openDuration||15e3)}componentWillUnmount(){this.props.closeTrigger&&this.refs.elementContainer.addEventListener&&this.refs.elementContainer.removeEventListener(this.props.closeTrigger,this.messageClickHandler)}getContainerStyle(){var e=this.props.placement||"under",t={};return"above"==e&&(t.top=-this.state.messageContainerHeight-10+(Number(this.props.placementOffsetY)||0),t.left=-this.state.messageContainerWidth/2+this.state.elementContainerWidth/2+(Number(this.props.placementOffsetX)||0)),"under"==e&&(t.top=this.state.elementContainerHeight+10+(Number(this.props.placementOffsetY)||0),t.left=-this.state.messageContainerWidth/2+this.state.elementContainerWidth/2+(Number(this.props.placementOffsetX)||0)),t}getArrowStyle(){var e=this.props.placement||"under",t={};return"above"==e&&(t.top=this.state.messageContainerHeight,t.left=this.state.messageContainerWidth/2-5),"under"==e&&(t.top=-10,t.left=this.state.messageContainerWidth/2-5),t}render(){return a.createElement("div",{className:"element-notification-message"},a.createElement("div",{className:"element-container",ref:"elementContainer"},this.props.children),a.createElement("div",{ref:"messageContainer",onClick:this.messageClickHandler,className:"message-container"+(this.state.messageVisible?" visible":""),style:this.getContainerStyle()},a.createElement("div",{className:"message"},this.props.message),a.createElement("div",{className:"arrow arrow-"+(this.props.placement||"under"),style:this.getArrowStyle()}),a.createElement("div",{title:"stäng",className:"close-button white"})))}}class me extends a.Component{constructor(e){super(e),this.state={htmlContent:""}}componentDidMount(){this.props.url?this.fetchContent(this.props.url):this.props.htmlContent&&this.setState({htmlContent:this.props.htmlContent})}UNSAFE_componentWillReceiveProps(e){e.url&&this.fetchContent(e.url)}fetchContent(e){e=e.replace("http://","https://");var t=new Headers;t.append("Content-Type","text/html"),fetch(e,{method:"get",headers:t}).then(function(e){e.text().then(function(e){this.parseHtml(e)}.bind(this))}.bind(this)).catch((function(e){console.log("fetch error"),console.log(e)}))}parseHtml(e){var t=(new DOMParser).parseFromString(e,"text/html"),n=(t.getElementById("Rubrik"),t.getElementsByClassName("pagecontent")[0]);if(n){var a=n.innerHTML;a=(a=(a=(a=a.replace('src="/images/','src="'+config.isofHomepageUrl+"images/")).replace('srcset="/images/','srcset="'+config.isofHomepageUrl+"images/")).replace(", /images/",", "+config.isofHomepageUrl+"images/")).replace(", /images/",", "+config.isofHomepageUrl+"images/");var r=n.getElementsByTagName("script");this.setState({htmlContent:a},function(){this.props.disableScriptExecution||this.executeScripts(r)}.bind(this))}}executeScripts(e){g.ZP.each(e,(function(e){Function(e.innerHTML)()}))}render(){return a.createElement("div",{className:"sitevision-content"},a.createElement("div",{className:"sv-fluid-grid main-grid",dangerouslySetInnerHTML:{__html:this.state.htmlContent}}))}}class he extends a.Component{constructor(e){super(e),this.state={height:500}}componentDidMount(){this.props.url&&this.setState({url:this.props.url,height:this.props.height||500})}UNSAFE_componentWillReceiveProps(e){e.url&&this.setState({url:e.url,height:e.height||500})}render(){return a.createElement("div",{className:"pdf-viewer"},this.state.url&&a.createElement("object",{data:this.props.url,width:"100%",height:this.state.height,type:"application/pdf"},a.createElement("a",{href:this.props.url},"Öppna pdf")))}}const ue=n.p+"img/archive-logo-isof.png",ge=n.p+"img/archive-logo-ikos.png";function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fe.apply(this,arguments)}class be extends a.Component{constructor(e){super(e),window.config=S,window.recordView=this,this.toggleSaveRecord=this.toggleSaveRecord.bind(this),this.mediaImageClickHandler=this.mediaImageClickHandler.bind(this),this.archiveIdClick=this.archiveIdClick.bind(this),this.state={data:{},saved:!1,subrecords:[]},this.url=S.apiUrl+"document/",this.collections=new W(function(e){this.setState({subrecords:e.data})}.bind(this))}componentDidMount(){this.fetchData(u.createParamsFromRecordRoute(this.props.location.pathname)),this.state.data.archive&&this.fetchSubrecords()}componentDidUpdate(e,t){!this.state.data.archive||!this.state.data.archive.archive_id_row||t.data.archive&&t.data.archive.archive_id_row===this.state.data.archive.archive_id_row||this.fetchSubrecords()}componentWillUnmount(){window.eventBus&&window.eventBus.dispatch("overlay.hide")}toggleSaveRecord(){var e={id:this.state.data.id,title:this.state.data.title,place:this.state.data.places&&this.state.data.places.length>0?this.state.data.places[0].name:null};le.find(e)?(le.remove(e),this.setState({saved:!1})):(le.add(e),this.setState({saved:!0}),window.eventBus&&window.eventBus.dispatch("popup-notification.notify",null,"<strong>"+this.state.data.title+"</strong> "+l("har sparats till dina sägner")+"."))}mediaImageClickHandler(e){window.eventBus&&(console.log(e.currentTarget.dataset.image),window.eventBus.dispatch("overlay.viewimage",{imageUrl:e.currentTarget.dataset.image,type:e.currentTarget.dataset.type}))}archiveIdClick(e){const t=e.target.dataset.archiveidrow,n=e.target.dataset.recordtype,a={search:e.target.dataset.search,recordtype:n};t&&this.props.history.push("/records/"+t+u.createSearchRoute(a))}fetchData(e){let t="";"requiredParams"in S&&"index"in S.requiredParams&&(t="?index="+S.requiredParams.index),e.record_id&&fetch(this.url+e.record_id+"/"+t).then((function(e){return e.json()})).then(function(e){this.setState({data:e._source,saved:le.find({id:e._id})})}.bind(this)).catch((function(e){console.log("parsing failed",e)}))}fetchSubrecords(){var e={search:this.state.data.archive.archive_id_row,recordtype:"one_record"};this.collections.fetch(e)}getArchiveLogo(e){var t={};return t["Dialekt-, namn- och folkminnesarkivet i Göteborg"]=ue,t["Dialekt- och folkminnesarkivet i Uppsala"]=ue,t["Dialekt och folkminnesarkivet i Uppsala"]=ue,t.DAG="img/archive-logo-isof.png",t["Norsk folkeminnesamling"]=ge,t.NFS=ge,t.DFU=ge,t[e]?S.appUrl+t[e]:S.appUrl+t.DAG}render(){var e=[],t=[],n=[],r=u.createSearchRoute(u.createParamsFromRecordRoute(this.props.location.pathname));if(this.state.data){this.state.data.media&&this.state.data.media.length>0&&(e=g.ZP.filter(this.state.data.media,(function(e){return"image"==e.type})).map(function(e,t){if(-1==e.source.indexOf(".pdf"))return a.createElement("div",{"data-type":"image","data-image":e.source,onClick:this.mediaImageClickHandler,key:"image-"+t,className:"archive-image"},a.createElement("img",{src:S.imageUrl+e.source,alt:""}),e.title&&a.createElement("div",{className:"media-title sv-portlet-image-caption"},e.title))}.bind(this)),n=g.ZP.filter(this.state.data.media,(function(e){return"audio"==e.type})).map(function(e,t){return a.createElement("tr",{key:t},a.createElement("td",{"data-title":"Lyssna:",width:"50px"},a.createElement(Z,{media:e,recordId:this.state.data.id,recordTitle:this.state.data.title})),a.createElement("td",null,e.title.length>0?e.title:this.state.data.title))}.bind(this)),t=g.ZP.filter(this.state.data.media,(function(e){return"pdf"==e.type})).map(function(e,t){return a.createElement("a",{"data-type":"pdf",href:S.pdfUrl+e.source,key:"pdf-"+t,className:"archive-image pdf",download:!0},a.createElement("div",{className:"pdf-icon"}),e.title&&a.createElement("div",{className:"media-title sv-portlet-image-caption"},e.title))}.bind(this)),S.siteOptions.recordView&&S.siteOptions.recordView.imagePosition==S.siteOptions.recordView.pdfIconsPosition&&(e=e.concat(t),t=[]));var i=this.state.data.persons&&this.state.data.persons.length>0?this.state.data.persons.map((function(e,t){return a.createElement("tr",{key:t},a.createElement("td",{"data-title":""},1==!S.siteOptions.disablePersonLinks?1==S.siteOptions.disableInformantLinks&&"i"==e.relation?e.name:a.createElement("a",{href:"#/person/"+e.id+(r||"")},e.name?e.name:""):e.name),a.createElement("td",{"data-title":"Födelseår"},e.birth_year&&e.birth_year>0?e.birth_year:""),a.createElement("td",{"data-title":"Födelseort"},e.home&&e.home.length>0&&a.createElement("a",{href:"#/places/"+e.home[0].id+(r||"")},e.home[0].name+", "+e.home[0].harad),e.birthplace?` ${e.birthplace}`:""),a.createElement("td",{"data-title":"Roll"},"c"==e.relation?l("Upptecknare"):"i"==e.relation?l("Informant"):""))})):[],o=this.state.data.places&&this.state.data.places.length>0?this.state.data.places.map((function(e,t){return a.createElement("tr",{key:t},a.createElement("td",null,a.createElement("a",{href:"#/places/"+e.id+(r||"")},e.name+", "+(e.fylke?e.fylke:e.harad))))})):[];let h;var s,p=!1,c=g.ZP.find(this.state.data.metadata,(function(e){return"sitevision_url"==e.type}));if(c)h=a.createElement(me,{url:c.value});else if("readytotranscribe"==this.state.data.transcriptionstatus&&this.state.data.media.length>0)h=a.createElement("div",null,a.createElement("p",null,a.createElement("strong",null,l("Den här uppteckningen är inte avskriven.")),a.createElement("br",null),a.createElement("br",null),l("Vill du vara med och tillgängliggöra samlingarna för fler? Hjälp oss att skriva av berättelser!")),a.createElement(Y,{className:"button-primary",label:l("Skriv av"),title:this.state.data.title,recordId:this.state.data.id,archiveId:this.state.data.archive.archive_id,places:this.state.data.places,images:this.state.data.media,transcriptionType:this.state.data.transcriptiontype}));else{let e,t=[];g.ZP.filter(this.state.data.media,(function(e){return"pdf"==e.type})).length>=1&&0==g.ZP.filter(this.state.data.media,(function(e){return"image"==e.type})).length&&0==g.ZP.filter(this.state.data.media,(function(e){return"audio"==e.type})).length&&(e=g.ZP.filter(this.state.data.media,(function(e){return"pdf"==e.type})),p=!0);let n=this.state.data.text;if(n&&n.includes("<p>Uppslagsord:</p>")){let e='<p><label for="toggle">Uppslagsord</label></p>',t=n.split("<p>Uppslagsord:</p>");n=t[0]+e+'<input type="checkbox" id="toggle" class="visually-hidden"/ ><div class="realkatalog-content">'+t[1]+"</div>"}e?.length>0&&e.forEach((function(e,n){t.push(a.createElement(he,{height:"800",url:(S.pdfUrl||S.imageUrl)+e.source,key:n}))})),h=a.createElement("div",null,a.createElement("div",{className:"record-text-container"},n?n.split(/\/\s*$/m).map(((e,t)=>a.createElement("div",{key:t,className:"record-text display-line-breaks",dangerouslySetInnerHTML:{__html:e.replace(/^\s*|\s*$/g,"")}}))):""),t.length?t:"")}this.state.data.taxonomy&&(this.state.data.taxonomy.name?s=a.createElement("p",null,a.createElement("strong",null,l("Kategori")),a.createElement("br",null),a.createElement("a",{href:"#/places/category/"+this.state.data.taxonomy.category.toLowerCase()+(r||"")},l(this.state.data.taxonomy.name))):this.state.data.taxonomy.length>0&&(s=a.createElement("p",null,a.createElement("strong",null,l("Kategori")),a.createElement("br",null),a.createElement("span",{dangerouslySetInnerHTML:{__html:g.ZP.map(g.ZP.filter(this.state.data.taxonomy,(function(e){return e.category})),(function(e){return'<a href="#/places/category/'+e.category.toLowerCase()+(r||"")+'">'+l(e.name)+"</a>"})).join(", ")}}))));let f="unknown";"archive"in this.state.data&&"country"in this.state.data.archive&&(f=this.state.data.archive.country);var d=[];if(this.state.data.metadata?.length&&S.siteOptions.recordView?.visible_metadata_fields?.length){var m=0;g.ZP.each(this.state.data.metadata,(function(e,t){S.siteOptions.recordView.visible_metadata_fields.indexOf(e.type)>-1&&(m++,d.push(a.createElement("div",{className:"grid-item",key:e.type},a.createElement("p",null,a.createElement("strong",null,function(e){return S.siteOptions.metadataLabels&&S.siteOptions.metadataLabels[e]?S.siteOptions.metadataLabels[e]:e}(e.type)),a.createElement("br",null),e.value))),m%3==0&&d.push(a.createElement("div",{className:"grid-divider-3 u-cf",key:"cf-"+t})),m%2==0&&d.push(a.createElement("div",{className:"grid-divider-2 u-cf",key:"cf-"+t})))}))}let b,w="";if(this.state.data?.archive?.page&&(w=this.state.data.archive.page,w&&-1==w.indexOf("-")&&this.state.data.archive.total_pages)){"string"==typeof w&&(w=w.replace(/\D/g,""),w=parseInt(w));let e=parseInt(this.state.data.archive.total_pages);if(e>1){let t=w;t=t+e-1,w=w.toString()+"-"+t.toString()}}let v=this.state.data.transcriptionstatus;b="undertranscription"==v||"transcribed"==v||"reviewing"==v||"needsimprovement"==v||"approved"==v?"Titel granskas":"readytotranscribe"==this.state.data.transcriptionstatus?"Ej avskriven":$(this.state.data.title,this.state.data.contents),b&&(document.title=b+" - "+S.siteTitle);const y=this;return a.createElement("div",{className:"container"+(this.state.data.id?"":" loading")},a.createElement("div",{className:"container-header"},a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement("h2",null,b&&""!=b&&"[]"!=b?b:l("(Utan titel)")," ",a.createElement(de,{placement:"under",placementOffsetX:"-1",messageId:"saveLegendsNotification",forgetAfterClick:!0,closeTrigger:"click",autoHide:!0,message:l("Klicka på stjärnan för att spara sägner till din egen lista.")},a.createElement("button",{className:"save-button"+(this.state.saved?" saved":""),onClick:this.toggleSaveRecord},a.createElement("span",null,l("Spara"))))),a.createElement("p",null,"one_accession_row"===this.state.data.recordtype&&l("Accession"),"one_record"===this.state.data.recordtype&&l("Uppteckning")),a.createElement("p",null,this.state.data.archive?.archive&&a.createElement("span",null,a.createElement("strong",null,l("Accessionsnummer")),": ","one_record"===this.state.data.recordtype?a.createElement("a",{"data-archiveidrow":this.state.data.archive.archive_id_row,"data-search":this.props.searchParams.search?this.props.searchParams.search:"","data-recordtype":this.props.searchParams.recordtype,onClick:this.archiveIdClick,title:`Gå till accessionen ${this.state.data.archive.archive_id_row}`,style:{cursor:this.state.data.archive.archive_id_row?"pointer":"inherit",textDecoration:"underline"}},X(this.state.data.archive.archive_id)):X(this.state.data.archive.archive_id)),"one_accession_row"===this.state.data.recordtype&&!!this.state.data.numberofonerecord&&a.createElement("span",{style:{marginLeft:10}},a.createElement("strong",null,l("Antal uppteckningar")),": ",this.state.data.numberofonerecord),!!this.state.data.archive&&!!this.state.data.archive.archive&&!!w&&a.createElement("span",{style:{marginLeft:10}},a.createElement("strong",null,l("Sidnummer")),": ",w),(!S.siteOptions.recordView||!S.siteOptions.recordView.hideMaterialType)&&a.createElement("span",{style:{marginLeft:10}},a.createElement("strong",null,"Materialtyp"),": ",this.state.data.materialtype)))),!S.siteOptions.hideContactButton&&a.createElement(ie,fe({title:this.state.data.title,type:"Uppteckning",country:f},this.props)),!S.siteOptions.hideContactButton&&a.createElement(re,fe({title:this.state.data.title,type:"Uppteckning",country:f,id:this.state.data.id},this.props))),a.createElement("div",{className:"row"},(this.state.data.text||h)&&a.createElement("div",{className:(c||0==e.length||p||S.siteOptions.recordView&&"under"==S.siteOptions.recordView.audioPlayerPosition&&S.siteOptions.recordView&&"under"==S.siteOptions.recordView.imagePosition&&S.siteOptions.recordView&&"under"==S.siteOptions.recordView.pdfIconsPosition?"twelve":"eight")+" columns"},h,this.state.data.comment&&""!=this.state.data.comment&&a.createElement("p",{className:"text-small"},a.createElement("strong",null,l("Kommentarer")+":"),a.createElement("br",null),a.createElement("div",{className:"display-line-breaks",dangerouslySetInnerHTML:{__html:this.state.data.comment}})),this.state.data.transcribedby&&""!=this.state.data.transcribedby&&a.createElement("p",{className:"text-small"},a.createElement("strong",null,l("Transkriberad av")+": "),a.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.data.transcribedby}})),this.state.data.source&&"tryckt"==this.state.data.materialtype&&a.createElement("p",{className:"text-small"},a.createElement("strong",null,l("Tryckt källa")+": "),a.createElement("em",null,this.state.data.source)),n.length>0&&(c||p||S.siteOptions.recordView&&"under"==S.siteOptions.recordView.audioPlayerPosition)&&a.createElement("div",{className:"table-wrapper"},a.createElement("table",{width:"100%"},a.createElement("tbody",null,n))),e.length>0&&(c||p||S.siteOptions.recordView&&"under"==S.siteOptions.recordView.imagePosition)&&a.createElement("div",null,e),t.length>0&&(c||p||S.siteOptions.recordView&&"under"==S.siteOptions.recordView.pdfIconsPosition)&&a.createElement("div",null,t)),!c&&!p&&(!S.siteOptions.recordView||!S.siteOptions.recordView.imagePosition||"right"==S.siteOptions.recordView.imagePosition||!S.siteOptions.recordView.pdfIconsPosition||"right"==S.siteOptions.recordView.pdfIconsPosition||!S.siteOptions.recordView.audioPlayerPosition||"right"==S.siteOptions.recordView.audioPlayerPosition)&&(e.length>0||n.length>0||t.length>0)&&a.createElement("div",{className:"columns four u-pull-right"},(!S.siteOptions.recordView||!S.siteOptions.recordView.audioPlayerPosition||"right"==S.siteOptions.recordView.audioPlayerPosition)&&n.length>0&&a.createElement("div",{className:"table-wrapper"},a.createElement("table",{width:"100%"},a.createElement("tbody",null,n))),(!S.siteOptions.recordView||!S.siteOptions.recordView.imagePosition||"right"==S.siteOptions.recordView.imagePosition)&&e.length>0&&e,(!S.siteOptions.recordView||!S.siteOptions.recordView.pdfIconsPosition||"right"==S.siteOptions.recordView.pdfIconsPosition)&&t.length>0&&t)),d.length>0&&a.createElement("div",{className:"grid-items"},d,a.createElement("div",{className:"u-cf"})),a.createElement("div",{className:"row"},a.createElement("div",{className:"six columns"},a.createElement(ce,{path:S.siteUrl+"#/records/"+this.state.data.id,text:'"'+this.state.data.title+'"',title:l("Kopiera länk")})),S.siteOptions&&S.siteOptions.copyrightContent&&this.state.data.copyrightlicense&&a.createElement("div",{className:"six columns"},a.createElement("div",{className:"copyright",dangerouslySetInnerHTML:{__html:S.siteOptions.copyrightContent[this.state.data.copyrightlicense]}}))),a.createElement("hr",null),"one_accession_row"==this.state.data.recordtype&&a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement("h3",null,l("Uppteckningar")),0===this.state.subrecords.length&&a.createElement("span",null,"Inga resultat"),a.createElement("ul",null,this.state.subrecords.sort(((e,t)=>parseInt(e._source.archive.page)>parseInt(t._source.archive.page)?1:-1)).map((function(e,t){return a.createElement("li",{key:`subitem${e._source.id}`},a.createElement("small",null,a.createElement("a",{href:`#/records/${e._source.id}${u.createSearchRoute(u.createParamsFromRecordRoute(y.props.location.pathname))}`},"Sida ",G(e))))}))))),a.createElement("hr",null),i.length>0&&a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement("h3",null,l("Personer")),a.createElement("div",{className:"table-wrapper"},a.createElement("table",{width:"100%",className:"table-responsive"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,l("Namn")),a.createElement("th",null,l("Födelseår")),a.createElement("th",null,l("Födelseort")),a.createElement("th",null,l("Roll")))),a.createElement("tbody",null,i))))),i.length>0&&o.length>0&&a.createElement("hr",null),o.length>0&&a.createElement("div",{className:"row"},a.createElement("div",{className:"six columns"},a.createElement("h3",null,l("Platser")),a.createElement("div",{className:"table-wrapper"},a.createElement("table",{width:"100%"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,l("Namn")))),a.createElement("tbody",null,o)))),a.createElement("div",{className:"six columns"},this.state.data.places&&this.state.data.places.length>0&&this.state.data.places[0].location.lat&&this.state.data.places[0].location.lon&&a.createElement(te,{markers:this.state.data.places}))),a.createElement("hr",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"four columns"},this.state.data.archive&&this.state.data.archive.archive&&a.createElement("p",null,a.createElement("strong",null,l("Arkiv")),a.createElement("br",null),this.state.data.archive.archive),this.state.data.archive&&this.state.data.archive.archive&&a.createElement("p",null,a.createElement("strong",null,l("Acc. nr")),a.createElement("br",null),this.state.data.archive.archive_id),this.state.data.archive&&this.state.data.archive.archive&&a.createElement("p",null,a.createElement("strong",null,l("Sidnummer")),a.createElement("br",null),w)),a.createElement("div",{className:"four columns"},this.state.data.materialtype&&a.createElement("p",null,a.createElement("strong",null,l("Materialtyp")),a.createElement("br",null),this.state.data.materialtype?this.state.data.materialtype.charAt(0).toUpperCase()+this.state.data.materialtype.slice(1):""),s),a.createElement("div",{className:"four columns"},this.state.data.year&&a.createElement("p",null,a.createElement("strong",null,l("År")),a.createElement("br",null),this.state.data.year.substring(0,4)),this.state.data.source&&a.createElement("p",null,a.createElement("strong",null,l("Tryckt källa")),a.createElement("br",null),this.state.data.source),this.state.data.archive&&this.state.data.archive.archive&&a.createElement("p",null,a.createElement("img",{src:this.getArchiveLogo(this.state.data.archive.archive),style:{width:"100%"}})))))}return a.createElement("div",{className:"container"},a.createElement("div",{className:"container-header"},a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement("h2",null,l("Finns inte"))))),a.createElement("div",{className:"row"},a.createElement("p",null,"Post "+this.props.match.params.record_id+" finns inte.")))}}class we extends a.Component{constructor(e){super(e),this.closeButtonClick=this.closeButtonClick.bind(this),this.closeButtonKeyUp=this.closeButtonKeyUp.bind(this),this.openButtonClickHandler=this.openButtonClickHandler.bind(this),this.openButtonKeyUpHandler=this.openButtonKeyUpHandler.bind(this),this.languageChangedHandler=this.languageChangedHandler.bind(this),this.showRoutePopup=this.showRoutePopup.bind(this),this.state={windowOpen:!1,manualOpen:!1}}closeButtonKeyUp(e){13==e.keyCode&&this.closeButtonClick(e)}closeButtonClick(){this.props.children.props.manuallyOpenPopup?this.setState({windowOpen:!1,manualOpen:!1}):this.props.onClose&&this.props.onClose()}openButtonKeyUpHandler(e){13==e.keyCode&&this.openButtonClickHandler(e)}openButtonClickHandler(){this.setState({windowOpen:!0,manualOpen:!0})}languageChangedHandler(){this.forceUpdate()}showRoutePopup(){this.setState({windowOpen:!1,manualOpen:!0})}componentDidMount(){window.eventBus&&(window.eventBus.addEventListener("Lang.setCurrentLang",this.languageChangedHandler),window.eventBus.addEventListener("routePopup.show",this.showRoutePopup)),this.setState({windowOpen:Boolean(this.props.children)&&!this.props.children.props.manuallyOpenPopup})}UNSAFE_componentWillReceiveProps(e){this.setState({windowOpen:Boolean(e.children)&&!e.children.props.manuallyOpenPopup}),!e.children!=this.props.children||this.props.disableAutoScrolling||this.refs.contentWrapper.scrollTo(0,0)}componentWillUnmount(){window.eventBus&&window.eventBus.removeEventListener("Lang.setCurrentLang",this.languageChangedHandler)}componentWillUnmount(){this.props.onHide&&this.props.onHide(),window.eventBus&&window.eventBus.dispatch("popup.close")}render(){return this.state.windowOpen||this.state.manualOpen?(this.props.onShow&&this.props.onShow(),window.eventBus&&setTimeout(function(){window.eventBus.dispatch("popup.open")}.bind(this),100)):(this.props.onHide&&this.props.onHide(),window.eventBus&&setTimeout(function(){window.eventBus.dispatch("popup.close")}.bind(this),100)),a.createElement("div",{className:"popup-wrapper"+(this.state.windowOpen||this.state.manualOpen?" visible":"")},a.createElement("div",{ref:"contentWrapper",className:"popup-content-wrapper"},a.createElement("div",{className:"page-content"},a.createElement("a",{tabIndex:0,className:"close-button"+("dark"==this.props.closeButtonStyle?"":(this.props.closeButtonStyle," white")),onClick:this.closeButtonClick,onKeyUp:this.closeButtonKeyUp}),this.props.children)))}}var ve=n(1472),ye=n(6486),xe=n.n(ye);function ke(e){const[t,n]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0),[o,s]=(0,a.useState)(!1),l=(0,ve.useSpring)({from:{number:0},number:t,config:{duration:1e3}}),p=()=>{let t=[],a=xe().defaults(e.params,S.requiredParams);for(var r in a)a[r]&&t.push(r+"="+a[r]);let o=t.join("&");fetch(S.apiUrl+"count?"+o).then((e=>{if(e.ok)return e.json();throw new Error("Fel vid hämtning av statistik")})).then((e=>{n(e.data.value),i(!1),s(!1)})).catch((e=>{i(!1),s(!0)}))};return(0,a.useEffect)((()=>{if(e.visible){p();const e=setInterval((()=>{p()}),6e4);return()=>clearInterval(e)}}),[e.visible]),a.createElement("div",{className:"short-statistics"},!t&&r&&a.createElement("div",{className:"loading"},"Hämtar statistik..."),o&&a.createElement("div",{className:"error"},"Fel vid hämtning av statistik"),!r&&!o&&e.visible&&a.createElement(ve.animated.div,{className:"value"},l.number.interpolate((e=>Math.floor(e)))),!r&&!o&&a.createElement("div",{className:"label"},e.label))}function Ee(e){const[t,n]=(0,a.useState)(!1),[r,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{window.eventBus.addEventListener("overlay.sideMenu",(function(e,t){"visible"===e.target&&(n(!0),i(!0))}))}),[]),a.createElement("div",{className:"statistics-overlay "+(t?"visible":"")},a.createElement("div",{className:"container-header"},a.createElement("a",{className:"close-button white",onClick:()=>n(!1)}),a.createElement("h2",null,"Upptäck")),a.createElement("div",{className:"row"},a.createElement(ke,{params:{recordtype:"one_record",transcriptionstatus:"published",range:"transcriptiondate,now-1M/M,now%2B2h"},label:"avskrivna uppteckningar senaste månaden",visible:t}),a.createElement(ke,{params:{recordtype:"one_record",transcriptionstatus:"published",range:"transcriptiondate,now-1M/M,now%2B2h",aggregation:"sum,archive.total_pages"},label:"avskrivna sidor senaste månaden",visible:t}),a.createElement(ke,{params:{recordtype:"one_record",transcriptionstatus:"published",range:"transcriptiondate,now-1M/M,now%2B2h",aggregation:"cardinality,transcribedby.keyword"},label:"användare som har skrivit av uppteckningar senaste månaden",visible:t}),a.createElement("h3",null,"Senast avskrivna uppteckningar"),(t||r)&&a.createElement(Q,{key:"latest-RecordList",disableRouterPagination:!0,searchParams:{size:10,recordtype:"one_record",transcriptionstatus:"published",sort:"transcriptiondate",order:"desc"},disableListPagination:!0,columns:["title","year","place","transcribedby"],siteSearchParams:u.createParamsFromPlacesRoute(e.location.pathname),class:"table-compressed",sizeMore:50,interval:e.applicationInFocus&&t&&6e4})))}class _e extends a.Component{constructor(e){super(e),this.menuButtonClick=this.menuButtonClick.bind(this),this.closeMenu=this.closeMenu.bind(this),this.state={menuOpen:!1}}menuButtonClick(){this.setState({menuOpen:!this.state.menuOpen},function(){this.state.menuOpen&&this.props.onOpen&&this.props.onOpen()}.bind(this))}closeMenu(){this.setState({menuOpen:!1})}windowClickHandler(e){var t=r.findDOMNode(this.refs.container);t&&!t.contains(e.target)&&this.closeMenu()}componentDidMount(){this.props.manuallyClose||document.getElementById("app").addEventListener("click",this.windowClickHandler.bind(this))}UNSAFE_componentWillReceiveProps(e){}render(){var e={};return this.props.dropdownHeight&&(e.height=-1==this.props.dropdownHeight.indexOf("px")?this.props.dropdownHeight+"px":this.props.dropdownHeight,e.maxHeight=-1==this.props.dropdownHeight.indexOf("px")?this.props.dropdownHeight+"px":this.props.dropdownHeight),this.props.dropdownWidth&&(e.width=-1==this.props.dropdownWidth.indexOf("px")?this.props.dropdownWidth+"px":this.props.dropdownWidth),a.createElement("div",{ref:"container",className:"dropdown-wrapper"+(this.props.dropdownDirection?" dropdown-direction-"+this.props.dropdownDirection:"")},a.createElement("a",{tabIndex:0,className:"dropdown-link"+(this.props.className?" "+this.props.className:""),onClick:this.menuButtonClick},this.props.label||""),a.createElement("div",{className:"dropdown-container minimal-scrollbar dropdown-list"+(this.state.menuOpen||this.props.keepOpen?" open":"")+(this.props.headerText?" has-header":"")+(this.props.footerContent?" has-footer":""),style:e},this.props.headerText&&a.createElement("div",{className:"panel-heading dropdown-heading"},a.createElement("span",{className:"heading-label"},this.props.headerText)),a.createElement("div",{className:("text"==this.props.containerType?"text-container":"list-container")+" minimal-scrollbar"},this.props.children),this.props.footerContent&&a.createElement("div",{className:"dropdown-footer"},this.props.footerContent)))}}class Ce extends a.Component{constructor(e){super(e),this.libraryButtonClickHandler=this.libraryButtonClickHandler.bind(this),this.itemClickHandler=this.itemClickHandler.bind(this),this.itemRemoveButtonClickHander=this.itemRemoveButtonClickHander.bind(this),this.copyLinkClickHandler=this.copyLinkClickHandler.bind(this),this.dropdownOpenHandler=this.dropdownOpenHandler.bind(this),this.savedRecords=[],this.state={dropdownOpen:!1}}itemClickHandler(e){this.props.history.push("/records/"+e.currentTarget.dataset.id)}libraryButtonClickHandler(){}dropdownOpenHandler(){this.setState({dropdownOpen:!0},function(){this.refs.shareButtons.initialize()}.bind(this))}itemRemoveButtonClickHander(e){e.stopPropagation(),le.remove(e.currentTarget.dataset.id),this.forceUpdate()}copyLinkClickHandler(e){pe(e.currentTarget.dataset.url)&&window.eventBus&&window.eventBus.dispatch("popup-notification.notify",null,l("Länk till dina sägner har kopierats."))}render(){0==this.savedRecords.length&&le.list().length>0&&this.refs.elementNotification&&this.refs.elementNotification.show(),this.savedRecords=le.list();var e=this.savedRecords&&this.savedRecords.length>0?this.savedRecords.map(function(e,t){return a.createElement("a",{key:t,"data-id":e.id,onClick:this.itemClickHandler,className:"item"},e.title,a.createElement("div",{title:"stäng",className:"close-button","data-id":e.id,onClick:this.itemRemoveButtonClickHander}),e.place&&a.createElement("span",{className:"u-pull-right"},e.place))}.bind(this)):a.createElement("h3",{className:"text-center"},l("Inga sparade sägner")),t="places/record_ids/"+this.savedRecords.map((function(e){return e.id})).join(","),n=a.createElement("div",{className:"drowdown-footer"},this.state.dropdownOpen&&a.createElement(ce,{ref:"shareButtons",hideLink:!0,manualInit:!0,path:S.siteUrl+"#/"+t,text:l("Några intressanta sägner på sägenkartan: ")}),a.createElement("a",{className:"u-pull-right u-cursor-pointer",onClick:this.copyLinkClickHandler,"data-url":S.siteUrl+"#/"+t},l("Kopiera länk")));return a.createElement("div",{className:"local-library-wrapper map-bottom-control"},a.createElement(de,{ref:"elementNotification",placement:"above",placementOffsetX:"27",placementOffsetY:"-62",messageId:"myLegendsNotification",forgetAfterClick:!0,manuallyOpen:!0,closeTrigger:"click",message:l("Klicka här för att visa lista över dina sparade sägner.")},a.createElement(_e,{className:"map-floating-control map-floating-button visible library-open-button has-footer"+(this.savedRecords&&this.savedRecords.length>0?" has-items":""),dropdownDirection:"up",height:"500px",footerContent:n,headerText:this.props.headerText,onOpen:this.dropdownOpenHandler},e)))}}class Se extends a.Component{constructor(e){super(e),this.closeButtonClickHandler=this.closeButtonClickHandler.bind(this),this.state={imageUrl:null,visible:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.viewimage",function(e){this.setState({imageUrl:e.target.imageUrl,type:e.target.type,visible:!0})}.bind(this)),window.eventBus.addEventListener("overlay.hide",function(e){this.setState({visible:!1})}.bind(this)))}closeButtonClickHandler(){this.setState({visible:!1})}render(){return a.createElement("div",{className:"overlay-container"+(this.state.visible?" visible":"")},this.state.imageUrl&&"image"==this.state.type&&a.createElement("img",{className:"overlay-image",src:S.imageUrl+this.state.imageUrl}),this.state.imageUrl&&"pdf"==this.state.type&&a.createElement(he,{url:(S.pdfUrl||S.imageUrl)+this.state.imageUrl,height:"100%"}),a.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler}))}}class Pe extends a.Component{constructor(e){super(e),this.closeButtonClickHandler=this.closeButtonClickHandler.bind(this),this.messageInputChangeHandler=this.messageInputChangeHandler.bind(this),this.nameInputChangeHandler=this.nameInputChangeHandler.bind(this),this.emailInputChangeHandler=this.emailInputChangeHandler.bind(this),this.sendButtonClickHandler=this.sendButtonClickHandler.bind(this),this.state={visible:!1,messageInputValue:"",nameInputValue:"",emailInputValue:"",messageSent:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.feedback",function(e){this.setState({visible:!0,type:e.target.type,title:e.target.title,country:e.target.country,url:e.target.url,appUrl:e.target.appUrl})}.bind(this)),window.eventBus.addEventListener("overlay.hide",function(e){this.setState({visible:!1})}.bind(this)))}closeButtonClickHandler(){this.setState({visible:!1,messageSent:!1,messageInputValue:"",nameInputValue:"",emailInputValue:""})}messageInputChangeHandler(e){this.setState({messageInputValue:e.target.value})}nameInputChangeHandler(e){this.setState({nameInputValue:e.target.value})}emailInputChangeHandler(e){this.setState({emailInputValue:e.target.value})}sendButtonClickHandler(){var e=this.state.appUrl;"/"==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1));var t={from_email:this.state.emailInputValue,from_name:this.state.nameInputValue,subject:e.split(/[/]+/).pop()+": Feedback",message:this.state.type+": "+this.state.title+"\n"+this.state.url+"\n\nFrån: "+this.state.nameInputValue+" ("+this.state.emailInputValue+")\n\n"+this.state.messageInputValue},n=new FormData;n.append("json",JSON.stringify(t)),fetch(S.restApiUrl+"feedback/",{method:"POST",body:n}).then((function(e){return e.json()})).then(function(e){e.success&&this.setState({messageSent:!0})}.bind(this))}UNSAFE_componentWillReceiveProps(){this.setState({messageSent:!1,emailInputValue:"",nameInputValue:"",messageInputValue:""})}render(){if(this.state.messageSent)var e=a.createElement("div",null,a.createElement("p",null,l("Vi återkommer så fort vi kan. Tack.")),a.createElement("p",null,a.createElement("br",null),a.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")));else e=a.createElement("div",null,a.createElement("p",null,S.siteOptions.feedbackText||"Har du frågor eller synpunkter på hur applikationen fungerar? Har du hittat fel, till exempel i avskrifterna? Kontakta oss gärna!"),a.createElement("p",null,"Du är nu på sidan '",a.createElement("a",{href:this.state.url},this.state.title),"' men kan också använda formuläret för mer generella förslag och synpunkter.",a.createElement("br",null),a.createElement("br",null)),a.createElement("hr",null),a.createElement("label",{htmlFor:"feedback_name"},"Ditt namn:"),a.createElement("input",{id:"feedback_name",autoComplete:"name",className:"u-full-width",type:"text",value:this.state.nameInputValue,onChange:this.nameInputChangeHandler}),a.createElement("label",{htmlFor:"feedback_email"},"Din e-post adress:"),a.createElement("input",{id:"feedback_email",className:"u-full-width",type:"email",value:this.state.emailInputValue,onChange:this.emailInputChangeHandler}),a.createElement("label",{htmlFor:"feedback_message"},"Meddelande:"),a.createElement("textarea",{lang:"sv",spellCheck:"false",id:"feedback_message",className:"u-full-width",value:this.state.messageInputValue,onChange:this.messageInputChangeHandler}),a.createElement("button",{className:"button-primary",onClick:this.sendButtonClickHandler},"Skicka"));return a.createElement("div",{className:"overlay-container feedback-overlay-container"+(this.state.visible?" visible":"")},a.createElement("div",{className:"overlay-window"},a.createElement("div",{className:"overlay-header"},l("Frågor och synpunkter"),a.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler})),e))}}class Le extends a.Component{constructor(e){super(e),this.closeButtonClickHandler=this.closeButtonClickHandler.bind(this),this.state={visible:!1,messageInputValue:"",nameInputValue:"",emailInputValue:"",messageSent:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.help",function(e){this.setState({visible:!0,type:e.target.type,title:e.target.title,url:e.target.url,appUrl:e.target.appUrl})}.bind(this)),window.eventBus.addEventListener("overlay.hide",function(e){this.setState({visible:!1})}.bind(this)))}closeButtonClickHandler(){this.setState({visible:!1})}render(){if(this.state.messageSent)var e=React.createElement("div",null,React.createElement("p",null,"Meddelande skickat. Tack."),React.createElement("p",null,React.createElement("br",null),React.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")));else config.siteOptions.helpText,l("Läs mer om att skriva av.");return React.createElement("div",{className:"overlay-container feedback-overlay-container"+(this.state.visible?" visible":"")},React.createElement("div",{className:"overlay-window"},React.createElement("div",{className:"overlay-header"},l("Hjälp"),React.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler})),e))}}class Ie extends a.Component{constructor(e){super(e),this.closeButtonClickHandler=this.closeButtonClickHandler.bind(this),this.messageInputChangeHandler=this.messageInputChangeHandler.bind(this),this.nameInputChangeHandler=this.nameInputChangeHandler.bind(this),this.emailInputChangeHandler=this.emailInputChangeHandler.bind(this),this.sendButtonClickHandler=this.sendButtonClickHandler.bind(this),this.state={visible:!1,messageInputValue:"",nameInputValue:"",emailInputValue:"",messageSent:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.contributeinfo",function(e){this.setState({visible:!0,type:e.target.type,title:e.target.title,country:e.target.country,url:e.target.url,appUrl:e.target.appUrl,id:e.target.id})}.bind(this)),window.eventBus.addEventListener("overlay.hide",function(e){this.setState({visible:!1})}.bind(this)))}closeButtonClickHandler(){this.setState({visible:!1,messageSent:!1,messageInputValue:"",nameInputValue:"",emailInputValue:""})}messageInputChangeHandler(e){this.setState({messageInputValue:e.target.value})}nameInputChangeHandler(e){this.setState({nameInputValue:e.target.value})}emailInputChangeHandler(e){this.setState({emailInputValue:e.target.value})}sendButtonClickHandler(){var e=this.state.appUrl;"/"==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1));var t={from_email:this.state.emailInputValue,from_name:this.state.nameInputValue,subject:e.split(/[/]+/).pop()+": ContributeInfo",recordid:this.state.id,message:this.state.type+": "+this.state.title+"\n"+this.state.url+"\n\nFrån: "+this.state.nameInputValue+" ("+this.state.emailInputValue+")\n\n"+this.state.messageInputValue},n=new FormData;n.append("json",JSON.stringify(t)),fetch(S.restApiUrl+"feedback/",{method:"POST",body:n}).then((function(e){return e.json()})).then(function(e){e.success&&this.setState({messageSent:!0})}.bind(this))}UNSAFE_componentWillReceiveProps(){this.setState({messageSent:!1,emailInputValue:"",nameInputValue:"",messageInputValue:""})}render(){if(this.state.messageSent)var e=a.createElement("div",null,a.createElement("p",null,l("Tack för ditt bidrag. Meddelande skickat.")),a.createElement("p",null,a.createElement("br",null),a.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")));else e=a.createElement("div",null,a.createElement("p",null,S.siteOptions.contributeInfoText||"Känner du till någon av personerna som nämns: en upptecknare, någon som intervjuats eller som nämns i en berättelse? Vid 1900-talets början var arkiven framför allt intresserade av berättelserna, inte berättarna. Därför vet vi idag ganska lite om människorna i arkiven. Kontakta oss gärna nedan om du har information om eller fotografier på någon av personerna som nämns på uppteckningen! \t\t\t\t\tVill du vara med och bevara minnen och berättelser från vår tid till framtiden? På Institutets webbplats publiceras regelbundet frågelistor om olika ämnen. ",a.createElement("a",{href:"https://www.isof.se/folkminnen/beratta-for-oss.html"},a.createElement("strong",null,l("Läs mer.")))),a.createElement("p",null,"Du är nu på sidan '",a.createElement("a",{href:this.state.url},this.state.title),"' men kan också använda formuläret för mer generella förslag och synpunkter.",a.createElement("br",null),a.createElement("br",null)),a.createElement("hr",null),a.createElement("label",{htmlFor:"contribute_name"},"Ditt namn:"),a.createElement("input",{id:"contribute_name",autoComplete:"name",className:"u-full-width",type:"text",value:this.state.nameInputValue,onChange:this.nameInputChangeHandler}),a.createElement("label",{htmlFor:"contribute_email"},"Din e-post adress:"),a.createElement("input",{id:"contribute_email",autoComplete:"email",className:"u-full-width",type:"email",value:this.state.emailInputValue,onChange:this.emailInputChangeHandler}),a.createElement("label",{htmlFor:"contribute_message"},"Meddelande:"),a.createElement("textarea",{lang:"sv",spellCheck:"false",id:"contribute_message",className:"u-full-width",value:this.state.messageInputValue,onChange:this.messageInputChangeHandler}),a.createElement("button",{className:"button-primary",onClick:this.sendButtonClickHandler},"Skicka"));return a.createElement("div",{className:"overlay-container feedback-overlay-container"+(this.state.visible?" visible":"")},a.createElement("div",{className:"overlay-window"},a.createElement("div",{className:"overlay-header"},l("Vet du mer?"),a.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler})),e))}}class Ne extends a.Component{constructor(e){super(e),this.closeButtonClickHandler=this.closeButtonClickHandler.bind(this),this.state={visible:!1,messageInputValue:"",nameInputValue:"",emailInputValue:"",messageSent:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.transcriptionhelp",function(e){this.setState({visible:!0,type:e.target.type,title:e.target.title,url:e.target.url,appUrl:e.target.appUrl})}.bind(this)),window.eventBus.addEventListener("overlay.hide",function(e){this.setState({visible:!1})}.bind(this)))}closeButtonClickHandler(){this.setState({visible:!1})}render(){if(this.state.messageSent)var e=a.createElement("div",null,a.createElement("p",null,"Meddelande skickat. Tack."),a.createElement("p",null,a.createElement("br",null),a.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")));else e=a.createElement("div",{className:"helptext"},a.createElement("p",null,"Vill du hjälpa till att tillgängliggöra samlingarna? Här finns möjligheten att skriva av berättelser, t.ex. från en viss ort eller ett visst ämne. Detta gör inte bara berättelserna mer tillgängliga för fler personer utan möjliggör också fritextsökningar."),a.createElement("p",null,a.createElement("strong",null,"Vilken information i vilken ruta? "),a.createElement("br",null),"Varje textfält som ska fyllas i motsvarar en särskild rad i uppteckningen som du ser på höger sida. Ibland saknas text på vissa rader. Lämna då samma textfält tomt."),a.createElement("p",null,a.createElement("strong",null,"Om berättaren"),a.createElement("br",null),"Informationen som hör till berättaren börjar med fältet ”Berättat av”. I det textfältet skriver du in namnet på personen. Ibland kan det stå något mer direkt efter namnet, t.ex. namnet på en gård eller en ort. Ange den informationen istället i fältet ”Fält under berättat av”.",a.createElement("br",null),"Kortfattat kan man säga att all information om berättaren som inte är ett namn (Berättat av), ett födelseår (Född år), eller en födelseort (Född i) kan skrivas i fältet ”Fält under berättat av”."),a.createElement("p",null,a.createElement("strong",null,"Oläsliga ord?"),a.createElement("br",null),"Om du inte kan läsa något ord på uppteckningen, ange ",a.createElement("code",null,"###")," istället för ordet ifråga. Är det flera ord bredvid varandra som inte kan tydas, skriv ",a.createElement("code",null,"###")," för varje ord."),a.createElement("p",null,a.createElement("strong",null,"Ny rad?"),a.createElement("br",null),"Skriv av raderna exakt som de står, även med radbrytningar och stavfel. Överstrukna ord kan ignoreras. Om texten radbryts i uppteckningen, klicka då på Enter för att påbörja en ny rad i textfältet."),a.createElement("p",null,a.createElement("strong",null,"Specialtecken?"),a.createElement("br",null),"Ibland förekommer specialtecken i uppteckningarna. I den mån du kan, skriv även dessa tecken med i avskriften. Det kan till exempel vara ô, skrivet som ett o med ^ över."),a.createElement("p",null,a.createElement("strong",null,"Text i marginalen?"),a.createElement("br",null),"Ibland har upptecknaren fortsatt på en mening nedanför raderna på blanketten. Skriv med det i textfältet. Övriga ord eller tecken som ligger i marginalerna men som inte hör till själva uppteckningen, behöver du inte transkribera. Däremot kan du skriva med marginaltexten som en kommentar till uppteckning."),a.createElement("p",null,a.createElement("strong",null,"Flera sidor?"),a.createElement("br",null),"Består uppteckningen av flera sidor skriver du in samtliga sidor i samma textruta, men markera när du börjar skriva på en annan sida med tecknet ",a.createElement("code",null,"/")," (snedstreck). Tryck på Enter innan och efter ",a.createElement("code",null,"/"),". Snedstrecket ska alltså stå ensamt på en egen rad. ",a.createElement("br",null)," Sidorna ligger som en lista under den aktuella sidan. Tryck på en sida för att förstora."),a.createElement("p",null,a.createElement("strong",null,"Zooma"),a.createElement("br",null),"Vill du se ännu tydligare vad det står i uppteckningen? Det går bra att zooma in och ut. Använd zoom-funktionen i övre vänstra hörnet och flytta fokus på sidan genom att röra muspekaren."),a.createElement("p",null,a.createElement("strong",null,"Vilka är personerna som nämns i texten?"),a.createElement("br",null),'Känner du till någon av personerna som omnämns i uppteckningen och har du eventuellt fotografier eller liknande? Kontakta oss via knappen "Vet du mer" ovanför uppteckningen. Du kan även välja att skriva en kommentar om personen i kommentarsfältet.'),a.createElement("p",null,a.createElement("strong",null,"Kommentar till avskriften"),a.createElement("br",null),"Har du stött på något problem med avskriften eller har du någon annan kommentar till den? Skriv då i kommentarsfältet."),a.createElement("p",null,a.createElement("strong",null,"Vad händer efter att du tryckt på ”Skicka in?”"),a.createElement("br",null),"Efter kvalitetssäkring kommer texten sedan att publiceras på Folke och införlivas i Isofs digitala arkiv."),a.createElement("p",null,a.createElement("a",{href:"https://www.isof.se/arkiv-och-insamling/digitala-arkivtjanster/folke/transkribera"},a.createElement("strong",null,l("Läs mer om att skriva av.")))));return a.createElement("div",{className:"overlay-container feedback-overlay-container"+(this.state.visible?" visible":"")},a.createElement("div",{className:"overlay-window"},a.createElement("div",{className:"overlay-header"},l("Instruktioner"),a.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler})),e))}}class He extends a.Component{constructor(e){super(e),this.imageLoadedHandler=this.imageLoadedHandler.bind(this),this.state={initialized:!1}}componentDidMount(){this.map=B().map(this.refs.mapView,{minZoom:0,maxZoom:this.props.maxZoom||3,zoom:0,crs:B().CRS.Simple}),this.props.image&&this.loadImage(this.props.image)}UNSAFE_componentWillReceiveProps(e){e.image&&e.image!=this.props.image&&this.loadImage(e.image)}loadImage(e){this.imageOverlay&&this.map.removeLayer(this.imageOverlay),this.imageEl=new Image,this.imageEl.onload=this.imageLoadedHandler,this.imageEl.src=e}imageLoadedHandler(){var e=this.refs.container.clientWidth,t=(this.refs.container.clientWidth,this.imageEl.width),n=this.imageEl.height,a=e/t,r=[[0,0],[n*a,t*a]];this.imageOverlay&&this.map.removeLayer(this.imageOverlay),this.imageOverlay=B().imageOverlay(this.imageEl.src,r),this.imageOverlay.addTo(this.map),this.map.setMaxBounds(r),this.map.setView([n,0],0)}render(){return a.createElement("div",{ref:"container",className:"image-map-container"},a.createElement("div",{className:"map-container",ref:"mapView"}))}}class Oe extends a.Component{constructor(e){super(e),this.helpButtonClick=this.helpButtonClick.bind(this)}helpButtonClick(){window.eventBus&&window.eventBus.dispatch("overlay.transcriptionhelp",{url:S.siteUrl+"#"+this.props.location.pathname,title:this.props.title,type:this.props.type,appUrl:S.appUrl})}render(){return a.createElement("button",{className:"feedback-button transcriptionhelp-button",onClick:this.helpButtonClick},l("Instruktioner"))}}class Be extends a.Component{render(){return a.createElement("div",{className:"transcriptionform uppteckningsblankett"},a.createElement("div",{className:"row"},a.createElement("label",{htmlFor:"transcription_informantname",className:"six columns"},"Berättat av:"),a.createElement("label",{htmlFor:"transcription_informantbirthdate",className:"two columns"},"Född år:"),a.createElement("label",{htmlFor:"transcription_informantbirthplace",className:"four columns"},"Född i:")),a.createElement("div",{className:"row"},a.createElement("div",{className:"mark-below-img"},a.createElement("input",{id:"transcription_informantname",name:"informantNameInput",className:"six columns",type:"text",defaultValue:this.props.informantNameInput,onChange:this.props.inputChangeHandler})),a.createElement("div",{className:"mark-below-img"},a.createElement("input",{id:"transcription_informantbirthdate",name:"informantBirthDateInput",className:"two columns",type:"text",defaultValue:this.props.informantBirthDateInput,onChange:this.props.inputChangeHandler})),a.createElement("div",{className:"mark-below-img"},a.createElement("input",{id:"transcription_informantbirthplace",name:"informantBirthPlaceInput",className:"four columns",type:"text",defaultValue:this.props.informantBirthPlaceInput,onChange:this.props.inputChangeHandler}))),a.createElement("label",{htmlFor:"transcription_informant",className:"u-full-width margin-bottom-zero"},"Fält under berättat av:"),a.createElement("input",{id:"transcription_informant",name:"informantInformationInput",className:"u-full-width margin-bottom-minimal",type:"text",defaultValue:this.props.informantInformationInput,onChange:this.props.inputChangeHandler}),a.createElement("div",{className:"mark-above-img"},a.createElement("label",{htmlFor:"transcription_title",className:"u-full-width margin-bottom-zero"},"Titel:"),a.createElement("input",{id:"transcription_title",name:"title",className:"u-full-width margin-bottom-minimal",type:"text",defaultValue:this.props.title,onChange:this.props.inputChangeHandler})),a.createElement("div",{className:"mark-above-img"},a.createElement("label",{htmlFor:"transcription_text",className:"u-full-width margin-bottom-zero"},"Text:"),a.createElement("textarea",{lang:"sv",spellCheck:"false",id:"transcription_text",name:"messageInput",className:"u-full-width margin-bottom-minimal",defaultValue:this.props.messageInput,onChange:this.props.inputChangeHandler})))}}class Re extends a.Component{render(){return a.createElement("div",{className:"transcriptionform fritext"},a.createElement("div",{className:"mark-above-img"},a.createElement("label",{htmlFor:"transcription_text",className:"u-full-width margin-bottom-zero"},"Text:"),a.createElement("textarea",{lang:"sv",spellCheck:"false",id:"transcription_text",name:"messageInput",className:"u-full-width margin-bottom-minimal",defaultValue:this.props.messageInput,onChange:this.props.inputChangeHandler})))}}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ze.apply(this,arguments)}class Ue extends a.Component{constructor(e){super(e),this.closeButtonClickHandler=this.closeButtonClickHandler.bind(this),this.inputChangeHandler=this.inputChangeHandler.bind(this),this.mediaImageClickHandler=this.mediaImageClickHandler.bind(this),this.sendButtonClickHandler=this.sendButtonClickHandler.bind(this),this.randomButtonClickHandler=this.randomButtonClickHandler.bind(this),this.state={visible:!1,informantNameInput:"",informantBirthDateInput:"",informantBirthPlaceInput:"",informantInformationInput:"",messageInput:"",messageCommentInput:"",nameInput:"",emailInput:"",messageSent:!1,messageOnFailure:"",currentImage:null,transcriptionType:"",random:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.transcribe",function(e){e.target.random?fetch(`${S.apiUrl}random_document/?type=arkiv&recordtype=one_record&transcriptionstatus=readytotranscribe&mark_metadata=transcriptionstatus&categorytypes=tradark&publishstatus=published`).then((function(e){return e.json()})).then(function(e){const t=e.hits.hits[0]._source;this.setState({visible:!0,url:S.siteUrl+"#/records/"+t.id,id:t.id,archiveId:t.archive.archive_id,title:t.title,images:t.media,transcriptionType:t.transcriptiontype,imageIndex:0,placeString:K(t.places),random:!0}),this.transcribeStart(t.id)}.bind(this)):this.setState({visible:!0,type:e.target.type,title:e.target.title,id:e.target.id,archiveId:e.target.archiveId||null,url:e.target.url,images:e.target.images,transcriptionType:e.target.transcriptionType,imageIndex:0,placeString:e.target.placeString||null,random:e.target.random},function(){this.transcribeStart(e.target.id)}.bind(this))}.bind(this)),window.eventBus.addEventListener("overlay.hide",function(e){this.setState({visible:!1})}.bind(this)))}transcribeStart(e){var t={recordid:e},n=new FormData;n.append("json",JSON.stringify(t)),fetch(S.restApiUrl+"transcribestart/",{method:"POST",body:n}).then((function(e){return e.json()})).then(function(e){var t=!1;if(e.success&&"true"==e.success){var n=!1;e.data&&(n=e.data.transcribesession),t=!0,this.setState({messageSent:!1,transcribesession:n})}if(!t){var a="Failure!";e.message&&(a=e.message),this.setState({messageSent:!0,messageOnFailure:a})}}.bind(this))}transcribeCancel(){if(this.setState({visible:!1,informantName:"",informantBirthDate:"",informantBirthPlace:"",informantInformation:"",title:"",messageInput:"",messageComment:"",messageOnFailure:""}),this.state.messageSent)return null;var e={recordid:this.state.id,transcribesession:this.state.transcribesession},t=new FormData;t.append("json",JSON.stringify(e)),fetch(S.restApiUrl+"transcribecancel/",{method:"POST",body:t})}closeButtonClickHandler(){this.transcribeCancel()}randomButtonClickHandler(){this.transcribeCancel(),window.eventBus&&window.eventBus.dispatch("overlay.transcribe",{random:!0})}mediaImageClickHandler(e){this.setState({imageIndex:e.currentTarget.dataset.index})}inputChangeHandler(e){this.setState({[e.target.name]:e.target.value})}sendButtonClickHandler(){if(-1!=this.state.messageInput.trim().indexOf(" ")){var e={transcribesession:this.state.transcribesession,url:this.state.url,recordid:this.state.id,recordtitle:this.state.title,from_email:this.state.emailInput,from_name:this.state.nameInput,subject:"Crowdsource: Transkribering",informantName:this.state.informantNameInput,informantBirthDate:this.state.informantBirthDateInput,informantBirthPlace:this.state.informantBirthPlaceInput,informantInformation:this.state.informantInformationInput,message:this.state.messageInput,messageComment:this.state.messageCommentInput},t=new FormData;t.append("json",JSON.stringify(e)),fetch(S.restApiUrl+"transcribe/",{method:"POST",body:t}).then((function(e){return e.json()})).then(function(e){e.success?this.setState({messageSent:!0,informantName:"",informantNameInput:"",informantBirthDate:"",informantBirthDateInput:"",informantBirthPlace:"",informantBirthPlaceInput:"",informantInformation:"",informantInformationInput:"",title:"",messageInput:"",messageComment:"",messageCommentInput:"",messageOnFailure:e.message}):console.log("Server does not repond for: "+this.state.url)}.bind(this))}else alert(l('Avskriften kan inte sparas. Fältet "Text" ska innehålla en avskrift!'))}renderTranscribeForm(){switch(this.state.transcriptionType){case"uppteckningsblankett":default:return a.createElement(Be,{informantNameInput:this.state.informantNameInput,informantBirthDateInput:this.state.informantBirthDateInput,informantBirthPlaceInput:this.state.informantBirthPlaceInput,informantInformationInput:this.state.informantInformationInput,title:this.state.title,messageInput:this.state.messageInput,inputChangeHandler:this.inputChangeHandler});case"fritext":return a.createElement(Re,{messageInput:this.state.messageInput,inputChangeHandler:this.inputChangeHandler})}}componentWillUnmount(){this.transcribeCancel()}render(){let e=this.props;if(this.state.messageSent){let e="Tack för din avskrift som nu skickats till Institutet för språk och folkminnen. Efter granskning kommer den att publiceras.";this.state.messageOnFailure&&(e=this.state.messageOnFailure);var t=a.createElement("div",null,a.createElement("p",null,l(e)),a.createElement("p",null,a.createElement("br",null),a.createElement(Y,{className:"button-primary",random:!0,label:this.state.random?l("Skriv av en till slumpmässig uppteckning"):l("Skriv av en slumpmässigt utvald uppteckning")})," ",a.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")))}else{if(this.state.images&&this.state.images.length>0)var n=this.state.images.map(function(e,t){if(e.source&&-1==e.source.indexOf(".pdf"))return a.createElement("img",{"data-index":t,key:t,className:"image-item","data-image":e.source,onClick:this.mediaImageClickHandler,src:S.imageUrl+e.source,alt:""})}.bind(this));t=a.createElement("div",{className:"row"},a.createElement("div",{className:"four columns"},this.renderTranscribeForm(),a.createElement("label",{htmlFor:"transcription_comment",className:"u-full-width margin-bottom-zero"},l("Kommentar till avskriften:")),a.createElement("textarea",{lang:"sv",spellCheck:"false",id:"transcription_comment",name:"messageCommentInput",className:"u-full-width margin-bottom-minimal",type:"text",value:this.state.messageCommentInput,onChange:this.inputChangeHandler}),a.createElement("p",null,l("Vill du att vi anger att det är du som har skrivit av uppteckningen? Ange i så fall ditt namn och din e-postadress nedan. E-postadressen publiceras inte."),a.createElement("br",null),l("Vi hanterar personuppgifter enligt dataskyddsförordningen. "),a.createElement("a",{href:"https://www.isof.se/om-oss/behandling-av-personuppgifter.html",target:"_blank"},a.createElement("strong",null,l("Läs mer.")))),a.createElement("label",{htmlFor:"transcription_name"},"Ditt namn (frivilligt):"),a.createElement("input",{id:"transcription_name",autoComplete:"name",name:"nameInput",className:"u-full-width",type:"text",value:this.state.nameInput,onChange:this.inputChangeHandler}),a.createElement("label",{htmlFor:"transcription_email"},"Din e-post adress (frivilligt):"),a.createElement("input",{id:"transcription_email",autoComplete:"",name:"emailInput",className:"u-full-width",type:"email",value:this.state.emailInput,onChange:this.inputChangeHandler}),a.createElement("button",{className:"button-primary",onClick:this.sendButtonClickHandler},"Skicka")),a.createElement("div",{className:"eight columns"},a.createElement(He,{image:this.state.images?S.imageUrl+this.state.images[this.state.imageIndex].source:null}),a.createElement("div",{className:"image-list"},n)))}return a.createElement("div",{className:"overlay-container"+(this.state.visible?" visible":"")},a.createElement("div",{className:"overlay-window large"},a.createElement("div",{className:"overlay-header"},l("Skriv av")," ",this.state.title?`"${this.state.title}"`:"uppteckning",this.state.archiveId&&a.createElement("small",null," (ur ",this.state.archiveId,this.state.placeString?` ${this.state.placeString}`:"",")"),this.state.random&&!this.state.messageSent&&a.createElement("div",{className:"next-random-record-button-container"},a.createElement(Y,{label:l("Skriv av annan slumpmässig uppteckning"),random:!0,onClick:this.randomButtonClickHandler,className:"button-primary next-random-record-button"})),a.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler}),!S.siteOptions.hideContactButton&&a.createElement(ie,ze({title:this.state.title,type:"Uppteckning"},e)),!S.siteOptions.hideContactButton&&a.createElement(re,ze({title:this.state.title,type:"Uppteckning"},e)),!S.siteOptions.hideContactButton&&a.createElement(Oe,ze({title:this.state.title,type:"Uppteckning"},e))),t))}}class Me extends a.Component{constructor(e){super(e),this.popupNotificationReceivedHandler=this.popupNotificationReceivedHandler.bind(this),this.popupNotificationCloseHandler=this.popupNotificationCloseHandler.bind(this),this.state={message:null,visible:!1}}componentDidMount(){window.eventBus.addEventListener("popup-notification.notify",this.popupNotificationReceivedHandler),window.eventBus.addEventListener("screen-clicked",this.popupNotificationCloseHandler)}popupNotificationCloseHandler(){this.setState({visible:!1})}popupNotificationReceivedHandler(e,t){if(t&&""!=t)if(t.indexOf("<br>")>0)this.setState({message:t,visible:!0});else{var n=function(){this.setState({message:t,visible:!0},function(){this.timeout=setTimeout(function(){this.setState({visible:!1}),this.timeout=null}.bind(this),this.props.duration||5e3)}.bind(this))}.bind(this);this.timeout?(clearTimeout(this.timeout),this.setState({visible:!1},function(){setTimeout(function(){n()}.bind(this),600)}.bind(this))):n()}}render(){return a.createElement("div",{className:"popup-notification-message"+(this.state.visible?" visible":"")},a.createElement("div",{className:"message-container",dangerouslySetInnerHTML:{__html:this.state.message}}))}}class Fe extends a.Component{constructor(e){super(e),this.closeButtonClickHandler=this.closeButtonClickHandler.bind(this),this.state={visible:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.switcherHelpText",function(e){this.setState({visible:!0,title:"Title"})}.bind(this)),window.eventBus.addEventListener("overlay.hide",function(e){this.setState({visible:!1})}.bind(this)))}closeButtonClickHandler(){this.setState({visible:!1})}render(){var e=a.createElement("div",null,a.createElement("p",null,"Ord som förekommer ofta i Folke utforska är accession och uppteckning. Här förklarar vi tydligare vad orden innebär."),a.createElement("p",null,a.createElement("strong",null,"Vad är en accession?"),a.createElement("br",null),"En accession är en del av en arkivserie och varje accession har ett unikt accessionsnummer. En accession rör oftast en särskild geografisk plats, till exempel en socken, men kan innehålla flera uppteckningar med olika ämnen och olika berättare. Accessionerna är sökbara på alla sina uppteckningars titlar, orter och insamlare.",a.createElement("br",null),"Om du vill ha ett helhetsgrepp över ett insamlat material på en viss ort, ett visst ämne eller en särskild insamlare är det accessionerna du ska söka i."),a.createElement("p",null,a.createElement("strong",null,"Vad är en uppteckning?"),a.createElement("br",null),"En uppteckning kan beskrivas som ett samlingsbegrepp för olika sorters material. Här är en uppteckning ofta en unik berättelse i en accession, där accessionen i sig består av ett flertal uppteckningar. En uppteckning handlar oftast om ett specifikt ämne. ",a.createElement("br",null)," Det är på uppteckningsnivån i kartan som du kan söka efter berättelser att transkribera/skriva av och på så sätt göra mer tillgängliga för andra."),a.createElement("p",null,a.createElement("a",{href:"https://www.isof.se/arkiv-och-insamling/digitala-arkivtjanster/folke/instruktioner-och-sokhjalp"},a.createElement("strong",null,l("Läs mer.")))));return a.createElement("div",{className:"overlay-container feedback-overlay-container"+(this.state.visible?" visible":"")},a.createElement("div",{className:"overlay-window"},a.createElement("div",{className:"overlay-header"},l("Accessioner och uppteckningar"),a.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler})),e))}}const Ve=n.p+"img/folkelogga.svg";var Ae=n(640),Te=n.n(Ae);function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},De.apply(this,arguments)}class je extends a.Component{constructor(e){super(e),this.mapMenu=a.createRef(),window.eventBus=Te(),window.applicationSettings={includeNordic:!0},this.mapMarkerClick=this.mapMarkerClick.bind(this),this.popupCloseHandler=this.popupCloseHandler.bind(this),this.popupWindowHideHandler=this.popupWindowHideHandler.bind(this),this.popupWindowShowHandler=this.popupWindowShowHandler.bind(this),this.introOverlayCloseButtonClickHandler=this.introOverlayCloseButtonClickHandler.bind(this),this.languageChangedHandler=this.languageChangedHandler.bind(this),this.languageChangedHandler=this.languageChangedHandler.bind(this),this.state={selectedCategory:null,searchValue:"",searchField:"",match:{},popupVisible:!1,menuExpanded:!0,applicationInFocus:!0}}mapMarkerClick(e){this.props.history.push(u.createPlacePathFromPlaces(e,this.props.location.pathname))}popupCloseHandler(){this.props.location.pathname.indexOf("records/")>-1?this.props.history.push("/places"+u.createSearchRoute(u.createParamsFromRecordRoute(this.props.location.pathname))):this.props.location.pathname.indexOf("places/")>-1?this.props.history.push("/places"+u.createSearchRoute(u.createParamsFromPlacesRoute(this.props.location.pathname))):this.props.history.push("/places"+u.createSearchRoute(u.createParamsFromSearchRoute(this.props.location.pathname.split(this.props.match.url)[1])))}popupWindowShowHandler(){setTimeout(function(){this.setState({popupVisible:!0})}.bind(this),10)}popupWindowHideHandler(){setTimeout(function(){this.setState({popupVisible:!1})}.bind(this),10)}introOverlayCloseButtonClickHandler(){eventBus.dispatch("overlay.hide"),this.state.neverShowIntro&&localStorage.setItem("neverShowIntro",!0)}languageChangedHandler(){this.forceUpdate()}componentDidMount(){document.getElementById("app").addEventListener("click",this.windowClickHandler.bind(this)),document.title=S.siteTitle,window.eventBus,setTimeout(function(){document.body.classList.add("app-initialized")}.bind(this),1e3),window.addEventListener("focus",function(){this.setState({applicationInFocus:!0})}.bind(this)),window.addEventListener("blur",function(){this.setState({applicationInFocus:!1})}.bind(this))}shouldComponentUpdate(e,t){return JSON.stringify(t)!=JSON.stringify(this.state)}componentDidUpdate(e,t){document.title=S.siteTitle}windowClickHandler(e){r.findDOMNode(this.mapMenu.current),eventBus.dispatch("screen-clicked")}render(){return a.createElement("div",{className:"app-container"+(this.state.popupVisible?" has-overlay":"")},a.createElement(s.rs,null,a.createElement(s.AW,{path:["/statistics"],render:()=>a.createElement(we,{onShow:this.popupWindowShowHandler,onHide:this.popupWindowHideHandler,onClose:this.popupCloseHandler,router:this.context.router},a.createElement(Ee,null))}),a.createElement(s.AW,{path:["/person/:person_id"],render:e=>a.createElement(we,{onShow:this.popupWindowShowHandler,onHide:this.popupWindowHideHandler,onClose:this.popupCloseHandler,router:this.context.router},a.createElement(se,De({key:`Application-PersonView-${e.match.params.person_id}`},e)))}),a.createElement(s.AW,{path:["/places/:place_id([0-9]+)"],render:e=>a.createElement(we,{onShow:this.popupWindowShowHandler,onHide:this.popupWindowHideHandler,onClose:this.popupCloseHandler,router:this.context.router},a.createElement(ae,De({},e,{key:`Application-Place-View-${u.createParamsFromPlacesRoute(e.location.pathname).place_id}`,searchParams:u.createParamsFromPlacesRoute(e.location.pathname),showOnlyResults:Object.values(u.createParamsFromPlacesRoute(e.location.pathname)).filter((e=>e)).length<=2})))}),a.createElement(s.AW,{path:"/places",render:()=>a.createElement(we,{onShow:this.popupWindowShowHandler,onHide:this.popupWindowHideHandler,onClose:this.popupCloseHandler,router:this.context.router},this.props.popup)}),a.createElement(s.AW,{path:"/records",render:e=>a.createElement(we,{onShow:this.popupWindowShowHandler,onHide:this.popupWindowHideHandler,onClose:this.popupCloseHandler,router:this.context.router},a.createElement(be,De({key:`Application-RecordView-${u.createParamsFromRecordRoute(this.props.location.pathname).record_id}`},e,{searchParams:u.createParamsFromRecordRoute(e.location.pathname)})))})),a.createElement(s.AW,{path:["/places/:place_id([0-9]+)?","/records/:record_id","/person/:person_id","/statistics"],render:e=>a.createElement(j,De({searchParams:u.createParamsFromSearchRoute(e.location.pathname.split(e.match.url)[1]),onMarkerClick:this.mapMarkerClick,defaultMarkerIcon:this.defaultMarkerIcon,hideMapmodeMenu:!0},e),a.createElement(H,De({ref:this.mapMenu,searchParams:u.createParamsFromSearchRoute(e.location.pathname.split(e.match.url)[1])},e,{expanded:this.state.menuExpanded})),a.createElement("div",{className:"map-bottom-wrapper"},a.createElement("div",{className:"popup-wrapper"},a.createElement(Y,{className:"popup-open-button map-bottom-control map-floating-control visible",label:l("Skriv av slumpmässig uppteckning"),random:!0})),a.createElement("div",{className:"popup-wrapper"},a.createElement(Ce,{headerText:l("Mina sägner"),history:this.props.history}))))}),a.createElement("div",{className:"map-progress"},a.createElement("div",{className:"indicator"})),a.createElement(Se,null),a.createElement(Pe,null),a.createElement(Ie,null),a.createElement(Ue,this.props),a.createElement(Ne,null),a.createElement(Fe,null),a.createElement(Me,null),a.createElement(Ee,De({},this.props,{applicationInFocus:this.state.applicationInFocus})),a.createElement("footer",null,a.createElement("div",{className:"logo"},a.createElement("div",{id:"Logo",className:"isof-app-header"},a.createElement("a",{href:"https://www.isof.se/arkiv-och-insamling/digitala-arkivtjanster/folke"},a.createElement("img",{alt:"Folke på Institutet för språk och folkminnen",className:"sv-noborder",style:{maxWidth:326,maxHeight:50},src:Ve}))),a.createElement("div",{id:"portal",className:"isof-app-header"},a.createElement("a",{href:"https://www.isof.se/arkiv-och-insamling/digitala-arkivtjanster/folke",target:"_blank",className:"normal",style:{display:"block"}},"Om Folke")))))}}function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},We.apply(this,arguments)}class Ze extends a.Component{constructor(e){super(e),this.languageChangedHandler=this.languageChangedHandler.bind(this)}languageChangedHandler(){this.forceUpdate()}componentDidMount(){window.eventBus&&window.eventBus.addEventListener("Lang.setCurrentLang",this.languageChangedHandler)}componentWillUnmount(){window.eventBus&&window.eventBus.removeEventListener("Lang.setCurrentLang",this.languageChangedHandler)}render(){let e=this.props;return a.createElement("div",{className:"container"},a.createElement("div",{className:"container-header"},a.createElement("div",{className:"row"},a.createElement("div",{className:"twelve columns"},a.createElement("h2",null,l("Sökträffar som lista")," – ","one_accession_row"===this.props.searchParams.recordtype?"Accessioner":"Uppteckningar")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"records-list-wrapper"},a.createElement(Q,We({key:`RecordListWrapper-RecordList-${this.props.location.pathname}`,searchParams:u.createParamsFromPlacesRoute(this.props.location.pathname),highlightRecordsWithMetadataField:this.props.highlightRecordsWithMetadataField},e)))))}}var Ke=n(3379),Ye=n.n(Ke),Ge=n(7795),$e=n.n(Ge),Xe=n(569),qe=n.n(Xe),Je=n(3565),Qe=n.n(Je),et=n(9216),tt=n.n(et),nt=n(4589),at=n.n(nt),rt=n(2290),it={};it.styleTagTransform=at(),it.setAttributes=Qe(),it.insert=qe().bind(null,"head"),it.domAPI=$e(),it.insertStyleElement=tt(),Ye()(rt.Z,it),rt.Z&&rt.Z.locals&&rt.Z.locals;var ot=n(9765);const st={sv:{"Mina sägner":"Mina sparade favoriter","Inga sparade sägner":"Inga sparade favoriter","Klicka på stjärnan för att spara sägner till din egen lista.":"Klicka på stjärnan för att spara favoriter till din egen lista.","har sparats till dina sägner":"har sparats till dina favoriter","Klicka här för att visa lista över dina sparade uppteckningar.":"Klicka här för att visa lista över dina sparade favoriter.","Samtliga uppteckningar från orten":"Samtliga favoriter från orten","Länk till dina sägner har kopierats.":"Länk till din favorit har kopierats.",Fylke:" ",untranscribed:"Ej transkribera",readytotranscribe:"Nej",undertranscription:"Skrivs av",transcribed:"Granskas",reviewing:"Granskas",approved:"Granskas",published:"Ja"},no:{Karta:"Kart","Mina sägner":"Mine sagn","Visa sökträffar som lista":"Vis søketreff som liste","Sökträffar som lista":"Søketreff som liste","Inga sökträffar":"Ingen treff",Sökträffar:"Treff",Sök:"Søk",Stäng:"Lukk",Ort:"Kommune, fylke","Klicka här för att inte visa den rutan igen.":"Klikk her for ikke å vise dette vinduet igjen","Norska sägner":"Norske sagn","Nordiska sägner":"Nordiske sagn",Innehåll:"Innhold",Person:"Person",Ort:"Sted","Avancerad sökning":"Avansert søk","Avgränsa till kategorier":"Begrens til kategorier",Upptecknare:"Samler",Meddelare:"Meddeler",Kön:"Kjønn",Båda:"Begge",Kvinna:"Kvinne",Man:"Mann",Kategorier:"Kategorier","Kopiera länk":"Kopier lenke","Länk till dina sägner har kopierats.":"Link til dine sagn har blitt kopiert.","Klicka här för att visa lista över dina sparade sägner.":"Klikk her for å vise liste over dine lagrede sagn","Länk har kopierats.":"Link har blitt kopiert.","Dela sägen på sociala media":"Del sagnet på sosiale medier via denne lenken",Titel:"Tittel",Kategori:"Kategori",Uppteckningsår:"Opptegnelsesår",Visar:"Viser",av:"fra",Föregående:"Forrige",Nästa:"Neste","Klicka på stjärnan för att spara sägner till din egen lista.":"Klikk på stjernen for å lagre sagn i din egen liste",Spara:"Lagre","har sparats till dina sägner":"har blitt lagret i dine sagn","Ordförklaringar och dylikt i upptekcningarna/utgåvorna":"Ordforklaringer og lignende i opptegnelsene/utgavene",Personer:"Personer",Namn:"Navn",Födelseår:"Fødselsår",Födelseort:"Fødested",Roll:"Rolle",Platser:"Steder",Arkiv:"Arkiv","Acc. nr":"Acc.nr",Sidnummer:"Sidenr.",Materialtyp:"Materialtype",Uppteckningar:"Opptegnelser",Föddes:"Født","Samtliga uppteckningar från orten":"Samtlige opptegnelser fra stedet","Intervjuade personer":"Intervjuede personer","Några intressanta sägner på sägenkartan:":"Noen interessante sagn på sagnkartet","Döden och de döda":"Døden og de døde","Den vilda jakten":"Den ville jakten",Skogsväsen:"Skogvetter",Vattenväsen:"Vannvetter",Bergväsen:"Bergvetter",Tomtar:"Nisser","De underjordiska":"De underjordiske",Förvandlade:"Omskapte",Spiritus:"Ånder",Djävulen:"Djevelen",Kloka:"Kloke","Häxor och trollkarlar":"Hekser og trollmenn","Tjuvmjölkande väsen":"Tyvmelkende vesen","Övernaturliga djur":"Overnaturlige dyr",År:"Opptegnelsesår",Kommentarer:"Ordforklaringer og lignende i opptegnelsene/utgavene","Tryckt källa":"Tryckt källa",Avskriven:"Avskriven","Frågor och synpunkter":"Frågor och synpunkter","Vet du mer?":"Vet du mer?",Hjälp:"Hjälp","Finns inte":"Finns inte","Post ":"Post "," finns inte.":" finns inte.","Den här uppteckningen är inte avskriven.":"Den här uppteckningen är inte avskriven.","Vill du vara med och tillgängliggöra samlingarna för fler? Hjälp oss att skriva av berättelser!":"Vill du vara med och tillgängliggöra samlingarna för fler? Hjälp oss att skriva av berättelser!","Skriv av":"Skriv av",untranscribed:"Ej transkribera",readytotranscribe:"Nej",transcribed:"Granskas",reviewing:"Granskas",approved:"Granskas",published:"Ja"}},lt={collect:!1,setCurrentLang:function(e){window.currentLang=e,window.eventBus&&window.eventBus.dispatch("Lang.setCurrentLang")},get:function(e){return window.traceLangGet&&console.log("Lang.get: "+e),window.currentLang||(window.currentLang="sv"),Lang.collect&&(Lang.notFound||(Lang.notFound=[]),st[window.currentLang][e]||-1==Lang.notFound.indexOf(e)&&(Lang.notFound.push(e),console.log('Did not find translation for "'+e+'"'))),st[window.currentLang]&&st[window.currentLang][e]?st[window.currentLang][e]:e}};function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pt.apply(this,arguments)}"prod"!==E&&console.log(`PublikUtforska running React.js version ${a.version} and ReactDOM version ${r.version} on ${E} environment`),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),a=1;a<arguments.length;a++){var r=arguments[a];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},writable:!0,configurable:!0}),window.Promise||(window.Promise=ot.Z),lt.setCurrentLang("sv"),window.Lang=lt,window.l=lt.get;const ct=document.getElementById("app");i.createRoot(ct).render(a.createElement(o.UT,null,a.createElement(s.AW,{exact:!0,path:"/"},a.createElement(s.l_,{to:"/places/recordtype/one_accession_row/has_media/true"})),a.createElement(s.AW,{exact:!0,path:"/places"},a.createElement(s.l_,{to:"/places/recordtype/one_accession_row/has_media/true"})),a.createElement(s.AW,{path:["/places/:place_id([0-9]+)?","/records/:record_id","/person/:person_id","/statistics"],render:e=>a.createElement(je,pt({popup:a.createElement(Ze,pt({manuallyOpenPopup:!0,openButtonLabel:"Visa sökträffar som lista",disableRouterPagination:!1,searchParams:u.createParamsFromSearchRoute(e.location.pathname.split(e.match.url)[1])},e))},e))})))},2290:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Xt});var a=n(8081),r=n.n(a),i=n(3645),o=n.n(i),s=n(1667),l=n.n(s),p=new URL(n(9827),n.b),c=new URL(n(8228),n.b),d=new URL(n(6551),n.b),m=new URL(n(3548),n.b),h=new URL(n(2625),n.b),u=new URL(n(3914),n.b),g=new URL(n(7176),n.b),f=new URL(n(3686),n.b),b=new URL(n(2169),n.b),w=new URL(n(3435),n.b),v=new URL(n(5060),n.b),y=new URL(n(4614),n.b),x=new URL(n(4464),n.b),k=new URL(n(425),n.b),E=new URL(n(3768),n.b),_=new URL(n(4607),n.b),C=new URL(n(2504),n.b),S=new URL(n(6813),n.b),P=new URL(n(8515),n.b),L=new URL(n(1873),n.b),I=new URL(n(3102),n.b),N=new URL(n(8849),n.b),H=new URL(n(1885),n.b),O=new URL(n(3571),n.b),B=new URL(n(1704),n.b),R=new URL(n(5340),n.b),z=new URL(n(609),n.b),U=new URL(n(6574),n.b),M=new URL(n(7164),n.b),F=new URL(n(8915),n.b),V=new URL(n(3602),n.b),A=new URL(n(4958),n.b),T=new URL(n(3528),n.b),D=new URL(n(4338),n.b),j=new URL(n(7564),n.b),W=new URL(n(1240),n.b),Z=new URL(n(6331),n.b),K=new URL(n(9835),n.b),Y=new URL(n(3245),n.b),G=new URL(n(4592),n.b),$=new URL(n(4276),n.b),X=new URL(n(9989),n.b),q=new URL(n(638),n.b),J=new URL(n(8417),n.b),Q=new URL(n(9372),n.b),ee=new URL(n(2430),n.b),te=new URL(n(664),n.b),ne=new URL(n(4487),n.b),ae=new URL(n(6843),n.b),re=new URL(n(632),n.b),ie=new URL(n(7515),n.b),oe=new URL(n(7889),n.b),se=new URL(n(8145),n.b),le=new URL(n(2183),n.b),pe=new URL(n(1554),n.b),ce=new URL(n(522),n.b),de=new URL(n(556),n.b),me=new URL(n(261),n.b),he=new URL(n(9348),n.b),ue=new URL(n(5329),n.b),ge=new URL(n(157),n.b),fe=new URL(n(2519),n.b),be=new URL(n(2116),n.b),we=new URL(n(3983),n.b),ve=new URL(n(5383),n.b),ye=new URL(n(8911),n.b),xe=new URL(n(1152),n.b),ke=new URL(n(3306),n.b),Ee=new URL(n(6443),n.b),_e=new URL(n(1916),n.b),Ce=o()(r()),Se=l()(p),Pe=l()(c),Le=l()(d),Ie=l()(m),Ne=l()(h),He=l()(u),Oe=l()(g),Be=l()(f),Re=l()(b),ze=l()(w),Ue=l()(v),Me=l()(y),Fe=l()(x),Ve=l()(k),Ae=l()(E),Te=l()(_),De=l()(C),je=l()(S),We=l()(P),Ze=l()(L),Ke=l()(I),Ye=l()(N),Ge=l()(H),$e=l()(H,{hash:"?#iefix"}),Xe=l()(O),qe=l()(B),Je=l()(R),Qe=l()(z,{hash:"#SourceSansPro"}),et=l()(U),tt=l()(U,{hash:"?#iefix"}),nt=l()(M),at=l()(F),rt=l()(V),it=l()(A,{hash:"#SourceSansPro"}),ot=l()(T),st=l()(T,{hash:"?#iefix"}),lt=l()(D),pt=l()(j),ct=l()(W),dt=l()(Z,{hash:"#SourceSansPro"}),mt=l()(K),ht=l()(K,{hash:"?#iefix"}),ut=l()(Y),gt=l()(G),ft=l()($),bt=l()(X,{hash:"#SourceSansPro"}),wt=l()(q),vt=l()(J),yt=l()(Q),xt=l()(ee),kt=l()(te),Et=l()(ne),_t=l()(ae),Ct=l()(re),St=l()(ie),Pt=l()(ie,{hash:"?#iefix"}),Lt=l()(oe),It=l()(se),Nt=l()(le),Ht=l()(pe,{hash:"#BarlowCondensed"}),Ot=l()(ce),Bt=l()(ce,{hash:"?#iefix"}),Rt=l()(de),zt=l()(me),Ut=l()(he),Mt=l()(ue,{hash:"#BarlowCondensed"}),Ft=l()(ge),Vt=l()(ge,{hash:"?#iefix"}),At=l()(fe),Tt=l()(be),Dt=l()(we),jt=l()(ve,{hash:"#BarlowCondensed"}),Wt=l()(ye),Zt=l()(ye,{hash:"?#iefix"}),Kt=l()(xe),Yt=l()(ke),Gt=l()(Ee),$t=l()(_e,{hash:"#BarlowCondensed"});Ce.push([e.id,'/*\n* Skeleton V2.0.4\n* Copyright 2014, Dave Gamache\n* www.getskeleton.com\n* Free to use under the MIT license.\n* http://www.opensource.org/licenses/mit-license.php\n* 12/29/2014\n*/\n/* Table of contents\n––––––––––––––––––––––––––––––––––––––––––––––––––\n- Grid\n- Base Styles\n- Typography\n- Links\n- Buttons\n- Forms\n- Lists\n- Code\n- Tables\n- Spacing\n- Utilities\n- Clearing\n- Media Queries\n*/\n/* Grid\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\n.container {\n  position: relative;\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 20px;\n  box-sizing: border-box;\n}\n.column,\n.columns {\n  width: 100%;\n  float: left;\n  box-sizing: border-box;\n}\n/* For devices larger than 400px */\n@media (min-width: 400px) {\n  .container {\n    width: 85%;\n    padding: 0;\n  }\n}\n/* For devices larger than 550px */\n@media (min-width: 550px) {\n  .container {\n    width: 95%;\n  }\n  .column,\n  .columns {\n    margin-left: 4%;\n  }\n  .column:first-child,\n  .columns:first-child {\n    margin-left: 0;\n  }\n  .one.column,\n  .one.columns {\n    width: 4.66666667%;\n  }\n  .two.columns {\n    width: 13.33333333%;\n  }\n  .three.columns {\n    width: 22%;\n  }\n  .four.columns {\n    width: 30.66666667%;\n  }\n  .five.columns {\n    width: 39.33333333%;\n  }\n  .six.columns {\n    width: 48%;\n  }\n  .seven.columns {\n    width: 56.66666667%;\n  }\n  .eight.columns {\n    width: 65.33333333%;\n  }\n  .nine.columns {\n    width: 74%;\n  }\n  .ten.columns {\n    width: 82.66666667%;\n  }\n  .eleven.columns {\n    width: 91.33333333%;\n  }\n  .twelve.columns {\n    width: 100%;\n    margin-left: 0;\n  }\n  .one-third.column {\n    width: 30.66666667%;\n  }\n  .two-thirds.column {\n    width: 65.33333333%;\n  }\n  .one-half.column {\n    width: 48%;\n  }\n  /* Offsets */\n  .offset-by-one.column,\n  .offset-by-one.columns {\n    margin-left: 8.66666667%;\n  }\n  .offset-by-two.column,\n  .offset-by-two.columns {\n    margin-left: 17.33333333%;\n  }\n  .offset-by-three.column,\n  .offset-by-three.columns {\n    margin-left: 26%;\n  }\n  .offset-by-four.column,\n  .offset-by-four.columns {\n    margin-left: 34.66666667%;\n  }\n  .offset-by-five.column,\n  .offset-by-five.columns {\n    margin-left: 43.33333333%;\n  }\n  .offset-by-six.column,\n  .offset-by-six.columns {\n    margin-left: 52%;\n  }\n  .offset-by-seven.column,\n  .offset-by-seven.columns {\n    margin-left: 60.66666667%;\n  }\n  .offset-by-eight.column,\n  .offset-by-eight.columns {\n    margin-left: 69.33333333%;\n  }\n  .offset-by-nine.column,\n  .offset-by-nine.columns {\n    margin-left: 78%;\n  }\n  .offset-by-ten.column,\n  .offset-by-ten.columns {\n    margin-left: 86.66666667%;\n  }\n  .offset-by-eleven.column,\n  .offset-by-eleven.columns {\n    margin-left: 95.33333333%;\n  }\n  .offset-by-one-third.column,\n  .offset-by-one-third.columns {\n    margin-left: 34.66666667%;\n  }\n  .offset-by-two-thirds.column,\n  .offset-by-two-thirds.columns {\n    margin-left: 69.33333333%;\n  }\n  .offset-by-one-half.column,\n  .offset-by-one-half.columns {\n    margin-left: 52%;\n  }\n}\n/* Buttons\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\n.button,\nbutton,\ninput[type="submit"],\ninput[type="reset"],\ninput[type="button"] {\n  display: inline-block;\n  height: 44px;\n  padding: 0 30px;\n  color: #555;\n  text-align: center;\n  font-size: 13px;\n  font-weight: 600;\n  line-height: 43px;\n  letter-spacing: 0.1rem;\n  text-decoration: none;\n  white-space: nowrap;\n  background-color: transparent;\n  border-radius: 3px;\n  border: 1px solid #bbb;\n  cursor: pointer;\n  box-sizing: border-box;\n  -webkit-transition: all 200ms ease-in-out;\n  -o-transition: all 200ms ease-in-out;\n  transition: all 200ms ease-in-out;\n}\n.button:hover,\nbutton:hover,\ninput[type="submit"]:hover,\ninput[type="reset"]:hover,\ninput[type="button"]:hover,\n.button:focus,\nbutton:focus,\ninput[type="submit"]:focus,\ninput[type="reset"]:focus,\ninput[type="button"]:focus {\n  color: #333;\n  border-color: #888;\n  outline: 0;\n}\n.button.button-primary,\nbutton.button-primary,\ninput[type="submit"].button-primary,\ninput[type="reset"].button-primary,\ninput[type="button"].button-primary {\n  color: #FFF;\n  background-color: #097C44;\n  border: none;\n}\n.button.button-primary:hover,\nbutton.button-primary:hover,\ninput[type="submit"].button-primary:hover,\ninput[type="reset"].button-primary:hover,\ninput[type="button"].button-primary:hover,\n.button.button-primary:focus,\nbutton.button-primary:focus,\ninput[type="submit"].button-primary:focus,\ninput[type="reset"].button-primary:focus,\ninput[type="button"].button-primary:focus {\n  color: #FFF;\n  background-color: #064c2a;\n}\n.button.button-gray,\nbutton.button-gray,\ninput[type="submit"].button-gray,\ninput[type="reset"].button-gray,\ninput[type="button"].button-gray {\n  color: #FFF;\n  background-color: #79847f;\n  box-shadow: inset 0px -3px 0px #515955;\n  border: none;\n}\n.button.button-gray:hover,\nbutton.button-gray:hover,\ninput[type="submit"].button-gray:hover,\ninput[type="reset"].button-gray:hover,\ninput[type="button"].button-gray:hover,\n.button.button-gray:focus,\nbutton.button-gray:focus,\ninput[type="submit"].button-gray:focus,\ninput[type="reset"].button-gray:focus,\ninput[type="button"].button-gray:focus {\n  color: #FFF;\n  background-color: #97a19c;\n}\n.button.button-small,\nbutton.button-small,\ninput[type="submit"].button-small,\ninput[type="reset"].button-small,\ninput[type="button"].button-small {\n  height: 32px;\n  line-height: 32px;\n  padding: 0 15px;\n}\n.button.button-large,\nbutton.button-large,\ninput[type="submit"].button-large,\ninput[type="reset"].button-large,\ninput[type="button"].button-large {\n  height: 55px;\n  line-height: 55px;\n  padding: 0 45px;\n  font-size: 14px;\n}\nbutton[disabled] {\n  background: #ccc;\n  border-color: #ccc;\n  text-shadow: none;\n}\nbutton[disabled]:hover {\n  background: #ccc;\n}\n/* Forms\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\ninput[type="email"],\ninput[type="number"],\ninput[type="search"],\ninput[type="text"],\ninput[type="tel"],\ninput[type="url"],\ninput[type="password"],\ntextarea,\nselect {\n  height: 38px;\n  padding: 6px 10px;\n  /* The 6px vertically centers text on FF, ignored by Webkit */\n  background-color: #fff;\n  border: 1px solid #D1D1D1;\n  border-radius: 4px;\n  box-shadow: none;\n  box-sizing: border-box;\n}\n/* Removes awkward default styles on some inputs for iOS */\ninput[type="email"],\ninput[type="number"],\ninput[type="search"],\ninput[type="text"],\ninput[type="tel"],\ninput[type="url"],\ninput[type="password"],\ntextarea {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\ntextarea {\n  min-height: 65px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\ninput[type="email"]:focus,\ninput[type="number"]:focus,\ninput[type="search"]:focus,\ninput[type="text"]:focus,\ninput[type="tel"]:focus,\ninput[type="url"]:focus,\ninput[type="password"]:focus,\ntextarea:focus,\nselect:focus {\n  border: 1px solid #A5865A;\n  outline: 0;\n}\nlabel,\nlegend {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n}\nfieldset {\n  padding: 0;\n  border-width: 0;\n}\ninput[type="checkbox"],\ninput[type="radio"] {\n  display: inline;\n}\nlabel > .label-body {\n  display: inline-block;\n  margin-left: 0.5rem;\n  font-weight: normal;\n}\n/* Lists\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\nul {\n  list-style: circle inside;\n}\nol {\n  list-style: decimal inside;\n}\nol,\nul {\n  padding-left: 0;\n  margin-top: 0;\n}\nul ul,\nul ol,\nol ol,\nol ul {\n  margin: 1.5rem 0 1.5rem 3rem;\n  font-size: 90%;\n}\nli {\n  margin-bottom: 1rem;\n}\n/* Code\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\ncode {\n  padding: 0.2rem 0.5rem;\n  margin: 0 0.2rem;\n  font-size: 90%;\n  white-space: nowrap;\n  background: #F1F1F1;\n  border: 1px solid #E1E1E1;\n  border-radius: 4px;\n}\npre > code {\n  display: block;\n  padding: 1rem 1.5rem;\n  white-space: pre;\n}\n/* Tables\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\nth,\ntd {\n  padding: 12px 15px;\n  text-align: left;\n  border-bottom: 1px solid #E1E1E1;\n}\nth:first-child,\ntd:first-child {\n  padding-left: 0;\n}\nth:last-child,\ntd:last-child {\n  padding-right: 0;\n}\n/* Spacing\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\nbutton,\n.button {\n  margin-bottom: 1rem;\n}\ninput,\ntextarea,\nselect,\nfieldset {\n  margin-bottom: 1.5rem;\n}\npre,\nblockquote,\ndl,\nfigure,\ntable,\np,\nul,\nol,\nform {\n  margin-bottom: 2.5rem;\n}\n/* Utilities\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\n.u-full-width {\n  width: 100%;\n  box-sizing: border-box;\n}\n.u-max-full-width {\n  max-width: 100%;\n  box-sizing: border-box;\n}\n.u-pull-right {\n  float: right;\n}\n.u-pull-left {\n  float: left;\n}\n/* Misc\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\nhr {\n  margin-top: 3rem;\n  margin-bottom: 3.5rem;\n  border-width: 0;\n  border-top: 1px solid #E1E1E1;\n}\n@media (max-width: 750px) {\n  hr {\n    margin-top: 1rem;\n    margin-bottom: 1rem;\n  }\n}\n/* Clearing\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\n/* Self Clearing Goodness */\n.container:after,\n.row:after,\n.u-cf {\n  content: "";\n  display: table;\n  clear: both;\n}\n/* Media Queries\n–––––––––––––––––––––––––––––––––––––––––––––––––– */\n/*\nNote: The best way to structure the use of media queries is to create the queries\nnear the relevant code. For example, if you wanted to change the styles for buttons\non small devices, paste the mobile query code up in the buttons section and style it\nthere.\n*/\n/* Larger than mobile */\n/* Larger than phablet (also point when grid becomes active) */\n/* Larger than tablet */\n/* Larger than desktop */\n/* Larger than Desktop HD */\n.u-cursor-pointer {\n  cursor: pointer;\n}\n/* required styles */\n.leaflet-pane,\n.leaflet-tile,\n.leaflet-marker-icon,\n.leaflet-marker-shadow,\n.leaflet-tile-container,\n.leaflet-pane > svg,\n.leaflet-pane > canvas,\n.leaflet-zoom-box,\n.leaflet-image-layer,\n.leaflet-layer {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.leaflet-container {\n  overflow: hidden;\n}\n.leaflet-tile,\n.leaflet-marker-icon,\n.leaflet-marker-shadow {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\n.leaflet-safari .leaflet-tile {\n  image-rendering: -webkit-optimize-contrast;\n}\n/* hack that prevents hw layers "stretching" when loading new tiles */\n.leaflet-safari .leaflet-tile-container {\n  width: 1600px;\n  height: 1600px;\n  -webkit-transform-origin: 0 0;\n}\n.leaflet-marker-icon,\n.leaflet-marker-shadow {\n  display: block;\n}\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\n.leaflet-container .leaflet-overlay-pane svg,\n.leaflet-container .leaflet-marker-pane img,\n.leaflet-container .leaflet-shadow-pane img,\n.leaflet-container .leaflet-tile-pane img,\n.leaflet-container img.leaflet-image-layer {\n  max-width: none !important;\n}\n.leaflet-container.leaflet-touch-zoom {\n  -ms-touch-action: pan-x pan-y;\n  touch-action: pan-x pan-y;\n}\n.leaflet-container.leaflet-touch-drag {\n  -ms-touch-action: pinch-zoom;\n}\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\n  -ms-touch-action: none;\n  touch-action: none;\n}\n.leaflet-tile {\n  filter: inherit;\n  visibility: hidden;\n}\n.leaflet-tile-loaded {\n  visibility: inherit;\n}\n.leaflet-zoom-box {\n  width: 0;\n  height: 0;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  z-index: 800;\n}\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\n.leaflet-overlay-pane svg {\n  -moz-user-select: none;\n}\n.leaflet-pane {\n  z-index: 400;\n}\n.leaflet-tile-pane {\n  z-index: 200;\n}\n.leaflet-overlay-pane {\n  z-index: 400;\n}\n.leaflet-shadow-pane {\n  z-index: 500;\n}\n.leaflet-marker-pane {\n  z-index: 600;\n}\n.leaflet-tooltip-pane {\n  z-index: 650;\n}\n.leaflet-popup-pane {\n  z-index: 700;\n}\n.leaflet-map-pane canvas {\n  z-index: 100;\n}\n.leaflet-map-pane svg {\n  z-index: 200;\n}\n.leaflet-vml-shape {\n  width: 1px;\n  height: 1px;\n}\n.lvml {\n  behavior: url(#default#VML);\n  display: inline-block;\n  position: absolute;\n}\n/* control positioning */\n.leaflet-control {\n  position: relative;\n  z-index: 800;\n  pointer-events: visiblePainted;\n  /* IE 9-10 doesn\'t have auto */\n  pointer-events: auto;\n}\n.leaflet-top,\n.leaflet-bottom {\n  position: absolute;\n  z-index: 1000;\n  pointer-events: none;\n}\n.leaflet-top {\n  top: 0;\n}\n.leaflet-right {\n  right: 0;\n}\n.leaflet-bottom {\n  bottom: 0;\n}\n.leaflet-left {\n  left: 0;\n}\n.leaflet-control {\n  float: left;\n  clear: both;\n}\n.leaflet-right .leaflet-control {\n  float: right;\n}\n.leaflet-top .leaflet-control {\n  margin-top: 10px;\n}\n.leaflet-bottom .leaflet-control {\n  margin-bottom: 10px;\n}\n.leaflet-left .leaflet-control {\n  margin-left: 10px;\n}\n.leaflet-right .leaflet-control {\n  margin-right: 10px;\n}\n/* zoom and fade animations */\n.leaflet-fade-anim .leaflet-tile {\n  will-change: opacity;\n}\n.leaflet-fade-anim .leaflet-popup {\n  opacity: 0;\n  -webkit-transition: opacity 0.2s linear;\n  -moz-transition: opacity 0.2s linear;\n  -o-transition: opacity 0.2s linear;\n  transition: opacity 0.2s linear;\n}\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\n  opacity: 1;\n}\n.leaflet-zoom-animated {\n  -webkit-transform-origin: 0 0;\n  -ms-transform-origin: 0 0;\n  transform-origin: 0 0;\n}\n.leaflet-zoom-anim .leaflet-zoom-animated {\n  will-change: transform;\n}\n.leaflet-zoom-anim .leaflet-zoom-animated {\n  -webkit-transition: -webkit-transform 0.25s cubic-bezier(0, 0, 0.25, 1);\n  -moz-transition: -moz-transform 0.25s cubic-bezier(0, 0, 0.25, 1);\n  -o-transition: -o-transform 0.25s cubic-bezier(0, 0, 0.25, 1);\n  transition: transform 0.25s cubic-bezier(0, 0, 0.25, 1);\n}\n.leaflet-zoom-anim .leaflet-tile,\n.leaflet-pan-anim .leaflet-tile {\n  -webkit-transition: none;\n  -moz-transition: none;\n  -o-transition: none;\n  transition: none;\n}\n.leaflet-zoom-anim .leaflet-zoom-hide {\n  visibility: hidden;\n}\n/* cursors */\n.leaflet-interactive {\n  cursor: pointer;\n}\n.leaflet-grab {\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n}\n.leaflet-crosshair,\n.leaflet-crosshair .leaflet-interactive {\n  cursor: crosshair;\n}\n.leaflet-popup-pane,\n.leaflet-control {\n  cursor: auto;\n}\n.leaflet-dragging .leaflet-grab,\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\n.leaflet-dragging .leaflet-marker-draggable {\n  cursor: move;\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n}\n/* marker & overlays interactivity */\n.leaflet-marker-icon,\n.leaflet-marker-shadow,\n.leaflet-image-layer,\n.leaflet-pane > svg path,\n.leaflet-tile-container {\n  pointer-events: none;\n}\n.leaflet-marker-icon.leaflet-interactive,\n.leaflet-image-layer.leaflet-interactive,\n.leaflet-pane > svg path.leaflet-interactive {\n  pointer-events: visiblePainted;\n  /* IE 9-10 doesn\'t have auto */\n  pointer-events: auto;\n}\n/* visual tweaks */\n.leaflet-container {\n  background: #ddd;\n  outline: 0;\n}\n.leaflet-container a {\n  color: #0078A8;\n}\n.leaflet-container a.leaflet-active {\n  outline: 2px solid orange;\n}\n.leaflet-zoom-box {\n  border: 2px dotted #38f;\n  background: rgba(255, 255, 255, 0.5);\n}\n/* general typography */\n.leaflet-container {\n  font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n}\n/* general toolbar styles */\n.leaflet-bar {\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);\n  border-radius: 4px;\n}\n.leaflet-bar a,\n.leaflet-bar a:hover {\n  background-color: #fff;\n  border-bottom: 1px solid #ccc;\n  width: 26px;\n  height: 26px;\n  line-height: 26px;\n  display: block;\n  text-align: center;\n  text-decoration: none;\n  color: black;\n}\n.leaflet-bar a,\n.leaflet-control-layers-toggle {\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  display: block;\n}\n.leaflet-bar a:hover {\n  background-color: #f4f4f4;\n}\n.leaflet-bar a:first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n.leaflet-bar a:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-bottom: none;\n}\n.leaflet-bar a.leaflet-disabled {\n  cursor: default;\n  background-color: #f4f4f4;\n  color: #bbb;\n}\n.leaflet-touch .leaflet-bar a {\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n}\n/* zoom control */\n.leaflet-control-zoom-in,\n.leaflet-control-zoom-out {\n  font: bold 18px \'Lucida Console\', Monaco, monospace;\n  text-indent: 1px;\n}\n.leaflet-control-zoom-out {\n  font-size: 20px;\n}\n.leaflet-touch .leaflet-control-zoom-in {\n  font-size: 22px;\n}\n.leaflet-touch .leaflet-control-zoom-out {\n  font-size: 24px;\n}\n/* layers control */\n.leaflet-control-layers {\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);\n  background: #fff;\n  border-radius: 5px;\n}\n.leaflet-control-layers-toggle {\n  background-image: url('+Se+");\n  width: 36px;\n  height: 36px;\n}\n.leaflet-retina .leaflet-control-layers-toggle {\n  background-image: url("+Pe+");\n  background-size: 26px 26px;\n}\n.leaflet-touch .leaflet-control-layers-toggle {\n  width: 44px;\n  height: 44px;\n}\n.leaflet-control-layers .leaflet-control-layers-list,\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\n  display: none;\n}\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\n  display: block;\n  position: relative;\n}\n.leaflet-control-layers-expanded {\n  padding: 6px 10px 6px 6px;\n  color: #333;\n  background: #fff;\n}\n.leaflet-control-layers-scrollbar {\n  overflow-y: scroll;\n  padding-right: 5px;\n}\n.leaflet-control-layers-selector {\n  margin-top: 2px;\n  position: relative;\n  top: 1px;\n}\n.leaflet-control-layers label {\n  display: block;\n}\n.leaflet-control-layers-separator {\n  height: 0;\n  border-top: 1px solid #ddd;\n  margin: 5px -10px 5px -6px;\n}\n/* Default icon URLs */\n.leaflet-default-icon-path {\n  background-image: url("+Le+');\n}\n/* attribution and scale controls */\n.leaflet-container .leaflet-control-attribution {\n  background: #fff;\n  background: rgba(255, 255, 255, 0.7);\n  margin: 0;\n}\n.leaflet-control-attribution,\n.leaflet-control-scale-line {\n  padding: 0 5px;\n  color: #333;\n}\n.leaflet-control-attribution a {\n  text-decoration: none;\n}\n.leaflet-control-attribution a:hover {\n  text-decoration: underline;\n}\n.leaflet-container .leaflet-control-attribution,\n.leaflet-container .leaflet-control-scale {\n  font-size: 11px;\n}\n.leaflet-left .leaflet-control-scale {\n  margin-left: 5px;\n}\n.leaflet-bottom .leaflet-control-scale {\n  margin-bottom: 5px;\n}\n.leaflet-control-scale-line {\n  border: 2px solid #777;\n  border-top: none;\n  line-height: 1.1;\n  padding: 2px 5px 1px;\n  font-size: 11px;\n  white-space: nowrap;\n  overflow: hidden;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  background: #fff;\n  background: rgba(255, 255, 255, 0.5);\n}\n.leaflet-control-scale-line:not(:first-child) {\n  border-top: 2px solid #777;\n  border-bottom: none;\n  margin-top: -2px;\n}\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\n  border-bottom: 2px solid #777;\n}\n.leaflet-touch .leaflet-control-attribution,\n.leaflet-touch .leaflet-control-layers,\n.leaflet-touch .leaflet-bar {\n  box-shadow: none;\n}\n.leaflet-touch .leaflet-control-layers,\n.leaflet-touch .leaflet-bar {\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  background-clip: padding-box;\n}\n/* popup */\n.leaflet-popup {\n  position: absolute;\n  text-align: center;\n  margin-bottom: 20px;\n}\n.leaflet-popup-content-wrapper {\n  padding: 1px;\n  text-align: left;\n  border-radius: 12px;\n}\n.leaflet-popup-content {\n  margin: 13px 19px;\n  line-height: 1.4;\n}\n.leaflet-popup-content p {\n  margin: 18px 0;\n}\n.leaflet-popup-tip-container {\n  width: 40px;\n  height: 20px;\n  position: absolute;\n  left: 50%;\n  margin-left: -20px;\n  overflow: hidden;\n  pointer-events: none;\n}\n.leaflet-popup-tip {\n  width: 17px;\n  height: 17px;\n  padding: 1px;\n  margin: -10px auto 0;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n.leaflet-popup-content-wrapper,\n.leaflet-popup-tip {\n  background: white;\n  color: #333;\n  box-shadow: 0 3px 14px rgba(0, 0, 0, 0.4);\n}\n.leaflet-container a.leaflet-popup-close-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 4px 4px 0 0;\n  border: none;\n  text-align: center;\n  width: 18px;\n  height: 14px;\n  font: 16px/14px Tahoma, Verdana, sans-serif;\n  color: #c3c3c3;\n  text-decoration: none;\n  font-weight: bold;\n  background: transparent;\n}\n.leaflet-container a.leaflet-popup-close-button:hover {\n  color: #999;\n}\n.leaflet-popup-scrolled {\n  overflow: auto;\n  border-bottom: 1px solid #ddd;\n  border-top: 1px solid #ddd;\n}\n.leaflet-oldie .leaflet-popup-content-wrapper {\n  zoom: 1;\n}\n.leaflet-oldie .leaflet-popup-tip {\n  width: 24px;\n  margin: 0 auto;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\n  filter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\n}\n.leaflet-oldie .leaflet-popup-tip-container {\n  margin-top: -1px;\n}\n.leaflet-oldie .leaflet-control-zoom,\n.leaflet-oldie .leaflet-control-layers,\n.leaflet-oldie .leaflet-popup-content-wrapper,\n.leaflet-oldie .leaflet-popup-tip {\n  border: 1px solid #999;\n}\n/* div icon */\n.leaflet-div-icon {\n  background: #fff;\n  border: 1px solid #666;\n}\n/* Tooltip */\n/* Base styles for the element that has a tooltip */\n.leaflet-tooltip {\n  position: absolute;\n  padding: 6px;\n  background-color: #fff;\n  border: 1px solid #fff;\n  border-radius: 3px;\n  color: #222;\n  white-space: nowrap;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  pointer-events: none;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n}\n.leaflet-tooltip.leaflet-clickable {\n  cursor: pointer;\n  pointer-events: auto;\n}\n.leaflet-tooltip-top:before,\n.leaflet-tooltip-bottom:before,\n.leaflet-tooltip-left:before,\n.leaflet-tooltip-right:before {\n  position: absolute;\n  pointer-events: none;\n  border: 6px solid transparent;\n  background: transparent;\n  content: "";\n}\n/* Directions */\n.leaflet-tooltip-bottom {\n  margin-top: 6px;\n}\n.leaflet-tooltip-top {\n  margin-top: -6px;\n}\n.leaflet-tooltip-bottom:before,\n.leaflet-tooltip-top:before {\n  left: 50%;\n  margin-left: -6px;\n}\n.leaflet-tooltip-top:before {\n  bottom: 0;\n  margin-bottom: -12px;\n  border-top-color: #fff;\n}\n.leaflet-tooltip-bottom:before {\n  top: 0;\n  margin-top: -12px;\n  margin-left: -6px;\n  border-bottom-color: #fff;\n}\n.leaflet-tooltip-left {\n  margin-left: -6px;\n}\n.leaflet-tooltip-right {\n  margin-left: 6px;\n}\n.leaflet-tooltip-left:before,\n.leaflet-tooltip-right:before {\n  top: 50%;\n  margin-top: -6px;\n}\n.leaflet-tooltip-left:before {\n  right: 0;\n  margin-right: -12px;\n  border-left-color: #fff;\n}\n.leaflet-tooltip-right:before {\n  left: 0;\n  margin-left: -12px;\n  border-right-color: #fff;\n}\n.marker-cluster-small div {\n  /*\tbackground-color: #F5AB0F;*/\n  background-color: #6bb1f5;\n}\n.marker-cluster-medium div {\n  /*\tbackground-color: #F87A18;*/\n  background-color: #2084e6;\n}\n.marker-cluster-large div {\n  /*\tbackground-color: #A82800;*/\n  background-color: #0055a8;\n}\n/* IE 6-8 fallback colors */\n.leaflet-oldie .marker-cluster-small {\n  background-color: #b5e28c;\n}\n.leaflet-oldie .marker-cluster-small div {\n  background-color: #6ecc39;\n}\n.leaflet-oldie .marker-cluster-medium {\n  background-color: #f1d357;\n}\n.leaflet-oldie .marker-cluster-medium div {\n  background-color: #f0c20c;\n}\n.leaflet-oldie .marker-cluster-large {\n  background-color: #fd9c73;\n}\n.leaflet-oldie .marker-cluster-large div {\n  background-color: #f18017;\n}\n.marker-cluster {\n  background-clip: padding-box;\n  border-radius: 20px;\n  background-color: rgba(75, 75, 75, 0.8);\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n}\n.marker-cluster div {\n  width: 26px;\n  height: 26px;\n  margin-left: 1px;\n  margin-top: 1px;\n  text-align: center;\n  border-radius: 11px;\n  font-size: 12px;\n  font-weight: bold;\n  color: #FFF;\n}\n.marker-cluster span {\n  line-height: 26px;\n}\n.map-container {\n  height: 400px;\n  margin-bottom: 40px;\n}\n.map-container.small {\n  height: 200px;\n}\n.map-wrapper {\n  height: 100vh;\n  width: 100vw;\n}\n@media print {\n  .has-overlay .map-wrapper {\n    display: none;\n  }\n}\n.map-wrapper .map-view {\n  position: absolute;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n  opacity: 0;\n  -webkit-transition: opacity 300ms ease-in-out;\n  -o-transition: opacity 300ms ease-in-out;\n  transition: opacity 300ms ease-in-out;\n}\n.app-initialized .map-wrapper .map-view {\n  opacity: 1;\n}\n.map-wrapper .map-viewmode-menu {\n  position: absolute;\n  top: 143px;\n  left: 10px;\n  border-radius: 5px;\n  border: 2px solid #a9b3c0;\n  background: #fff;\n  overflow: hidden;\n  z-index: 1000;\n  opacity: 0;\n  -webkit-transition: opacity 300ms ease-in-out;\n  -o-transition: opacity 300ms ease-in-out;\n  transition: opacity 300ms ease-in-out;\n}\n.app-initialized .map-wrapper .map-viewmode-menu {\n  opacity: 1;\n}\n@media (max-width: 550px) {\n  .map-wrapper .map-viewmode-menu {\n    display: none;\n  }\n}\n.map-wrapper .map-viewmode-menu a {\n  display: block;\n  width: 44px;\n  height: 44px;\n  background-repeat: no-repeat;\n  background-position: center;\n  cursor: pointer;\n}\n.map-wrapper .map-viewmode-menu a span {\n  display: none;\n}\n.map-wrapper .map-viewmode-menu a:hover {\n  background-color: #f4f4f4;\n}\n.map-wrapper .map-viewmode-menu a.selected {\n  background-color: #cecece;\n}\n.map-wrapper .map-viewmode-menu a:not(:last-child) {\n  border-bottom: 1px solid #ccc;\n}\n.map-wrapper .map-viewmode-menu a.icon-marker {\n  background-image: url('+Ie+");\n  background-size: 22px;\n}\n.map-wrapper .map-viewmode-menu a.icon-circles {\n  background-image: url("+Ne+");\n  background-size: 35px 30px;\n}\n.map-wrapper .map-viewmode-menu a.icon-heatmap {\n  background-image: url("+He+");\n  background-size: contain;\n}\n.leaflet-container a.leaflet-popup-close-button {\n  top: 12px;\n  right: 12px;\n}\n.leaflet-popup-content-wrapper {\n  border-radius: 3px;\n}\n.leaflet-popup-content {\n  margin: 0;\n}\n.leaflet-popup-content h2 {\n  margin-bottom: 15px;\n  padding: 12px 45px 12px 15px;\n  font-size: 1.2rem;\n  border-bottom: 1px solid #d6b7bc;\n}\n.leaflet-popup-content p {\n  margin: 0 0 15px 0;\n  padding: 0 15px;\n}\n.leaflet-control-layers-list {\n  margin-bottom: 0;\n}\n.leaflet-control-layers-list label {\n  margin: 5px;\n}\n.leaflet-control-layers-list label input {\n  margin-bottom: 0;\n}\n.leaflet-overlay-pane > svg {\n  pointer-events: all;\n}\n.map-progress {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  z-index: 1400;\n  -webkit-transform: translate(0, -100%);\n  -ms-transform: translate(0, -100%);\n  -o-transform: translate(0, -100%);\n  transform: translate(0, -100%);\n  visibility: hidden;\n  transition: visibility 0s, transform 400ms ease-in-out;\n}\n.map-loading .map-progress {\n  visibility: visible;\n  -webkit-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.map-progress .indicator {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  background: #097C44;\n  -webkit-animation-duration: 1.5s;\n  animation-duration: 1.5s;\n  -webkit-animation-name: indicatorAnimate;\n  animation-name: indicatorAnimate;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n}\n@keyframes indicatorAnimate {\n  0% {\n    left: 0%;\n    right: 100%;\n  }\n  25% {\n    left: 0%;\n    right: 50%;\n  }\n  75% {\n    left: 50%;\n    right: 0%;\n  }\n  100% {\n    left: 100%;\n    right: 0%;\n  }\n}\n.leaflet-bottom {\n  bottom: 70px;\n}\n@media screen and (max-width: 550px) {\n  .leaflet-bottom {\n    bottom: 95px;\n  }\n}\n.leaflet-bottom .leaflet-control-attribution {\n  bottom: -70px;\n}\n.leaflet-right {\n  right: 15px;\n}\n.leaflet-control .map-location-icon {\n  display: block;\n  width: 30px;\n  height: 30px;\n  background-image: url("+Oe+");\n  background-size: 20px 20px;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.following.leaflet-control .map-location-icon {\n  background-image: url("+Be+");\n}\n@media print {\n  .leaflet-control {\n    display: none;\n  }\n}\n.map-floating-control {\n  padding: 12px;\n  margin-bottom: 10px;\n  color: #333;\n  font-size: 1rem;\n  background: #f5f5f5;\n  border-radius: 3px;\n  box-sizing: border-box;\n}\n@media (max-width: 550px) {\n  .map-floating-control {\n    padding: 5px;\n    font-size: 0.8rem;\n  }\n}\n.panel-heading {\n  height: 66px;\n  padding: 24px 50px 0 22px;\n  color: #333;\n  font-size: 1rem;\n  background: #edeff1;\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n  box-sizing: border-box;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n}\n.map-bottom-control {\n  bottom: 20px;\n}\n.map-right-control {\n  position: absolute;\n  margin-top: 23px;\n  right: 0;\n}\n.popup-wrapper .popup-open-button {\n  position: fixed;\n  border-width: 0;\n  height: 60px;\n  left: 20px;\n  letter-spacing: normal;\n  line-height: normal;\n  padding: 20px;\n  margin-bottom: 0;\n  text-decoration: none;\n  color: #097C44;\n  cursor: pointer;\n  z-index: 1100;\n  opacity: 0;\n}\n.app-initialized .popup-wrapper .popup-open-button {\n  opacity: 1;\n}\n.popup-wrapper .popup-open-button:hover {\n  text-decoration: underline;\n}\n@media print {\n  .popup-wrapper .popup-open-button {\n    display: none;\n  }\n}\n@media (max-width: 550px) {\n  .popup-wrapper .popup-open-button {\n    left: 10px;\n    bottom: 10px;\n    height: 40px;\n    padding: 10px;\n  }\n}\n.popup-wrapper .popup-content-wrapper {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.2);\n  overflow-y: scroll;\n  z-index: 1600;\n  display: none;\n  opacity: 0;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n  pointer-events: none;\n}\n.visible.popup-wrapper .popup-content-wrapper {\n  display: block;\n  opacity: 1;\n  pointer-events: all;\n}\n@media print {\n  .popup-wrapper .popup-content-wrapper {\n    position: initial;\n    overflow: visible;\n  }\n  .popup-wrapper .popup-content-wrapper .container {\n    width: 100%;\n    max-width: initial !important;\n    padding: 0 !important;\n  }\n}\n.has-docked-control .popup-wrapper .popup-content-wrapper {\n  top: 60px;\n}\n.popup-wrapper .popup-content-wrapper > .page-content > .container {\n  background-repeat: no-repeat;\n  background-position: center 200px;\n}\n.popup-wrapper .popup-content-wrapper > .page-content > .container > * {\n  -webkit-transition: opacity 300ms ease-in-out;\n  -o-transition: opacity 300ms ease-in-out;\n  transition: opacity 300ms ease-in-out;\n}\n.popup-wrapper .popup-content-wrapper > .page-content > .container.loading {\n  min-height: 600px;\n  background-image: url("+Re+");\n}\n.popup-wrapper .popup-content-wrapper > .page-content > .container.loading > * {\n  opacity: 0;\n}\n.popup-wrapper .popup-content-wrapper .page-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  max-width: 1200px;\n  min-height: calc(100vh - 20px);\n  margin: 20px auto;\n  padding: 20px;\n  background-color: #fff;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  box-sizing: border-box;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n  overflow-x: hidden;\n}\n@media print {\n  .popup-wrapper .popup-content-wrapper .page-content {\n    max-width: initial !important;\n    margin: 0;\n    padding: 0;\n  }\n}\n@media (max-width: 1300px) {\n  .popup-wrapper .popup-content-wrapper .page-content {\n    max-width: 1000px;\n  }\n}\n@media (max-width: 750px) {\n  .popup-wrapper .popup-content-wrapper .page-content {\n    min-height: 100%;\n    padding: 20px 0;\n    margin: 0 auto;\n    border: none;\n    border-radius: 0;\n    box-shadow: none;\n  }\n}\n.popup-wrapper .popup-content-wrapper .page-content > .close-button {\n  display: block;\n  position: absolute;\n  top: 35px;\n  right: 35px;\n}\n@media (max-width: 750px) {\n  .popup-wrapper .popup-content-wrapper .page-content > .close-button {\n    position: fixed;\n    top: 20px;\n    right: 35px;\n    border: 5px solid rgba(237, 239, 241, 0.7);\n    background-color: rgba(237, 239, 241, 0.7);\n  }\n  .popup-wrapper .popup-content-wrapper .page-content > .close-button.white {\n    border: 5px solid rgba(165, 37, 42, 0) !important;\n    background-color: rgba(165, 37, 42, 0.68) !important;\n  }\n  .has-docked-control .popup-wrapper .popup-content-wrapper .page-content > .close-button {\n    top: 80px;\n  }\n}\n.popup-wrapper .popup-content-wrapper .page-content h2 {\n  font-weight: normal;\n}\n.popup-wrapper .popup-content-wrapper .page-content h3 {\n  font-weight: normal;\n}\n.popup-wrapper .popup-content-wrapper .page-content p {\n  margin-bottom: 1.5rem;\n  line-height: 1.5rem;\n}\n.popup-wrapper .popup-content-wrapper .page-content .archive-image {\n  display: inline-block;\n  max-width: 100%;\n  margin: 0 15px 15px 0;\n  vertical-align: top;\n  cursor: pointer;\n}\n.popup-wrapper .popup-content-wrapper .page-content .archive-image.pdf {\n  width: 115px;\n}\n.popup-wrapper .popup-content-wrapper .page-content .archive-image .pdf-icon {\n  width: 115px;\n  height: 115px;\n  background-color: #fafbfc;\n  background-image: url("+ze+");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: 55px 55px;\n  border: 1px solid #eaeaea;\n  border-radius: 4px;\n}\n.popup-wrapper .popup-content-wrapper .page-content .archive-image .pdf-icon .pdf-icon {\n  width: 115px;\n}\n.popup-wrapper .popup-content-wrapper .page-content .archive-image img {\n  max-width: 150px;\n  border-radius: 5px;\n  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);\n}\n@media print {\n  .popup-wrapper .popup-content-wrapper .page-content .archive-image img {\n    max-width: 50%;\n  }\n}\n.popup-wrapper .popup-content-wrapper .page-content .archive-image .media-title {\n  margin: 5px 0 15px 0;\n  text-align: center;\n}\n.popup-wrapper .popup-content-wrapper .page-content .pdf-viewer {\n  margin-bottom: 30px;\n}\n.popup-wrapper .popup-content-wrapper .page-content .pdf-viewer object {\n  max-height: 90vh;\n  background-color: #f6f6f6;\n  background-image: url("+Re+");\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.popup-wrapper .popup-content-wrapper .page-content .columns.four .archive-image {\n  display: block;\n  margin: 0 15px 0 0;\n  vertical-align: top;\n}\n.popup-wrapper .popup-content-wrapper .page-content .columns.four .archive-image.pdf {\n  width: 100%;\n}\n.popup-wrapper .popup-content-wrapper .page-content .columns.four .archive-image.pdf .pdf-icon {\n  width: 100%;\n}\n.popup-wrapper .popup-content-wrapper .page-content .columns.four .archive-image img {\n  max-width: 100%;\n}\n.popup-wrapper .popup-content-wrapper .page-content .columns.four .archive-image.large {\n  width: 50%;\n}\n.popup-wrapper .popup-content-wrapper .page-content .columns.four .archive-image.large img {\n  max-width: 100%;\n}\n.popup-wrapper .popup-content-wrapper .page-content .fb-share-button {\n  margin-top: 15px;\n}\n@media print {\n  .popup-wrapper .popup-content-wrapper .page-content .fb-share-button {\n    display: none;\n  }\n}\n.popup-wrapper .popup-content-wrapper .page-content .copyright {\n  margin-top: 20px;\n  color: #ababab;\n  font-size: 0.9rem;\n  text-align: right;\n}\n.popup-wrapper .popup-content-wrapper .page-content .copyright a {\n  color: #ababab;\n}\n.popup-wrapper .popup-content-wrapper .page-content .row {\n  margin-left: 0;\n}\n.popup-wrapper .popup-content-wrapper .page-content .container-header {\n  position: relative;\n  margin: -20px -50px 40px;\n  padding: 50px 50px 30px;\n  color: #fff;\n  background-image: url("+Ue+");\n  background-color: #097C44;\n  background-position: center;\n}\n@media print {\n  .popup-wrapper .popup-content-wrapper .page-content .container-header {\n    margin: 55px 0 30px 0;\n    padding: 0;\n    color: #000;\n    background: none;\n  }\n  .popup-wrapper .popup-content-wrapper .page-content .container-header h2,\n  .popup-wrapper .popup-content-wrapper .page-content .container-header a {\n    color: #000 !important;\n  }\n}\n.popup-wrapper .popup-content-wrapper .page-content .container-header h2 {\n  color: #fff;\n  margin-top: 0;\n}\n.popup-wrapper .popup-content-wrapper .page-content .container-header a {\n  color: #fff;\n}\n.popup-wrapper .popup-content-wrapper .page-content .container-header p {\n  margin-bottom: 0;\n}\n.popup-wrapper .popup-content-wrapper .page-content hr {\n  margin: 20px -50px;\n}\n.popup-wrapper .popup-content-wrapper .page-content .view-container {\n  -webkit-transition: all 400ms ease-in-out;\n  -o-transition: all 400ms ease-in-out;\n  transition: all 400ms ease-in-out;\n}\n.popup-wrapper .popup-content-wrapper .grid-items {\n  margin: 0 -20px;\n}\n.popup-wrapper .popup-content-wrapper .grid-items .grid-item {\n  float: left;\n  width: 33%;\n  padding: 0 20px 20px 20px;\n  box-sizing: border-box;\n}\n.popup-wrapper .popup-content-wrapper .grid-items .grid-divider-2 {\n  display: none;\n}\n@media (max-width: 900px) {\n  .popup-wrapper .popup-content-wrapper .grid-items .grid-item {\n    width: 50%;\n  }\n  .popup-wrapper .popup-content-wrapper .grid-items .grid-divider-3 {\n    display: none;\n  }\n  .popup-wrapper .popup-content-wrapper .grid-items .grid-divider-2 {\n    display: block;\n  }\n}\n@media (max-width: 400px) {\n  .popup-wrapper .popup-content-wrapper .grid-items .grid-item {\n    width: 100%;\n  }\n}\n.save-button {\n  position: relative;\n  top: 2px;\n  width: 22px;\n  height: 22px;\n  margin: 0 0 0 10px;\n  padding: 0;\n  border: none;\n  background-image: url("+Me+");\n  background-size: 22px 22px;\n  background-repeat: no-repeat;\n}\n.save-button:hover {\n  opacity: 0.6;\n}\n.save-button.saved {\n  background-image: url("+Fe+');\n  opacity: 1;\n}\n.save-button span {\n  display: none;\n}\n.close-button {\n  display: block;\n  position: relative;\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  border: none;\n  z-index: 2;\n  cursor: pointer;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n}\n.close-button:hover {\n  -webkit-transform: scale(1.4);\n  -moz-transform: scale(1.4);\n  -ms-transform: scale(1.4);\n  transform: scale(1.4);\n}\n.close-button:before,\n.close-button:after {\n  content: " ";\n  display: block;\n  position: absolute;\n  width: 20px;\n  height: 2px;\n  background: #555;\n}\n.close-button:before {\n  top: 9px;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n.close-button:after {\n  top: 9px;\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n}\n.close-button.white:before,\n.close-button.white:after {\n  background: #fff;\n}\n.popup-wrapper .popup-open-button.map-right-control {\n  left: 0;\n  right: unset;\n  margin-top: 20px;\n}\n@media (max-width: 550px) {\n  .popup-wrapper .popup-open-button {\n    bottom: -55px;\n  }\n}\n.map-bottom-wrapper .popup-wrapper {\n  float: left;\n}\n.map-bottom-wrapper .popup-wrapper .popup-open-button {\n  position: static;\n  display: inline-block;\n  margin-right: 20px;\n}\n.menu-wrapper {\n  position: absolute;\n  top: 20px;\n  bottom: 95px;\n  left: 20px;\n  width: 350px;\n  pointer-events: none;\n}\n@media print {\n  .menu-wrapper {\n    display: none;\n  }\n}\n@media (max-width: 550px) {\n  .menu-wrapper {\n    left: 10px;\n    right: 10px;\n    top: 10px;\n    width: auto;\n  }\n}\n.menu-wrapper > * {\n  pointer-events: all;\n}\n.menu-wrapper .nordic-switch-wrapper {\n  position: relative;\n  padding: 0;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n  overflow: hidden;\n  z-index: 1400;\n  -webkit-transition: all 400ms ease-in-out;\n  -o-transition: all 400ms ease-in-out;\n  transition: all 400ms ease-in-out;\n  opacity: 0;\n  -webkit-transform: translateY(50px);\n  -moz-transform: translateY(50px);\n  -ms-transform: translateY(50px);\n  transform: translateY(50px);\n}\n@media (max-width: 550px) {\n  .menu-wrapper .nordic-switch-wrapper {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n  }\n}\n.app-initialized .menu-wrapper .nordic-switch-wrapper {\n  opacity: 1;\n  -webkit-transform: translateY(0);\n  -moz-transform: translateY(0);\n  -ms-transform: translateY(0);\n  transform: translateY(0);\n  -webkit-transition-delay: 900ms;\n  transition-delay: 900ms;\n}\n.menu-wrapper .nordic-switch-wrapper a {\n  display: inline-block;\n  width: 38%;\n  padding: 12px;\n  box-sizing: border-box;\n  text-decoration: none;\n  text-align: center;\n  background: #dddddd;\n  cursor: pointer;\n  -webkit-transition: all 200ms ease-in-out;\n  -o-transition: all 200ms ease-in-out;\n  transition: all 200ms ease-in-out;\n}\n.menu-wrapper .nordic-switch-wrapper a.selected {\n  color: #000;\n  background: #f5f5f5;\n}\n.menu-wrapper .nordic-switch-wrapper a:hover {\n  text-decoration: underline;\n}\n.menu-wrapper .search-box {\n  position: absolute;\n  top: 42px;\n  right: 0;\n  left: 0;\n  z-index: 1500;\n  cursor: pointer;\n  opacity: 0;\n  -webkit-transform: translateY(-50px);\n  -moz-transform: translateY(-50px);\n  -ms-transform: translateY(-50px);\n  transform: translateY(-50px);\n  -webkit-transition: all 400ms ease-in-out;\n  -o-transition: all 400ms ease-in-out;\n  transition: all 400ms ease-in-out;\n  -webkit-transition-delay: 0ms;\n  transition-delay: 0ms;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .search-box {\n    top: 0;\n  }\n}\n.app-initialized .menu-wrapper .search-box {\n  opacity: 1;\n  -webkit-transform: translateY(0);\n  -moz-transform: translateY(0);\n  -ms-transform: translateY(0);\n  transform: translateY(0);\n  -webkit-transition-delay: 300ms;\n  transition-delay: 300ms;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .search-box {\n    left: 0;\n  }\n}\n.menu-wrapper .search-box input[type="text"] {\n  width: 100%;\n  height: 50px;\n  margin-bottom: 0;\n  opacity: 0;\n  pointer-events: none;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n}\n.menu-wrapper .search-box .dropdown-link {\n  background-color: #fff;\n}\n.menu-wrapper .search-box .suggestions {\n  display: block;\n  border-radius: 3px;\n  box-shadow: #d1d1d1 0px 1px 12px 1px;\n  width: 93%;\n  padding: 10px 0px;\n  position: absolute;\n  background-color: white;\n  z-index: 2500;\n  overflow: hidden;\n  margin: 0.6rem 0px;\n}\n.menu-wrapper .search-box .suggestions .suggestions-label {\n  padding: 0.5rem 1rem;\n  font-size: 0.8rem;\n  color: #999;\n}\n.menu-wrapper .search-box .suggestions .suggestions-close {\n  position: absolute;\n  right: 1rem;\n  top: 0.5rem;\n  cursor: pointer;\n  color: #999;\n  font-size: 1.2rem;\n}\n.menu-wrapper .search-box .suggestions ul {\n  list-style-type: none;\n  margin-bottom: 0;\n  margin-top: 5px;\n}\n.menu-wrapper .search-box .suggestions ul li {\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n}\n.menu-wrapper .search-box .suggestions ul li:hover,\n.menu-wrapper .search-box .suggestions ul li.selected,\n.menu-wrapper .search-box .suggestions ul li:focus {\n  background-color: #f5f5f5;\n}\n.menu-wrapper .search-box .search-label {\n  position: absolute;\n  top: 28px;\n  left: 22px;\n  -webkit-transition: all 150ms ease-in-out;\n  -o-transition: all 150ms ease-in-out;\n  transition: all 150ms ease-in-out;\n  pointer-events: none;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .search-box .search-label {\n    top: 21px;\n    left: 20px;\n  }\n}\n.menu-wrapper .search-box .search-field-buttons {\n  color: #6c6c6c;\n  font-size: 20px;\n  position: absolute;\n  top: 21px;\n  right: 25px;\n  padding: 0;\n  margin: 0;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .search-box .search-field-buttons {\n    top: 15px;\n    right: 16px;\n  }\n}\n.menu-wrapper .search-box .search-field-buttons button {\n  border: none;\n  width: 30px;\n  height: 30px;\n  pointer-events: none;\n  vertical-align: top;\n  -webkit-transition: all 200ms ease-in-out;\n  -o-transition: all 200ms ease-in-out;\n  transition: all 200ms ease-in-out;\n}\n.menu-wrapper .search-box .search-field-buttons .search-button {\n  background-image: url('+Ve+");\n  background-size: 20px 20px;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.menu-wrapper .search-box .search-field-buttons .clear-button {\n  background-image: url("+Ae+');\n  background-size: 20px 20px;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.menu-wrapper .search-box .expanded-content {\n  margin: 0;\n  max-height: 0;\n  display: none;\n  pointer-events: none;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n  -webkit-transition-delay: 120ms;\n  transition-delay: 120ms;\n}\n.menu-wrapper .search-box .expanded-content a {\n  text-decoration: none;\n  color: #097C44;\n}\n.menu-wrapper .search-box hr {\n  margin: 10px -12px;\n  border-color: #ccc;\n}\n.menu-wrapper .search-box hr + button {\n  margin-top: 5px;\n}\n.menu-wrapper .search-box .advanced-button {\n  display: block;\n  margin: 0 -12px -25px -12px;\n  padding: 10px 10px 10px 15px;\n  border-top: 1px solid #c6c7c8;\n  cursor: pointer;\n}\n.menu-wrapper .search-box .advanced-button:hover {\n  background: rgba(255, 255, 255, 0.35);\n}\n.menu-wrapper .search-box .advanced-content {\n  display: none;\n  margin: 0;\n  pointer-events: none;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n}\n.menu-wrapper .search-box .advanced-content > * {\n  opacity: 0;\n  -webkit-transition: opacity 150ms ease-in-out;\n  -o-transition: opacity 150ms ease-in-out;\n  transition: opacity 150ms ease-in-out;\n}\n.menu-wrapper .search-box button:last-child {\n  margin-bottom: 0;\n}\n.menu-wrapper .search-box.expanded {\n  left: -10px;\n  right: -10px;\n  cursor: auto;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .search-box.expanded {\n    left: -9px;\n    right: -9px;\n    top: -9px;\n  }\n}\n.menu-wrapper .search-box.expanded input[type="text"] {\n  opacity: 1;\n  pointer-events: all;\n}\n.menu-wrapper .search-box.expanded .search-label {\n  opacity: 0;\n}\n.menu-wrapper .search-box.expanded .search-button,\n.menu-wrapper .search-box.expanded .clear-button {\n  pointer-events: all;\n}\n.menu-wrapper .search-box.expanded .expanded-content {\n  max-height: 800px;\n  margin: 15px 0 5px 0;\n  display: block;\n  pointer-events: all;\n  -webkit-transition-delay: 0ms;\n  transition-delay: 0ms;\n}\n.menu-wrapper .search-box.advanced .advanced-button {\n  background: rgba(255, 255, 255, 0.55);\n}\n.menu-wrapper .search-box.advanced .advanced-content {\n  margin: 25px 0 5px 0;\n  opacity: 1;\n  pointer-events: all;\n  display: block;\n}\n.menu-wrapper .search-box.advanced .advanced-content > * {\n  opacity: 1;\n}\n.menu-wrapper .radio-group {\n  margin-bottom: 10px;\n}\n.menu-wrapper .radio-group label {\n  display: inline-block;\n  margin-right: 10px;\n}\n.menu-wrapper .radio-group label input {\n  margin-bottom: 0;\n}\n.menu-wrapper .heading-list-wrapper.minimized .list-heading {\n  left: auto;\n  width: 66px;\n  padding-left: 0;\n}\n.menu-wrapper .heading-list-wrapper.minimized .list-heading .heading-label {\n  opacity: 0;\n  pointer-events: none;\n}\n.menu-wrapper .heading-list-wrapper.minimized .list-heading .minimize-button {\n  background-image: url('+Te+");\n}\n@media (max-width: 550px) {\n  .menu-wrapper .heading-list-wrapper.minimized .list-heading {\n    width: 50px;\n  }\n}\n.menu-wrapper .heading-list-wrapper.minimized .list-container {\n  max-height: 0;\n  opacity: 0;\n  pointer-events: none;\n}\n.menu-wrapper .advanced-content .list-container {\n  display: block;\n  width: 100%;\n  min-height: 60px;\n  max-height: 450px;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: 2px;\n  overflow-y: auto;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .advanced-content .list-container {\n    top: 50px;\n  }\n}\n.menu-wrapper .advanced-content .list-container .item {\n  display: block;\n  padding: 10px 15px;\n  color: #333;\n  text-decoration: none;\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.menu-wrapper .advanced-content .list-container .item:hover {\n  text-decoration: underline;\n}\n.menu-wrapper .advanced-content .list-container .item.selected {\n  color: #fff;\n  background-color: #3FD695;\n}\n.menu-wrapper .advanced-content .list-container .grid-list .item {\n  float: left;\n  width: 50%;\n}\n.menu-wrapper .advanced-content .list-container .grid-list .item:nth-child(2n) {\n  border-left: 1px solid #ccc;\n}\n.menu-wrapper .advanced-content .list-container .list-subheading {\n  display: block;\n  padding: 10px 15px;\n  color: #333;\n  text-decoration: none;\n  font-weight: bold;\n  border-bottom: 1px solid #ccc;\n}\n.menu-wrapper .list-container {\n  display: block;\n  height: 250px;\n}\n.realkatalog-content {\n  display: none;\n}\n#toggle:checked ~ .realkatalog-content {\n  display: block;\n}\nlabel {\n  color: #a6192e;\n  color: #097c44;\n  text-decoration: none;\n  cursor: pointer;\n}\n.visually-hidden {\n  position: absolute;\n  left: -100vw;\n  /* Note, you may want to position the\n    checkbox over top the label and set the\n    opacity to zero instead. It can be\n    better for accessibilty on some touch\n    devices for discoverability. */\n}\n.menu-wrapper .heading-list-wrapper {\n  position: absolute;\n  top: 132px;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  max-height: 800px;\n  opacity: 0;\n  -webkit-transform: translateX(50px);\n  -moz-transform: translateX(50px);\n  -ms-transform: translateX(50px);\n  transform: translateX(50px);\n  -webkit-transition: all 500ms ease-in-out;\n  -o-transition: all 500ms ease-in-out;\n  transition: all 500ms ease-in-out;\n  -webkit-transition-delay: 0ms;\n  transition-delay: 0ms;\n  pointer-events: none;\n  z-index: 1400;\n}\n.app-initialized .menu-wrapper .heading-list-wrapper {\n  opacity: 1;\n  -webkit-transform: translateX(0);\n  -moz-transform: translateX(0);\n  -ms-transform: translateX(0);\n  transform: translateX(0);\n  -webkit-transition-delay: 600ms;\n  transition-delay: 600ms;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .heading-list-wrapper {\n    top: 70px;\n  }\n}\n.menu-wrapper .heading-list-wrapper > * {\n  pointer-events: all;\n}\n.menu-expanded.menu-wrapper .heading-list-wrapper {\n  top: 140px;\n  -webkit-transition-delay: 0ms;\n  transition-delay: 0ms;\n}\n.advanced-menu-view.menu-wrapper .heading-list-wrapper {\n  max-height: 0;\n  -webkit-transition-delay: 0ms;\n  transition-delay: 0ms;\n}\n.menu-wrapper .heading-list-wrapper .list-heading {\n  display: block;\n  position: absolute;\n  right: 0;\n  width: 350px;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .heading-list-wrapper .list-heading {\n    width: 100%;\n    height: 50px;\n    padding: 16px 50px 0 15px;\n  }\n}\n.menu-wrapper .heading-list-wrapper .list-heading .heading-label {\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n}\n.menu-wrapper .heading-list-wrapper .list-heading .minimize-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 66px;\n  height: auto;\n  margin: 0;\n  padding: 0;\n  border: none;\n  border-left: 1px solid #b5b5b5;\n  background-image: url("+De+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .heading-list-wrapper .list-heading .minimize-button {\n    width: 50px;\n  }\n}\n.menu-wrapper .heading-list-wrapper .list-heading .minimize-button span {\n  display: none;\n}\n.menu-wrapper .heading-list-wrapper .list-container {\n  position: absolute;\n  top: 66px;\n  bottom: 0;\n  width: 100%;\n  max-height: 450px;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: 2px;\n  overflow-y: auto;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n}\n@media (max-width: 550px) {\n  .menu-wrapper .heading-list-wrapper .list-container {\n    top: 50px;\n  }\n}\n.menu-wrapper .heading-list-wrapper .list-container .item {\n  display: block;\n  padding: 10px 15px;\n  color: #333;\n  text-decoration: none;\n  border-bottom: 1px solid #ccc;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.menu-wrapper .heading-list-wrapper .list-container .item:hover {\n  text-decoration: underline;\n}\n.menu-wrapper .heading-list-wrapper .list-container .item.selected {\n  color: #fff;\n  background-color: #3FD695;\n}\n.menu-wrapper .heading-list-wrapper .list-container .grid-list {\n  border-bottom: 1px solid #ccc;\n}\n.menu-wrapper .heading-list-wrapper .list-container .grid-list .item {\n  float: left;\n  width: 50%;\n}\n.menu-wrapper .heading-list-wrapper .list-container .grid-list .item:nth-child(2n) {\n  border-left: 1px solid #ccc;\n}\n.menu-wrapper .heading-list-wrapper .list-container .grid-list .item:nth-last-child(-n+2) {\n  border-bottom: 0;\n}\n.menu-wrapper .heading-list-wrapper .list-container .list-subheading {\n  display: block;\n  padding: 10px 15px;\n  color: #333;\n  text-decoration: none;\n  font-weight: bold;\n  border-bottom: 1px solid #ccc;\n}\n.menu-wrapper .heading-list-wrapper.minimized .list-heading {\n  left: auto;\n  width: 66px;\n  padding-left: 0;\n}\n.menu-wrapper .heading-list-wrapper.minimized .list-heading .heading-label {\n  opacity: 0;\n  pointer-events: none;\n}\n.menu-wrapper .heading-list-wrapper.minimized .list-heading .minimize-button {\n  background-image: url("+Te+");\n}\n@media (max-width: 550px) {\n  .menu-wrapper .heading-list-wrapper.minimized .list-heading {\n    width: 50px;\n  }\n}\n.menu-wrapper .heading-list-wrapper.minimized .list-container {\n  max-height: 0;\n  opacity: 0;\n  pointer-events: none;\n}\n.dropdown-wrapper {\n  position: relative;\n}\n.dropdown-wrapper .dropdown-link {\n  display: inline-block;\n  padding: 10px 35px 10px 10px;\n  color: #222;\n  border: 1px solid #ccc;\n  border-radius: 3px;\n  background-image: url("+je+');\n  background-repeat: no-repeat;\n  background-position: right 10px center;\n  cursor: pointer;\n}\n.dropdown-direction-up.dropdown-wrapper .dropdown-link {\n  position: absolute;\n  bottom: 0;\n}\n.dropdown-wrapper .dropdown-container {\n  display: none;\n  position: absolute;\n  width: 350px;\n  max-height: 300px;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: 2px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);\n  overflow-y: auto;\n  z-index: 1100;\n}\n.dropdown-direction-up.dropdown-wrapper .dropdown-container {\n  bottom: 60px;\n}\n.dropdown-wrapper .dropdown-container .map-container {\n  margin-bottom: 0;\n}\n.dropdown-wrapper .dropdown-container.open {\n  display: block;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list.has-header {\n  height: 350px;\n  overflow-y: visible;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list.has-header .panel-heading {\n  border-bottom: 1px solid #dcdcdc;\n  box-shadow: none;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list.has-header .list-container,\n.dropdown-wrapper .dropdown-container.dropdown-list.has-header .text-container {\n  position: absolute;\n  top: 66px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow-y: auto;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list.has-footer .list-container {\n  bottom: 66px;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list .dropdown-footer {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 66px;\n  box-shadow: none;\n  padding: 24px;\n  color: #333;\n  font-size: 1rem;\n  border-top: 1px solid #dcdcdc;\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n  box-sizing: border-box;\n  background: #edeff1;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list .text-container {\n  padding: 22px;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list .list-container .item {\n  display: block;\n  position: relative;\n  padding: 10px 15px;\n  color: #333;\n  text-decoration: none;\n  border-bottom: 1px solid #ccc;\n  cursor: pointer;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list .list-container .item:hover {\n  text-decoration: underline;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list .list-container .item:hover .close-button {\n  opacity: 1;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list .list-container .item.selected {\n  color: #fff;\n  background-color: #3FD695;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list .list-container .item input[type="checkbox"] {\n  margin-bottom: 0;\n  margin-right: 10px;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list .list-container .item label {\n  margin-bottom: 0;\n}\n.dropdown-wrapper .dropdown-container.dropdown-list .list-container .item .close-button {\n  float: right;\n  margin-left: 10px;\n  opacity: 0.4;\n  -webkit-transform: scale(0.8);\n  -moz-transform: scale(0.8);\n  -ms-transform: scale(0.8);\n  transform: scale(0.8);\n}\n.local-library-wrapper {\n  position: fixed;\n  left: 245px;\n  z-index: 1100;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n}\n@media print {\n  .local-library-wrapper {\n    display: none;\n  }\n}\n@media (max-width: 550px) {\n  .local-library-wrapper {\n    left: 175px;\n    bottom: 10px;\n  }\n}\n.local-library-wrapper .dropdown-container {\n  width: 450px;\n}\n.local-library-wrapper .share-buttons {\n  margin-top: 0;\n}\n.local-library-wrapper a.library-open-button {\n  display: block;\n  width: 60px;\n  height: 60px;\n  margin-bottom: 0;\n  padding: 0;\n  background-image: url('+We+");\n  background-size: 22px 22px;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0;\n}\n.app-initialized .local-library-wrapper a.library-open-button {\n  opacity: 1;\n}\n.local-library-wrapper a.library-open-button.has-items {\n  background-image: url("+Ze+");\n}\n@media (max-width: 550px) {\n  .local-library-wrapper a.library-open-button {\n    width: 40px;\n    height: 40px;\n  }\n}\n@media (max-width: 550px) {\n  .local-library-wrapper .dropdown-container {\n    position: fixed !important;\n    left: 10px;\n    right: 10px;\n    bottom: 60px !important;\n    width: auto;\n  }\n}\n.local-library-wrapper {\n  position: relative;\n  left: 0;\n  bottom: 0;\n}\n.local-library-wrapper .dropdown-direction-up.dropdown-wrapper .dropdown-link {\n  position: static;\n}\n.overlay-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(78, 78, 78, 0.84);\n  overflow-y: auto;\n  z-index: 3000;\n  display: none;\n  pointer-events: none;\n  -webkit-transition: opacity 500ms ease-in-out;\n  -o-transition: opacity 500ms ease-in-out;\n  transition: opacity 500ms ease-in-out;\n}\n.overlay-container.light-modal {\n  background: rgba(78, 78, 78, 0.2);\n}\n.overlay-container.visible {\n  pointer-events: all;\n  display: block;\n}\n.overlay-container .message {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  padding: 15px;\n  background-color: #E1F3BC;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  color: #434C2F;\n  font-weight: bold;\n  font-size: 1.7rem;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.24);\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.overlay-container .close-button {\n  position: fixed;\n  top: 30px;\n  right: 50px;\n}\n@media (max-width: 750px) {\n  .overlay-container .close-button {\n    position: fixed;\n    top: 15px;\n    right: 15px;\n    width: 30px;\n    height: 30px;\n    background: rgba(0, 0, 0, 0.45);\n    border: 5px solid rgba(0, 0, 0, 0);\n    border-radius: 0;\n    box-sizing: border-box;\n  }\n  .has-docked-control .overlay-container .close-button {\n    top: 80px;\n  }\n}\n.overlay-container .overlay-image {\n  position: absolute;\n  left: 50%;\n  max-width: 80%;\n  margin: 20px 0;\n  border-radius: 3px;\n  box-shadow: 0 2px 6px #000;\n  -webkit-transform: translate(-50%);\n  -moz-transform: translate(-50%);\n  -ms-transform: translate(-50%);\n  transform: translate(-50%);\n}\n@media (max-width: 750px) {\n  .overlay-container .overlay-image {\n    max-width: 100%;\n    margin: 0;\n  }\n}\n.overlay-container .pdf-viewer {\n  position: absolute;\n  top: 80px;\n  left: 20px;\n  right: 20px;\n  bottom: 20px;\n}\n.overlay-container .overlay-window {\n  position: absolute;\n  left: 50%;\n  width: 650px;\n  margin: 20px 0;\n  padding: 40px;\n  background-color: #fff;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  box-sizing: border-box;\n  overflow: hidden;\n  -webkit-transform: translate(-50%);\n  -moz-transform: translate(-50%);\n  -ms-transform: translate(-50%);\n  transform: translate(-50%);\n}\n@media (max-width: 750px) {\n  .overlay-container .overlay-window {\n    width: 100%;\n    top: 0;\n    bottom: 0;\n    margin: 0;\n    padding: 20px;\n  }\n}\n.overlay-container .overlay-window.medium {\n  width: 800px;\n}\n@media (max-width: 800px) {\n  .overlay-container .overlay-window.medium {\n    width: 100%;\n  }\n}\n.overlay-container .overlay-window.large {\n  width: 95%;\n}\n.overlay-container .overlay-window .overlay-header {\n  margin: -40px -40px 40px;\n  padding: 30px 40px 30px;\n  color: #fff;\n  font-weight: bold;\n  font-size: 1.2rem;\n  background-image: url("+Ue+');\n  background-position: center;\n}\n@media (max-width: 750px) {\n  .overlay-container .overlay-window .overlay-header {\n    margin-top: -20px;\n  }\n}\n.overlay-container .overlay-window hr {\n  margin: 20px -40px;\n}\n.overlay-container .overlay-window .row {\n  margin-left: 0;\n}\n.overlay-container .overlay-window .close-button {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n}\n.overlay-container .overlay-window h2,\n.overlay-container .overlay-window h3 {\n  display: block;\n}\n.overlay-container .overlay-window > h3 {\n  margin-top: 0;\n}\n.overlay-container .overlay-window p + h2,\n.overlay-container .overlay-window p + h3 {\n  margin-top: 25px;\n}\n.overlay-container .overlay-window .image-list .image-item {\n  max-width: 150px;\n  margin: 0 10px 10px 0;\n  border: 1px solid #d1d1d1;\n  cursor: pointer;\n}\n.feedback-overlay-container {\n  z-index: 3100;\n}\n.margin-bottom-zero {\n  margin-bottom: 0;\n}\n.margin-bottom-minimal {\n  margin-bottom: 0.5rem;\n}\n/* \nShow instuction image with css hover over\n\n\t<div className="mark-below-img">\n\t<input name="informantNameInput" className="six columns" type="text" value={this.state.informantNameInput} onChange={this.inputChangeHandler} />\n\t<figure>\n\t    <img src="img/ifgh-card-upperpart-name.png" width="400" height="100" alt="photo"></img> \n\t\t<img src="http://localhost:8080/PublikUtforska-GUI/www/img/ifgh-card-upperpart-birthplace.png" width="400" height="100" \t</figure>\n\t</div>\n\t<figure>\n\t</figure>\n\n*/\n.mark-below-img img {\n  display: block;\n  border-radius: 0.8em;\n  max-width: 100%;\n  height: auto;\n}\n.mark-below-img:hover figure {\n  display: block;\n}\n.mark-below-img figure {\n  display: none;\n  position: absolute;\n  top: 15em;\n  left: 2em;\n  z-index: 4000;\n}\n.mark-above-img img {\n  display: block;\n  border-radius: 0.8em;\n  max-width: 100%;\n  height: auto;\n}\n.mark-above-img:hover figure {\n  display: block;\n}\n.mark-above-img figure {\n  display: none;\n  position: absolute;\n  top: 5em;\n  left: 2em;\n  z-index: 4000;\n}\n/* \nShow instuction "image" with css hover over\n\nTest with css hover over: show activated circles\nFixed circle coordinates does not work well with changing screen size and image zoom!\nEven left position in percentage is difficult!\n\njsx/html example:\n\t<div className="mark-informant-name">\n\t<input name="informantNameInput" className="six columns" type="text" value={this.state.informantNameInput} onChange={this.inputChangeHandler} />\n\t<figure>\n\t\t<div id="circle"></div>\n\t</figure>\n\t</div>\n\n\n#circle {\n    background: transparent;\n    width: 16em;\n    height: 2.5em;\n\tborder:4px solid red;\n    border-radius: 50%;\n}\n\n#circle2 {\n    background: transparent;\n    width: 6em;\n    height: 2.5em;\n\tborder:4px solid red;\n    border-radius: 50%;\n}\n\n#circle3 {\n    background: transparent;\n    width: 16em;\n    height: 2.5em;\n\tborder:4px solid red;\n    border-radius: 50%;\n}\n\n.mark-informant-name figure {\n  display: none;\n  position: absolute;\n  top: 11em;\n  left: 40%;\n  z-index: 4000;\n}\n\n.mark-informant-name:hover figure {\n  display: block;\n}\n\n.mark-informant-birthdate figure {\n  display: none;\n  position: absolute;\n  top: 11em;\n  left: 60em;\n  z-index: 4000;\n}\n\n.mark-informant-birthdate:hover figure {\n  display: block;\n}\n\n.mark-informant-birthplace figure {\n  display: none;\n  position: absolute;\n  top: 11em;\n  left: 65em;\n  z-index: 4000;\n}\n\n.mark-informant-birthplace:hover figure {\n  display: block;\n}\n*/\n.global-audio-player-wrapper {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 60px;\n  margin-bottom: 0;\n  padding: 10px 0;\n  background: #f5f5f5;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.6);\n  box-sizing: border-box;\n  z-index: 1700;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n  -webkit-transform: translateY(-200%);\n  -moz-transform: translateY(-200%);\n  -ms-transform: translateY(-200%);\n  transform: translateY(-200%);\n}\n@media (max-width: 750px) {\n  .global-audio-player-wrapper {\n    height: 60px;\n    border-bottom: none;\n  }\n}\n.global-audio-player-wrapper::after {\n  content: \' \';\n  display: block;\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  width: 50px;\n  /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#edeff1+0,edeff1+100&0+0,1+100 */\n  background: -moz-linear-gradient(left, rgba(237, 239, 241, 0) 0%, #edeff1 100%);\n  /* FF3.6-15 */\n  background: -webkit-linear-gradient(left, rgba(237, 239, 241, 0) 0%, #edeff1 100%);\n  /* Chrome10-25,Safari5.1-6 */\n  background: linear-gradient(to right, rgba(237, 239, 241, 0) 0%, #edeff1 100%);\n  /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#00edeff1\', endColorstr=\'#edeff1\', GradientType=1);\n  /* IE6-9 */\n  pointer-events: none;\n}\n.global-audio-player-wrapper.visible {\n  -webkit-transform: translateY(0);\n  -moz-transform: translateY(0);\n  -ms-transform: translateY(0);\n  transform: translateY(0);\n}\n.global-audio-player-wrapper .global-audio-player {\n  position: relative;\n  width: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  border-radius: 0;\n}\n.global-audio-player-wrapper .global-audio-player .play-button {\n  position: absolute;\n  top: 3px;\n  left: 10px;\n}\n.global-audio-player-wrapper .global-audio-player .player-time {\n  position: absolute;\n  top: 5px;\n  left: 60px;\n  font-size: 1.4rem;\n  text-align: right;\n}\n.global-audio-player-wrapper .global-audio-player .player-time .duration {\n  margin-top: -3px;\n  color: #666;\n  font-size: 0.8rem;\n}\n.global-audio-player-wrapper .global-audio-player .player-content {\n  position: absolute;\n  left: 130px;\n  right: 20px;\n  white-space: nowrap;\n}\n.play-button {\n  width: 25px;\n  height: 25px;\n  padding: 0;\n  margin: 0 10px 0 0;\n  border-radius: 100%;\n  background-color: #fff;\n  background-image: url('+Ke+");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: 12px;\n}\n.play-button.inline {\n  display: inline-block;\n  position: relative;\n  top: 6px;\n}\n.play-button.playing {\n  background-image: url("+Ye+");\n}\n.play-button.large {\n  width: 35px;\n  height: 35px;\n}\n.audio-seek-slider {\n  max-width: 400px;\n  margin: 11px 0 0 0 !important;\n}\n.audio-seek-slider .noUi-horizontal {\n  height: 7px;\n  background: #fff;\n  border-color: #949494;\n  box-shadow: none;\n}\n.audio-seek-slider .noUi-handle {\n  width: 15px;\n  height: 15px;\n  background: #097C44;\n  border: 0;\n  border-radius: 100%;\n  box-shadow: none;\n}\n.audio-seek-slider .noUi-handle:before,\n.audio-seek-slider .noUi-handle:after {\n  display: none;\n}\n.audio-seek-slider .noUi-handle .noUi-tooltip {\n  display: none;\n}\n.element-notification-message {\n  display: inline;\n  position: relative;\n}\n.element-notification-message .element-container {\n  display: inline;\n}\n.element-notification-message .message-container {\n  position: absolute;\n  min-width: 200px;\n  padding: 20px;\n  font-size: 1.2rem;\n  color: #fff;\n  background: #1c3f49;\n  border-radius: 3px;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.18);\n  opacity: 0;\n  pointer-events: none;\n  -webkit-transform: scale(0.95);\n  -moz-transform: scale(0.95);\n  -ms-transform: scale(0.95);\n  transform: scale(0.95);\n  -webkit-transition: all 500ms ease-in-out;\n  -o-transition: all 500ms ease-in-out;\n  transition: all 500ms ease-in-out;\n  cursor: pointer;\n}\n.element-notification-message .message-container.visible {\n  opacity: 1;\n  pointer-events: all;\n  -webkit-transform: scale(1);\n  -moz-transform: scale(1);\n  -ms-transform: scale(1);\n  transform: scale(1);\n}\n.element-notification-message .message-container .arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n.element-notification-message .message-container .arrow.arrow-under {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-bottom: 10px solid #1c3f49;\n}\n.element-notification-message .message-container .arrow.arrow-above {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-top: 10px solid #1c3f49;\n}\n.element-notification-message .message-container .arrow.arrow-right {\n  border-top: 10px solid transparent;\n  border-bottom: 10px solid transparent;\n  border-left: 10px solid #1c3f49;\n}\n.element-notification-message .message-container .arrow.arrow-left {\n  border-top: 10px solid transparent;\n  border-bottom: 10px solid transparent;\n  border-right: 10px solid #1c3f49;\n}\n.element-notification-message .message-container .close-button {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  -webkit-transform: scale(0.7);\n  -moz-transform: scale(0.7);\n  -ms-transform: scale(0.7);\n  transform: scale(0.7);\n}\n.popup-notification-message {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  max-width: 70%;\n  padding: 20px;\n  background: #1c3f49;\n  border-radius: 5px;\n  box-shadow: 0 2px 18px 3px rgba(0, 0, 0, 0.25);\n  text-align: center;\n  z-index: 1700;\n  pointer-events: none;\n  opacity: 0;\n  -webkit-transition: all 600ms ease-in-out;\n  -o-transition: all 600ms ease-in-out;\n  transition: all 600ms ease-in-out;\n  -webkit-transform: translate(-50%, -60%);\n  -moz-transform: translate(-50%, -60%);\n  -ms-transform: translate(-50%, -60%);\n  transform: translate(-50%, -60%);\n}\n.popup-notification-message.visible {\n  opacity: 1;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.popup-notification-message .message-container {\n  font-size: 1.2rem;\n  color: #fff;\n}\n.share-buttons {\n  display: inline-block;\n  margin-top: 20px;\n}\n.popup-wrapper .share-buttons {\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n.share-buttons label {\n  float: left;\n  margin-top: -16px;\n  margin-bottom: 0;\n  padding: 0 5px;\n  font-size: 0.9rem;\n  font-weight: normal;\n  color: #ababab;\n  background: #fff;\n}\n.share-buttons .fb-share-button {\n  height: 20px;\n  max-height: 20px;\n  min-width: 45px;\n  margin-right: 5px;\n  overflow: hidden;\n}\n.share-buttons .twitter-share-button {\n  height: 20px;\n  min-width: 40px;\n}\n.feedback-button {\n  position: absolute;\n  top: 0;\n  right: 95px;\n  height: auto;\n  margin: 0;\n  padding: 15px 15px 10px 15px;\n  border: none;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.61);\n  background: rgba(255, 255, 255, 0.4);\n  color: #fff;\n  line-height: inherit;\n  -webkit-transform: translateY(-5px);\n  -moz-transform: translateY(-5px);\n  -ms-transform: translateY(-5px);\n  transform: translateY(-5px);\n}\n@media print {\n  .feedback-button {\n    display: none;\n  }\n}\n.feedback-button:hover {\n  box-shadow: 0 1px 2px rgba(0, 0, 6, 0.61);\n  background: rgba(255, 255, 255, 0.5);\n  color: #fff;\n  -webkit-transform: translateY(-2px);\n  -moz-transform: translateY(-2px);\n  -ms-transform: translateY(-2px);\n  transform: translateY(-2px);\n}\n@media (max-width: 550px) {\n  .feedback-button:hover {\n    background: #3FD695;\n  }\n}\n@media (max-width: 550px) {\n  .feedback-button {\n    position: fixed;\n    top: auto;\n    bottom: 10px;\n    right: 20px;\n    padding: 10px 15px;\n    background: #097C44;\n    border-radius: 20px;\n    z-index: 600;\n  }\n}\n.contributeinfo-button {\n  right: 310px;\n}\n.help-button {\n  right: 400px;\n}\n.transcriptionhelp-button {\n  right: 440px;\n}\n.on-top-of-map-button {\n  background: #097C44;\n}\n.image-map-container {\n  margin-bottom: 20px;\n}\n.image-map-container .map-container {\n  height: 600px;\n  border: 1px solid #d1d1d1;\n  border-radius: 3px;\n  background-color: rgba(238, 238, 238, 0.8);\n  background-image: url("+Re+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.records-list tr.highlighted td {\n  padding-top: 20px;\n  padding-bottom: 20px;\n}\n.records-list tr.highlighted .item-title {\n  font-size: 1.3rem;\n}\n.records-list tr.highlighted .item-summary {\n  margin-top: 10px;\n  font-size: 1.05rem;\n}\n.records-list td.table-buttons a {\n  display: inline-block;\n  padding: 2px 5px;\n  margin: 0 5px 5px 0;\n  background: #ffffff;\n  border-radius: 3px;\n  color: #097C44;\n  font-size: 0.8rem;\n}\n.records-list thead tr th:first-child {\n  width: 50%;\n}\n.minimal-scrollbar::-webkit-scrollbar-track {\n  border-radius: 10px;\n  background-color: #F5F5F5;\n}\n.minimal-scrollbar::-webkit-scrollbar {\n  width: 8px;\n  background-color: #F5F5F5;\n}\n.minimal-scrollbar::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background-color: #999;\n}\n.minimal-scrollbar::-webkit-scrollbar-thumb:hover {\n  background-color: #d4454c;\n}\n.minimal-scrollbar::-webkit-scrollbar-thumb:active {\n  background-color: #a6192e;\n}\ntable th {\n  font-size: 0.9rem;\n}\n.table-wrapper {\n  margin-bottom: 2.5rem;\n  border-radius: 3px;\n  background-repeat: no-repeat;\n  background-position: center 85px;\n}\n@media print {\n  .table-wrapper {\n    padding: 5px 0;\n  }\n}\n@media (max-width: 750px) {\n  .table-wrapper {\n    margin-bottom: 0.5rem;\n  }\n}\n.table-wrapper.loading {\n  min-height: 200px;\n  background-color: #fff;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-attachment: fixed;\n  background-image: url("+Re+");\n}\n.table-wrapper.loading > table {\n  opacity: 0;\n}\n.table-wrapper.loading > .list-pagination:last-child {\n  opacity: 0;\n}\n.table-wrapper.loading-page {\n  background-color: #fff;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-attachment: fixed;\n  background-image: url("+Re+');\n}\n.table-wrapper.loading-page > table {\n  opacity: 0.5;\n}\n.table-wrapper table {\n  margin-bottom: 0;\n  border-spacing: 0;\n  -webkit-transition: opacity 300ms ease-in-out;\n  -o-transition: opacity 300ms ease-in-out;\n  transition: opacity 300ms ease-in-out;\n}\n.table-wrapper table tr:last-child td {\n  border-bottom: none;\n}\n.table-wrapper table a {\n  color: #097C44;\n  text-decoration: none;\n}\n.table-wrapper table a:hover {\n  text-decoration: underline;\n}\n.table-wrapper table button {\n  margin-left: 1rem;\n}\n.table-wrapper hr {\n  margin: 20px -15px !important;\n}\ntable.table-responsive {\n  margin-bottom: 0;\n}\ntable.table-responsive tr:last-child td {\n  border-bottom: none;\n}\ntable.table-responsive thead {\n  position: absolute;\n  clip: rect(1px 1px 1px 1px);\n  /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n  padding: 0;\n  border: 0;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n}\ntable.table-responsive thead th {\n  border: none;\n  padding-left: 15px;\n}\ntable.table-responsive thead th:last-child {\n  padding-right: 15px;\n}\n@media (min-width: 48em) {\n  table.table-responsive thead {\n    position: relative;\n    clip: auto;\n    height: auto;\n    width: auto;\n    overflow: auto;\n  }\n}\ntable.table-responsive tbody,\ntable.table-responsive tr,\ntable.table-responsive th,\ntable.table-responsive td {\n  display: block;\n  white-space: normal;\n}\n@media (min-width: 48em) {\n  table.table-responsive tr {\n    display: table-row;\n  }\n}\n@media (min-width: 48em) {\n  table.table-responsive th,\n  table.table-responsive td {\n    display: table-cell;\n  }\n}\n@media (min-width: 48em) {\n  table.table-responsive tbody {\n    display: table-row-group;\n  }\n}\ntable.table-responsive tbody tr {\n  border-bottom: 1px solid #7e7e7e;\n}\ntable.table-responsive tbody tr:nth-child(2n-1) {\n  background-color: #f5f5f5;\n}\ntable.table-responsive tbody tr:nth-child(2n) {\n  background-color: #fff;\n}\n@media (min-width: 48em) {\n  table.table-responsive tbody tr {\n    display: table-row;\n    border-bottom: none;\n  }\n}\ntable.table-responsive tbody tr:last-of-type {\n  margin-bottom: 0;\n  border-bottom: none;\n}\ntable.table-responsive tbody td {\n  padding-left: 0;\n  min-height: 50px;\n  box-sizing: border-box;\n  border: none;\n}\ntable.table-responsive tbody td:first-child {\n  font-size: 1.1rem;\n  font-weight: bold;\n  padding-left: 15px;\n}\n@media (min-width: 48em) {\n  table.table-responsive tbody td:first-child {\n    font-size: 1rem;\n    font-weight: normal;\n  }\n}\ntable.table-responsive tbody td[data-title]:before {\n  content: attr(data-title);\n  float: left;\n  margin-right: 15px;\n  font-weight: bold;\n}\n@media (min-width: 48em) {\n  table.table-responsive tbody td[data-title]:before {\n    content: none;\n  }\n}\ntd .play-button {\n  position: relative;\n  top: 2px;\n}\n.transcriptionform input,\n.transcriptionform textarea {\n  font-family: "Source Serif Pro", serif;\n}\n.transcriptionform textarea {\n  line-height: 150%;\n  height: 380px;\n}\n.statistics-overlay {\n  background-color: white;\n  bottom: 0;\n  display: block;\n  height: 100vh;\n  left: 0;\n  max-width: 700px;\n  min-width: 300px;\n  position: fixed;\n  opacity: 0;\n  right: 0;\n  overflow-y: auto;\n  top: 0;\n  width: 100vw;\n  z-index: -1;\n  pointer-events: none;\n  transition: opacity 0.1s ease-in-out;\n}\n.statistics-overlay.visible {\n  opacity: 1;\n  z-index: 1560;\n  pointer-events: auto;\n}\n@media (max-width: 550px) {\n  .statistics-overlay {\n    width: 100%;\n  }\n}\n.statistics-overlay .close-button {\n  display: block;\n  position: absolute;\n  top: 35px;\n  right: 35px;\n}\n.statistics-overlay .container-header {\n  position: relative;\n  padding: 50px 50px 30px;\n  color: #fff;\n  background-image: url('+Ue+");\n}\n.statistics-overlay .container-header h2 {\n  font-weight: normal;\n}\n.statistics-overlay .row {\n  padding: 50px;\n}\n.statistics-overlay ul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n.statistics-overlay ul li a {\n  color: #000;\n  display: block;\n  padding: 10px 0;\n  text-decoration: none;\n}\n.statistics-overlay ul li a:hover {\n  color: #000;\n}\n.statistics-overlay .short-statistics {\n  margin-bottom: 30px;\n}\n.statistics-overlay .short-statistics .value {\n  font-family: 'Barlow Condensed', sans-serif;\n  font-size: 2.5em;\n  font-weight: bold;\n}\n*:focus {\n  opacity: 1 !important;\n  outline: 2px solid #01535d !important;\n}\n/* source-sans-pro-italic - latin-ext_latin */\n@font-face {\n  font-family: 'Source Sans Pro';\n  font-style: italic;\n  font-weight: 400;\n  src: url("+Ge+");\n  /* IE9 Compat Modes */\n  src: local(''), url("+$e+") format('embedded-opentype'), /* IE6-IE8 */ url("+Xe+") format('woff2'), /* Super Modern Browsers */ url("+qe+") format('woff'), /* Modern Browsers */ url("+Je+") format('truetype'), /* Safari, Android, iOS */ url("+Qe+") format('svg');\n  /* Legacy iOS */\n}\n/* source-sans-pro-regular - latin-ext_latin */\n@font-face {\n  font-family: 'Source Sans Pro';\n  font-style: normal;\n  font-weight: 400;\n  src: url("+et+");\n  /* IE9 Compat Modes */\n  src: local(''), url("+tt+") format('embedded-opentype'), /* IE6-IE8 */ url("+nt+") format('woff2'), /* Super Modern Browsers */ url("+at+") format('woff'), /* Modern Browsers */ url("+rt+") format('truetype'), /* Safari, Android, iOS */ url("+it+") format('svg');\n  /* Legacy iOS */\n}\n/* source-sans-pro-700 - latin-ext_latin */\n@font-face {\n  font-family: 'Source Sans Pro';\n  font-style: normal;\n  font-weight: 700;\n  src: url("+ot+");\n  /* IE9 Compat Modes */\n  src: local(''), url("+st+") format('embedded-opentype'), /* IE6-IE8 */ url("+lt+") format('woff2'), /* Super Modern Browsers */ url("+pt+") format('woff'), /* Modern Browsers */ url("+ct+") format('truetype'), /* Safari, Android, iOS */ url("+dt+") format('svg');\n  /* Legacy iOS */\n}\n/* source-sans-pro-700italic - latin-ext_latin */\n@font-face {\n  font-family: 'Source Sans Pro';\n  font-style: italic;\n  font-weight: 700;\n  src: url("+mt+");\n  /* IE9 Compat Modes */\n  src: local(''), url("+ht+") format('embedded-opentype'), /* IE6-IE8 */ url("+ut+") format('woff2'), /* Super Modern Browsers */ url("+gt+") format('woff'), /* Modern Browsers */ url("+ft+") format('truetype'), /* Safari, Android, iOS */ url("+bt+") format('svg');\n  /* Legacy iOS */\n}\n/* source-serif-pro-regular - latin-ext_latin */\n@font-face {\n  font-display: swap;\n  /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Source Serif Pro';\n  font-style: normal;\n  font-weight: 400;\n  src: url("+wt+") format('woff2'), /* Chrome 36+, Opera 23+, Firefox 39+ */ url("+vt+") format('woff');\n  /* Chrome 5+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n}\n/* source-serif-pro-italic - latin-ext_latin */\n@font-face {\n  font-display: swap;\n  /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Source Serif Pro';\n  font-style: italic;\n  font-weight: 400;\n  src: url("+yt+") format('woff2'), /* Chrome 36+, Opera 23+, Firefox 39+ */ url("+xt+") format('woff');\n  /* Chrome 5+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n}\n/* source-serif-pro-700 - latin-ext_latin */\n@font-face {\n  font-display: swap;\n  /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Source Serif Pro';\n  font-style: normal;\n  font-weight: 700;\n  src: url("+kt+") format('woff2'), /* Chrome 36+, Opera 23+, Firefox 39+ */ url("+Et+") format('woff');\n  /* Chrome 5+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n}\n/* source-serif-pro-700italic - latin-ext_latin */\n@font-face {\n  font-display: swap;\n  /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Source Serif Pro';\n  font-style: italic;\n  font-weight: 700;\n  src: url("+_t+") format('woff2'), /* Chrome 36+, Opera 23+, Firefox 39+ */ url("+Ct+") format('woff');\n  /* Chrome 5+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n}\n/* barlow-condensed-regular - latin */\n@font-face {\n  font-display: swap;\n  /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Barlow Condensed';\n  font-style: normal;\n  font-weight: 400;\n  src: url("+St+");\n  /* IE9 Compat Modes */\n  src: url("+Pt+") format('embedded-opentype'), /* IE6-IE8 */ url("+Lt+") format('woff2'), /* Super Modern Browsers */ url("+It+") format('woff'), /* Modern Browsers */ url("+Nt+") format('truetype'), /* Safari, Android, iOS */ url("+Ht+") format('svg');\n  /* Legacy iOS */\n}\n/* barlow-condensed-italic - latin */\n@font-face {\n  font-display: swap;\n  /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Barlow Condensed';\n  font-style: italic;\n  font-weight: 400;\n  src: url("+Ot+");\n  /* IE9 Compat Modes */\n  src: url("+Bt+") format('embedded-opentype'), /* IE6-IE8 */ url("+Rt+") format('woff2'), /* Super Modern Browsers */ url("+zt+") format('woff'), /* Modern Browsers */ url("+Ut+") format('truetype'), /* Safari, Android, iOS */ url("+Mt+") format('svg');\n  /* Legacy iOS */\n}\n/* barlow-condensed-700 - latin */\n@font-face {\n  font-display: swap;\n  /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Barlow Condensed';\n  font-style: normal;\n  font-weight: 700;\n  src: url("+Ft+");\n  /* IE9 Compat Modes */\n  src: url("+Vt+") format('embedded-opentype'), /* IE6-IE8 */ url("+At+") format('woff2'), /* Super Modern Browsers */ url("+Tt+") format('woff'), /* Modern Browsers */ url("+Dt+") format('truetype'), /* Safari, Android, iOS */ url("+jt+") format('svg');\n  /* Legacy iOS */\n}\n/* barlow-condensed-700italic - latin */\n@font-face {\n  font-display: swap;\n  /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Barlow Condensed';\n  font-style: italic;\n  font-weight: 700;\n  src: url("+Wt+");\n  /* IE9 Compat Modes */\n  src: url("+Zt+") format('embedded-opentype'), /* IE6-IE8 */ url("+Kt+") format('woff2'), /* Super Modern Browsers */ url("+Yt+") format('woff'), /* Modern Browsers */ url("+Gt+") format('truetype'), /* Safari, Android, iOS */ url("+$t+") format('svg');\n  /* Legacy iOS */\n}\n@viewport {\n  zoom: 0.75;\n}\n#Publiceringsdatum + span {\n  display: none;\n}\nhtml,\nbody {\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n}\n@media print {\n  html,\n  body {\n    overflow: visible;\n  }\n}\nbody {\n  padding: 0;\n  margin: 0;\n  font-size: 1rem;\n  font-family: \"Source Sans Pro\", sans-serif;\n  background-color: #f5f5f5;\n  background-image: url("+Re+');\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.text-small {\n  font-size: 0.9rem;\n}\n.text-smaller {\n  font-size: 0.7rem;\n}\nh2 {\n  font-size: 2rem;\n}\nh2 .lighter {\n  font-size: 1.4rem;\n  color: #8d8d8d;\n}\nh3 {\n  font-size: 1.8rem;\n}\n.text-center {\n  text-align: center;\n}\n.font-weight-normal {\n  font-weight: normal;\n}\n.isof-app-header {\n  padding: 5px 5px !important;\n  background: white;\n  display: inline-flex;\n  overflow: hidden;\n  margin-top: 10px;\n}\n.isof-app-header a {\n  color: #1c3f49;\n  font-size: 1rem;\n  white-space: nowrap;\n}\n.isof-app-header a img {\n  height: 3rem;\n}\n.margin-top-0 {\n  margin-top: 0 !important;\n}\n.margin-top-5 {\n  margin-top: 5px !important;\n}\n.margin-top-10 {\n  margin-top: 10px !important;\n}\n.margin-top-15 {\n  margin-top: 15px !important;\n}\n.margin-top-20 {\n  margin-top: 20px !important;\n}\n.margin-top-25 {\n  margin-top: 25px !important;\n}\n.margin-top-30 {\n  margin-top: 30px !important;\n}\n.margin-top-35 {\n  margin-top: 35px !important;\n}\n.margin-bottom-0 {\n  margin-bottom: 0 !important;\n}\n.margin-bottom-5 {\n  margin-bottom: 5px !important;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px !important;\n}\n.margin-bottom-15 {\n  margin-bottom: 15px !important;\n}\n.margin-bottom-20 {\n  margin-bottom: 20px !important;\n}\n.margin-bottom-25 {\n  margin-bottom: 25px !important;\n}\n.margin-bottom-30 {\n  margin-bottom: 30px !important;\n}\n.margin-bottom-35 {\n  margin-bottom: 35px !important;\n}\n.app-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  -webkit-transition: top 300ms ease-in-out;\n  -o-transition: top 300ms ease-in-out;\n  transition: top 300ms ease-in-out;\n}\n@media (max-width: 550px) {\n  .app-container {\n    top: 39px;\n  }\n}\n.app-container.has-overlay {\n  overflow: hidden;\n}\n@media print {\n  .app-container.has-overlay {\n    position: initial;\n    overflow: visible;\n  }\n}\n.has-docked-control .app-container {\n  top: 60px;\n}\n.helptext p {\n  margin-bottom: 0rem;\n  margin-top: 1.1rem;\n}\ncode {\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.container-wrapper {\n  position: absolute;\n  top: 100vh;\n  left: 0;\n  right: 0;\n  padding: 60px 0;\n  background: #fff;\n  box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.4);\n  z-index: 1300;\n}\n.list-pagination {\n  margin-top: 20px;\n}\n.list-pagination button {\n  margin-right: 10px;\n}\n@media print {\n  .list-pagination button {\n    display: none;\n  }\n}\naudio::-webkit-media-controls {\n  overflow: hidden !important;\n}\naudio::-webkit-media-controls-enclosure {\n  width: calc(100% + 12px);\n  margin-left: auto;\n}\n@media print {\n  a {\n    text-decoration: none !important;\n  }\n}\n.sort {\n  cursor: pointer;\n}\n.table-responsive th:not(:first-child) {\n  padding-left: 0;\n}\n.records-list td.table-buttons > a,\n.records-list td.table-buttons > span {\n  display: inline-block;\n  padding: 2px 5px;\n  margin: 0 5px 5px 0;\n  background: #ffffff;\n  border-radius: 3px;\n  color: #097C44;\n  font-size: 0.8rem;\n  border: 1px solid whitesmoke;\n}\n.records-list td.table-buttons > a a,\n.records-list td.table-buttons > span a {\n  margin: 0;\n  padding: 0;\n}\n.records-list td.table-buttons > a.year,\n.records-list td.table-buttons > span.year {\n  color: #000;\n}\n.records-list td.table-buttons > a.transcriptionstatus,\n.records-list td.table-buttons > span.transcriptionstatus {\n  color: #000;\n}\n.records-list td.table-buttons > a.transcriptionstatus.empty,\n.records-list td.table-buttons > span.transcriptionstatus.empty {\n  display: none;\n}\n.records-list td.table-buttons > a.transcriptionstatus.published,\n.records-list td.table-buttons > span.transcriptionstatus.published {\n  background-color: #cfc;\n  border-color: #cfc;\n}\n.records-list td.table-buttons > a.transcriptionstatus.undertranscription,\n.records-list td.table-buttons > span.transcriptionstatus.undertranscription,\n.records-list td.table-buttons > a.transcriptionstatus.transcribed,\n.records-list td.table-buttons > span.transcriptionstatus.transcribed {\n  background-color: #ffc;\n  border-color: #ffc;\n}\n.table-compressed table td {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  font-size: 0.8rem;\n}\n.switcher-help-button {\n  background: #005462;\n  color: white;\n  cursor: pointer;\n  font-weight: bold;\n  height: 42px;\n  padding: 11px 0 0;\n  text-align: center;\n  width: 12%;\n  display: inline-block;\n}\n.open-sidemenu-button {\n  background: #005462;\n  color: white;\n  cursor: pointer;\n  font-weight: bold;\n  height: 42px;\n  padding: 11px 0 0;\n  text-align: center;\n  width: 12%;\n  display: inline-block;\n}\n.subrecords a {\n  cursor: pointer;\n}\n.subrecords ul {\n  margin-left: 5px;\n}\n.subrecords ul li {\n  margin-bottom: 0;\n}\ndiv.display-line-breaks {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.record-text-container {\n  display: inline-flex;\n  flex-direction: column;\n}\n.record-text {\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n  display: inline-block;\n  font-family: "Source Serif Pro", serif;\n  line-height: 1.5;\n  margin: 0 0 20px;\n  max-width: 100%;\n  padding: 20px 30px;\n}\n.next-random-record-button-container {\n  position: relative;\n  height: 6px;\n}\n.next-random-record-button-container .next-random-record-button {\n  position: absolute;\n  right: 0;\n  top: 6px;\n}\n.map-bottom-wrapper {\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n  z-index: 1100;\n}\n.map-bottom-control {\n  font-family: "Source Sans Pro", sans-serif !important;\n}\n.map-wrapper .leaflet-control-zoom,\n.leaflet-control-layers {\n  bottom: 60px;\n}\n@media screen and (max-width: 550px) {\n  .map-wrapper .leaflet-control-zoom,\n  .leaflet-control-layers {\n    bottom: 100px;\n  }\n}\n.leaflet-control-layers-toggle {\n  background-image: url('+Se+");\n}\n.leaflet-retina .leaflet-control-layers-toggle {\n  background-image: url("+Pe+");\n}\n.map-wrapper .leaflet-control-container .leaflet-top {\n  top: 160px;\n}\n.map-viewmode-menu {\n  top: 348px !important;\n}\nfooter .logo {\n  bottom: 20px;\n  right: 10px;\n}\nheader .logo {\n  top: 5px;\n  left: 20px;\n}\n@media (max-width: 550px) {\n  header .logo {\n    top: 45px;\n  }\n}\n@media (max-width: 550px) {\n  header .logo,\n  footer .logo {\n    top: unset;\n  }\n  header .logo .isof-app-header,\n  footer .logo .isof-app-header {\n    padding: 0 !important;\n  }\n  header .logo .isof-app-header #portal,\n  footer .logo .isof-app-header #portal {\n    display: none;\n  }\n}\nfooter,\nheader {\n  visibility: hidden;\n  background: transparent !important;\n  pointer-events: none;\n}\nfooter .logo,\nheader .logo {\n  visibility: visible;\n  position: absolute;\n  pointer-events: all;\n  z-index: 1100;\n  background-color: #fff;\n  -webkit-transition: top 300ms ease-in-out;\n  -o-transition: top 300ms ease-in-out;\n  transition: top 300ms ease-in-out;\n}\n@media print {\n  footer .logo,\n  header .logo {\n    top: 0;\n    left: 0;\n  }\n}\n@media (max-width: 550px) {\n  footer .logo img,\n  header .logo img {\n    width: 85px !important;\n  }\n}\n.has-docked-control footer .logo,\n.has-docked-control header .logo {\n  top: 65px;\n}\nfooter .lp-nav-bar,\nheader .lp-nav-bar {\n  background: transparent;\n}\nfooter #Meny1 + ul,\nheader #Meny1 + ul {\n  /*\n\t\tVi döljer menyn tills vi har flera kartor än bara sägenkartan\n\t\t*/\n  visibility: visible;\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  pointer-events: all;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.4);\n  border-radius: 4px;\n  background-color: #097C44;\n  overflow: hidden;\n  z-index: 1100;\n  -webkit-transition: all 400ms ease-in-out;\n  -o-transition: all 400ms ease-in-out;\n  transition: all 400ms ease-in-out;\n  -webkit-transition-delay: 700ms;\n  transition-delay: 700ms;\n  opacity: 0;\n  -webkit-transform: translateY(50px);\n  -moz-transform: translateY(50px);\n  -ms-transform: translateY(50px);\n  transform: translateY(50px);\n}\n.app-initialized footer #Meny1 + ul,\n.app-initialized header #Meny1 + ul {\n  opacity: 1;\n  -webkit-transform: translateY(0);\n  -moz-transform: translateY(0);\n  -ms-transform: translateY(0);\n  transform: translateY(0);\n}\n@media (max-width: 650px) {\n  footer #Meny1 + ul,\n  header #Meny1 + ul {\n    display: none;\n  }\n}\nfooter #Meny1 + ul > li,\nheader #Meny1 + ul > li {\n  display: inline-block !important;\n  margin-bottom: 0;\n}\nfooter #Meny1 + ul > li a,\nheader #Meny1 + ul > li a {\n  padding: 20px 30px !important;\n  font-size: 16px !important;\n  text-decoration: none;\n  color: #fff;\n}\nfooter #Meny1 + ul > li a.vitxbrodtext,\nheader #Meny1 + ul > li a.vitxbrodtext {\n  background-color: #3FD695;\n  text-decoration: underline;\n}\nfooter #Meny + ul,\nheader #Meny + ul {\n  visibility: visible;\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  min-width: 350px;\n  margin: 0;\n  background: #fff;\n  border-top: 6px solid #097C44 !important;\n  border-radius: 2px;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.4);\n  pointer-events: all;\n  z-index: 1100;\n  -webkit-transition: all 300ms ease-in-out;\n  -o-transition: all 300ms ease-in-out;\n  transition: all 300ms ease-in-out;\n  opacity: 0;\n  -webkit-transform: translateY(-50x);\n  -moz-transform: translateY(-50x);\n  -ms-transform: translateY(-50x);\n  transform: translateY(-50x);\n}\n.app-initialized footer #Meny + ul,\n.app-initialized header #Meny + ul {\n  opacity: 1;\n  -webkit-transform: translateY(0);\n  -moz-transform: translateY(0);\n  -ms-transform: translateY(0);\n  transform: translateY(0);\n}\n.has-docked-control footer #Meny + ul,\n.has-docked-control header #Meny + ul {\n  top: 80px;\n}\n@media (max-width: 650px) {\n  footer #Meny + ul,\n  header #Meny + ul {\n    display: none;\n  }\n}\nfooter #Meny + ul > li,\nheader #Meny + ul > li {\n  display: inline-block;\n  margin: 0;\n}\nfooter #Meny + ul > li a,\nheader #Meny + ul > li a {\n  display: inline-block;\n  padding: 15px 25px;\n}\n",""]);const Xt=Ce},157:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-700.eot"},5383:(e,t,n)=>{"use strict";e.exports=n.p+"img/barlow-condensed-v12-latin-700.svg"},3983:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-700.ttf"},2116:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-700.woff"},2519:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-700.woff2"},8911:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-700italic.eot"},1916:(e,t,n)=>{"use strict";e.exports=n.p+"img/barlow-condensed-v12-latin-700italic.svg"},6443:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-700italic.ttf"},3306:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-700italic.woff"},1152:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-700italic.woff2"},522:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-italic.eot"},5329:(e,t,n)=>{"use strict";e.exports=n.p+"img/barlow-condensed-v12-latin-italic.svg"},9348:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-italic.ttf"},261:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-italic.woff"},556:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-italic.woff2"},7515:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-regular.eot"},1554:(e,t,n)=>{"use strict";e.exports=n.p+"img/barlow-condensed-v12-latin-regular.svg"},2183:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-regular.ttf"},8145:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-regular.woff"},7889:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/barlow-condensed-v12-latin-regular.woff2"},3528:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-700.eot"},6331:(e,t,n)=>{"use strict";e.exports=n.p+"img/source-sans-pro-v14-latin-ext_latin-700.svg"},1240:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-700.ttf"},7564:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-700.woff"},4338:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-700.woff2"},9835:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-700italic.eot"},9989:(e,t,n)=>{"use strict";e.exports=n.p+"img/source-sans-pro-v14-latin-ext_latin-700italic.svg"},4276:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-700italic.ttf"},4592:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-700italic.woff"},3245:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-700italic.woff2"},1885:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-italic.eot"},609:(e,t,n)=>{"use strict";e.exports=n.p+"img/source-sans-pro-v14-latin-ext_latin-italic.svg"},5340:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-italic.ttf"},1704:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-italic.woff"},3571:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-italic.woff2"},6574:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-regular.eot"},4958:(e,t,n)=>{"use strict";e.exports=n.p+"img/source-sans-pro-v14-latin-ext_latin-regular.svg"},3602:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-regular.ttf"},8915:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-regular.woff"},7164:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-sans-pro-v14-latin-ext_latin-regular.woff2"},4487:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-serif-pro-v15-latin-ext_latin-700.woff"},664:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-serif-pro-v15-latin-ext_latin-700.woff2"},632:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-serif-pro-v15-latin-ext_latin-700italic.woff"},6843:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-serif-pro-v15-latin-ext_latin-700italic.woff2"},2430:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-serif-pro-v15-latin-ext_latin-italic.woff"},9372:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-serif-pro-v15-latin-ext_latin-italic.woff2"},8417:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-serif-pro-v15-latin-ext_latin-regular.woff"},638:(e,t,n)=>{"use strict";e.exports=n.p+"fonts/source-serif-pro-v15-latin-ext_latin-regular.woff2"},6813:(e,t,n)=>{"use strict";e.exports=n.p+"img/dropdown-button.png"},5060:(e,t,n)=>{"use strict";e.exports=n.p+"img/header-back.gif"},2504:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-arrow-right.png"},2625:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-circles.png"},3768:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-clear.png"},3914:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-heatmap.png"},3686:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-locate-following.png"},7176:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-locate.png"},4607:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-menu-expand.png"},8849:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-pause.png"},3435:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-pdf.png"},3102:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-play.png"},425:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-search.png"},8515:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-star-light.png"},1873:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-star-red.png"},4614:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-star-transparent.png"},4464:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon-star-white.png"},8228:(e,t,n)=>{"use strict";e.exports=n.p+"img/layers-2x.png"},9827:(e,t,n)=>{"use strict";e.exports=n.p+"img/layers.png"},2169:(e,t,n)=>{"use strict";e.exports=n.p+"img/loader.gif"},3548:(e,t,n)=>{"use strict";e.exports=n.p+"img/map-marker-blue-location.png"},6551:(e,t,n)=>{"use strict";e.exports=n.p+"img/marker-icon.png"}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=t,e=[],a.O=(t,n,r,i)=>{if(!n){var o=1/0;for(c=0;c<e.length;c++){for(var[n,r,i]=e[c],s=!0,l=0;l<n.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(s=!1,i<o&&(o=i));if(s){e.splice(c--,1);var p=r();void 0!==p&&(t=p)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{a.b=document.baseURI||self.location.href;var e={179:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[o,s,l]=n,p=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var c=l(a)}for(t&&t(n);p<o.length;p++)i=o[p],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},n=self.webpackChunkpublikutforska_react=self.webpackChunkpublikutforska_react||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0;var r=a.O(void 0,[38],(()=>a(746)));r=a.O(r)})();