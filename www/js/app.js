!function o(a,s,l){function u(e,t){if(!s[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[e]={exports:{}};a[e][0].call(r.exports,function(t){return u(a[e][1][t]||t)},r,r.exports,o,a,s,l)}return s[e].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("whatwg-fetch");var a=i(t("underscore")),s=i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=s.default.apiUrl+"socken/",this.onComplete=t}var t,n,i,r;function o(t){return r.apply(this,arguments)}return t=e,(n=[{key:"cleanParams",value:function(t){for(var e in t)null!==t[e]&&void 0!==t[e]||delete t[e];return t}},{key:"fetch",value:(r=function(t){var e=[];if(t.record_ids)e.push("documents="+t.record_ids);else{e=[],t=a.default.defaults(this.cleanParams(t),s.default.requiredParams);for(var n in t.search&&("person"==t.search_field&&(t.person=t.search,delete t.search),"place"==t.search_field&&(t.place=t.search,delete t.search),delete t.search_field),t)e.push(n+"="+t[n])}var i=e.join("&");fetch(this.url+"?"+i).then(function(t){return t.json()}).then(function(t){this.onComplete&&this.onComplete(t)}.bind(this)).catch(function(t){console.log("parsing failed",t)})},o.toString=function(){return r.toString()},o)}])&&l(t.prototype,n),i&&l(t,i),e}();n.default=r},{"./../../../scripts/config.js":112,underscore:94,"whatwg-fetch":98}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("whatwg-fetch");var a=i(t("underscore")),s=i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=s.default.apiUrl+"documents/",this.onComplete=t}var t,n,i,r;function o(t){return r.apply(this,arguments)}return t=e,(n=[{key:"fetch",value:(r=function(t){var e=[];if(t.record_ids)e.push("documents="+t.record_ids);else{var n=a.default.defaults(t,s.default.requiredParams);for(var i in n.search&&("person"==n.search_field&&(n.person=n.search,delete n.search),"place"==n.search_field&&(n.place=n.search,delete n.search),delete n.search_field),n)n[i]&&e.push(i+"="+n[i])}var r=e.join("&");fetch(this.url+"?"+r).then(function(t){return t.json()}).then(function(t){this.onComplete&&this.onComplete(t)}.bind(this)).catch(function(t){console.log("parsing failed",t)})},o.toString=function(){return r.toString()},o)}])&&l(t.prototype,n),i&&l(t,i),e}();n.default=r},{"./../../../scripts/config.js":112,underscore:94,"whatwg-fetch":98}],3:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("react-dom"));i(t("underscore"));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=f(o);if(a){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?h(e):n}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"].Component);var t,e,n,i=c(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).menuButtonClick=e.menuButtonClick.bind(h(e)),e.closeMenu=e.closeMenu.bind(h(e)),e.state={menuOpen:!1},e}return t=r,(e=[{key:"menuButtonClick",value:function(){this.setState({menuOpen:!this.state.menuOpen},function(){this.state.menuOpen&&this.props.onOpen&&this.props.onOpen()}.bind(this))}},{key:"closeMenu",value:function(){this.setState({menuOpen:!1})}},{key:"windowClickHandler",value:function(t){var e=a.default.findDOMNode(this.refs.container);e&&!e.contains(t.target)&&this.closeMenu()}},{key:"componentDidMount",value:function(){this.props.manuallyClose||document.getElementById("app").addEventListener("click",this.windowClickHandler.bind(this))}},{key:"UNSAFE_componentWillReceiveProps",value:function(){}},{key:"render",value:function(){var t={};return this.props.dropdownHeight&&(t.height=-1==this.props.dropdownHeight.indexOf("px")?this.props.dropdownHeight+"px":this.props.dropdownHeight,t.maxHeight=-1==this.props.dropdownHeight.indexOf("px")?this.props.dropdownHeight+"px":this.props.dropdownHeight),this.props.dropdownWidth&&(t.width=-1==this.props.dropdownWidth.indexOf("px")?this.props.dropdownWidth+"px":this.props.dropdownWidth),o.default.createElement("div",{ref:"container",className:"dropdown-wrapper"+(this.props.dropdownDirection?" dropdown-direction-"+this.props.dropdownDirection:"")},o.default.createElement("a",{tabIndex:0,className:"dropdown-link"+(this.props.className?" "+this.props.className:""),onClick:this.menuButtonClick},this.props.label||""),o.default.createElement("div",{className:"dropdown-container minimal-scrollbar dropdown-list"+(this.state.menuOpen||this.props.keepOpen?" open":"")+(this.props.headerText?" has-header":"")+(this.props.footerContent?" has-footer":""),style:t},this.props.headerText&&o.default.createElement("div",{className:"panel-heading dropdown-heading"},o.default.createElement("span",{className:"heading-label"},this.props.headerText)),o.default.createElement("div",{className:("text"==this.props.containerType?"text-container":"list-container")+" minimal-scrollbar"},this.props.children),this.props.footerContent&&o.default.createElement("div",{className:"dropdown-footer"},this.props.footerContent)))}}])&&l(t.prototype,e),n&&l(t,n),r}();n.default=r},{react:73,"react-dom":57,underscore:94}],4:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react"));i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=h(o);if(a){var r=h(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?c(e):n}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o["default"].Component);var t,e,n,i=u(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).state={messageContainerWidth:0,messageContainerHeight:0,elementContainerWidth:0,elementContainerHeight:0,messageVisible:!1},e.messageClickHandler=e.messageClickHandler.bind(c(e)),e}return t=r,(e=[{key:"messageClickHandler",value:function(){this.setState({messageVisible:!1}),this.props.forgetAfterClick&&localStorage.setItem(this.props.messageId,"read")}},{key:"show",value:function(){"read"!=localStorage.getItem(this.props.messageId)&&this.setState({messageVisible:!0})}},{key:"componentDidMount",value:function(){this.setState({messageContainerWidth:this.refs.messageContainer.clientWidth,messageContainerHeight:this.refs.messageContainer.clientHeight,elementContainerWidth:this.refs.elementContainer.offsetWidth,elementContainerHeight:this.refs.elementContainer.offsetHeight}),this.props.closeTrigger&&this.refs.elementContainer.addEventListener&&this.refs.elementContainer.addEventListener(this.props.closeTrigger,this.messageClickHandler),this.props.manuallyOpen||(this.props.forgetAfterClick?"read"!=localStorage.getItem(this.props.messageId)&&setTimeout(function(){this.setState({messageVisible:!0})}.bind(this),this.props.openTimeout||2e3):setTimeout(function(){this.setState({messageVisible:!0})}.bind(this),this.props.openTimeout||2e3)),this.props.autoHide&&setTimeout(function(){this.setState({messageVisible:!1})}.bind(this),this.props.openDuration||15e3)}},{key:"componentWillUnmount",value:function(){this.props.closeTrigger&&this.refs.elementContainer.addEventListener&&this.refs.elementContainer.removeEventListener(this.props.closeTrigger,this.messageClickHandler)}},{key:"getContainerStyle",value:function(){var t=this.props.placement||"under",e={};return"above"==t&&(e.top=-this.state.messageContainerHeight-10+(Number(this.props.placementOffsetY)||0),e.left=-this.state.messageContainerWidth/2+this.state.elementContainerWidth/2+(Number(this.props.placementOffsetX)||0)),"under"==t&&(e.top=this.state.elementContainerHeight+10+(Number(this.props.placementOffsetY)||0),e.left=-this.state.messageContainerWidth/2+this.state.elementContainerWidth/2+(Number(this.props.placementOffsetX)||0)),e}},{key:"getArrowStyle",value:function(){var t=this.props.placement||"under",e={};return"above"==t&&(e.top=this.state.messageContainerHeight,e.left=this.state.messageContainerWidth/2-5),"under"==t&&(e.top=-10,e.left=this.state.messageContainerWidth/2-5),e}},{key:"render",value:function(){return o.default.createElement("div",{className:"element-notification-message"},o.default.createElement("div",{className:"element-container",ref:"elementContainer"},this.props.children),o.default.createElement("div",{ref:"messageContainer",onClick:this.messageClickHandler,className:"message-container"+(this.state.messageVisible?" visible":""),style:this.getContainerStyle()},o.default.createElement("div",{className:"message"},this.props.message),o.default.createElement("div",{className:"arrow arrow-"+(this.props.placement||"under"),style:this.getArrowStyle()}),o.default.createElement("div",{title:"stäng",className:"close-button white"})))}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],5:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react"));i(t("react-dom")),i(t("underscore"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=c(o);if(a){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o["default"].Component);var t,e,n,i=u(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).state={height:500},e}return t=r,(e=[{key:"componentDidMount",value:function(){this.props.url&&this.setState({url:this.props.url,height:this.props.height||500})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.url&&this.setState({url:t.url,height:t.height||500})}},{key:"render",value:function(){return o.default.createElement("div",{className:"pdf-viewer"},this.state.url&&o.default.createElement("object",{data:this.props.url,width:"100%",height:this.state.height,type:"application/pdf"},o.default.createElement("a",{href:this.props.url},"Öppna pdf")))}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{react:73,"react-dom":57,underscore:94}],6:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("react"))&&i.__esModule?i:{default:i};function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=h(o);if(a){var r=h(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?c(e):n}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o["default"].Component);var t,e,n,i=u(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).popupNotificationReceivedHandler=e.popupNotificationReceivedHandler.bind(c(e)),e.state={message:null,visible:!1},e}return t=r,(e=[{key:"componentDidMount",value:function(){window.eventBus.addEventListener("popup-notification.notify",this.popupNotificationReceivedHandler)}},{key:"popupNotificationReceivedHandler",value:function(t,e){if(e&&""!=e){var n=function(){this.setState({message:e,visible:!0},function(){this.timeout=setTimeout(function(){this.setState({visible:!1}),this.timeout=null}.bind(this),this.props.duration||5e3)}.bind(this))}.bind(this);this.timeout?(clearTimeout(this.timeout),this.setState({visible:!1},function(){setTimeout(function(){n()}.bind(this),600)}.bind(this))):n()}}},{key:"render",value:function(){return o.default.createElement("div",{className:"popup-notification-message"+(this.state.visible?" visible":"")},o.default.createElement("div",{className:"message-container",dangerouslySetInnerHTML:{__html:this.state.message}}))}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{react:73}],7:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,o=(i=t("react"))&&i.__esModule?i:{default:i};function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=f(o);if(a){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?h(e):n}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"].Component);var t,e,n,i=c(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).closeButtonClick=e.closeButtonClick.bind(h(e)),e.closeButtonKeyUp=e.closeButtonKeyUp.bind(h(e)),e.openButtonClickHandler=e.openButtonClickHandler.bind(h(e)),e.openButtonKeyUpHandler=e.openButtonKeyUpHandler.bind(h(e)),e.languageChangedHandler=e.languageChangedHandler.bind(h(e)),e.showRoutePopup=e.showRoutePopup.bind(h(e)),e.state={windowOpen:!1,manualOpen:!1},e}return t=r,(e=[{key:"closeButtonKeyUp",value:function(t){13==t.keyCode&&this.closeButtonClick(t)}},{key:"closeButtonClick",value:function(){this.props.children.props.manuallyOpenPopup?this.setState({windowOpen:!1,manualOpen:!1}):this.props.onClose&&this.props.onClose()}},{key:"openButtonKeyUpHandler",value:function(t){13==t.keyCode&&this.openButtonClickHandler(t)}},{key:"openButtonClickHandler",value:function(){this.setState({windowOpen:!0,manualOpen:!0})}},{key:"languageChangedHandler",value:function(){this.forceUpdate()}},{key:"showRoutePopup",value:function(){this.setState({windowOpen:!1,manualOpen:!0})}},{key:"componentDidMount",value:function(){window.eventBus&&(window.eventBus.addEventListener("Lang.setCurrentLang",this.languageChangedHandler),window.eventBus.addEventListener("routePopup.show",this.showRoutePopup)),this.setState({windowOpen:Boolean(this.props.children)&&!this.props.children.props.manuallyOpenPopup})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setState({windowOpen:Boolean(t.children)&&!t.children.props.manuallyOpenPopup}),!t.children!=this.props.children||this.props.disableAutoScrolling||this.refs.contentWrapper.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.props.onHide&&this.props.onHide(),window.eventBus&&window.eventBus.dispatch("popup.close")}},{key:"render",value:function(){return this.state.windowOpen||this.state.manualOpen?(this.props.onShow&&this.props.onShow(),window.eventBus&&setTimeout(function(){window.eventBus.dispatch("popup.open")}.bind(this),100)):(this.props.onHide&&this.props.onHide(),window.eventBus&&setTimeout(function(){window.eventBus.dispatch("popup.close")}.bind(this),100)),o.default.createElement("div",{className:"popup-wrapper"+(this.state.windowOpen||this.state.manualOpen?" visible":"")},this.props.children&&this.props.children.props.manuallyOpenPopup&&o.default.createElement("a",{className:"popup-open-button map-floating-control map-bottom-control visible",onClick:this.openButtonClickHandler,onKeyUp:this.openButtonKeyUpHandler,tabIndex:0},o.default.createElement("strong",null,l(this.props.children.props.openButtonLabel))),o.default.createElement("div",{ref:"contentWrapper",className:"popup-content-wrapper"},o.default.createElement("div",{className:"page-content"},o.default.createElement("a",{tabIndex:0,className:"close-button"+("dark"==this.props.closeButtonStyle?"":(this.props.closeButtonStyle," white")),onClick:this.closeButtonClick,onKeyUp:this.closeButtonKeyUp}),this.props.children)))}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{react:73}],8:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=(i(t("./../../../scripts/config.js")),i(t("./../../utils/clipboard")));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).linkClickHandler=e.linkClickHandler.bind(f(e)),e}return t=r,(e=[{key:"componentDidMount",value:function(){this.props.manualInit||setTimeout(function(){this.initialize()}.bind(this),500)}},{key:"linkClickHandler",value:function(t){t.preventDefault(),a.default.copy(this.props.path)&&window.eventBus&&window.eventBus.dispatch("popup-notification.notify",null,l("Länk har kopierats."))}},{key:"initialize",value:function(){if(!this.initialized){var e=function(){try{FB&&(FB.XFBML.parse(),this.fbInitialized=!0,this.fbInitialized&&this.twitterInitialized&&(this.initialized=!0))}catch(t){setTimeout(e,2e3)}}.bind(this);e();var n=function(){try{twttr&&(twttr.widgets.load(),this.twitterInitialized=!0,this.fbInitialized&&this.twitterInitialized&&(this.initialized=!0))}catch(t){setTimeout(n,2e3)}}.bind(this);n()}}},{key:"render",value:function(){return o.default.createElement("div",{className:"share-buttons"},this.props.title&&""!=this.props.title&&o.default.createElement("div",null,o.default.createElement("label",null,this.props.title),o.default.createElement("div",{className:"u-cf"})),o.default.createElement("div",{className:"fb-share-button","data-href":this.props.path,"data-layout":"button_count"}),o.default.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/intent/tweet?text="+(null==this.props.text?"":this.props.text)+"&url="+this.props.path},o.default.createElement("span",{style:{display:"none"}},"Tweet")),!this.props.hideLink&&o.default.createElement("span",null,o.default.createElement("br",null),o.default.createElement("a",{className:"text-smaller",href:this.props.path,onClick:this.linkClickHandler},this.props.path)))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,"./../../utils/clipboard":29,react:73}],9:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=(i(t("react-dom")),i(t("underscore")));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=h(o);if(a){var r=h(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"].Component);var t,e,n,i=c(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).state={htmlContent:""},e}return t=r,(e=[{key:"componentDidMount",value:function(){this.props.url?this.fetchContent(this.props.url):this.props.htmlContent&&this.setState({htmlContent:this.props.htmlContent})}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.url&&this.fetchContent(t.url)}},{key:"fetchContent",value:function(t){t=t.replace("http://","https://");var e=new Headers;e.append("Content-Type","text/html"),fetch(t,{method:"get",headers:e}).then(function(t){t.text().then(function(t){this.parseHtml(t)}.bind(this))}.bind(this)).catch(function(t){console.log("fetch error"),console.log(t)})}},{key:"parseHtml",value:function(t){var e=(new DOMParser).parseFromString(t,"text/html"),n=(e.getElementById("Rubrik"),e.getElementsByClassName("pagecontent")[0]);if(n){var i=n.innerHTML;i=(i=(i=(i=i.replace('src="/images/','src="'+config.isofHomepageUrl+"images/")).replace('srcset="/images/','srcset="'+config.isofHomepageUrl+"images/")).replace(", /images/",", "+config.isofHomepageUrl+"images/")).replace(", /images/",", "+config.isofHomepageUrl+"images/");var r=n.getElementsByTagName("script");this.setState({htmlContent:i},function(){this.props.disableScriptExecution||this.executeScripts(r)}.bind(this))}}},{key:"executeScripts",value:function(t){a.default.each(t,function(t){Function(t.innerHTML)()})}},{key:"render",value:function(){return o.default.createElement("div",{className:"sitevision-content"},o.default.createElement("div",{className:"sv-fluid-grid main-grid",dangerouslySetInnerHTML:{__html:this.state.htmlContent}}))}}])&&l(t.prototype,e),n&&l(t,n),r}();n.default=r},{react:73,"react-dom":57,underscore:94}],10:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).contributeinfoButtonClick=e.contributeinfoButtonClick.bind(f(e)),e}return t=r,(e=[{key:"contributeinfoButtonClick",value:function(){window.eventBus&&window.eventBus.dispatch("overlay.contributeinfo",{url:a.default.siteUrl+"#"+this.props.location.pathname,title:this.props.title,type:this.props.type,country:this.props.country,appUrl:a.default.appUrl,id:this.props.id})}},{key:"render",value:function(){return o.default.createElement("button",{className:"feedback-button contributeinfo-button",onClick:this.contributeinfoButtonClick},l("Vet du mer?"))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],11:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).closeButtonClickHandler=e.closeButtonClickHandler.bind(f(e)),e.messageInputChangeHandler=e.messageInputChangeHandler.bind(f(e)),e.nameInputChangeHandler=e.nameInputChangeHandler.bind(f(e)),e.emailInputChangeHandler=e.emailInputChangeHandler.bind(f(e)),e.sendButtonClickHandler=e.sendButtonClickHandler.bind(f(e)),e.state={visible:!1,messageInputValue:"",nameInputValue:"",emailInputValue:"",messageSent:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.contributeinfo",function(t){this.setState({visible:!0,type:t.target.type,title:t.target.title,country:t.target.country,url:t.target.url,appUrl:t.target.appUrl,id:t.target.id})}.bind(f(e))),window.eventBus.addEventListener("overlay.hide",function(t){this.setState({visible:!1})}.bind(f(e)))),e}return t=r,(e=[{key:"closeButtonClickHandler",value:function(){this.setState({visible:!1,messageSent:!1,messageInputValue:"",nameInputValue:"",emailInputValue:""})}},{key:"messageInputChangeHandler",value:function(t){this.setState({messageInputValue:t.target.value})}},{key:"nameInputChangeHandler",value:function(t){this.setState({nameInputValue:t.target.value})}},{key:"emailInputChangeHandler",value:function(t){this.setState({emailInputValue:t.target.value})}},{key:"sendButtonClickHandler",value:function(){var t=this.state.appUrl;"/"==t.charAt(t.length-1)&&(t=t.substr(0,t.length-1));var e={from_email:this.state.emailInputValue,from_name:this.state.nameInputValue,subject:t.split(/[/]+/).pop()+": ContributeInfo",recordid:this.state.id,message:this.state.type+": "+this.state.title+"\n"+this.state.url+"\n\nFrån: "+this.state.nameInputValue+" ("+this.state.emailInputValue+")\n\n"+this.state.messageInputValue},n=new FormData;n.append("json",JSON.stringify(e)),fetch(a.default.restApiUrl+"feedback/",{method:"POST",body:n}).then(function(t){return t.json()}).then(function(t){t.success&&this.setState({messageSent:!0})}.bind(this))}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.setState({messageSent:!1,emailInputValue:"",nameInputValue:"",messageInputValue:""})}},{key:"render",value:function(){if(this.state.messageSent)var t=o.default.createElement("div",null,o.default.createElement("p",null,l("Tack för ditt bidrag. Meddelande skickat.")),o.default.createElement("p",null,o.default.createElement("br",null),o.default.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")));else t=o.default.createElement("div",null,o.default.createElement("p",null,a.default.siteOptions.contributeInfoText||"Känner du till någon av personerna som nämns: en upptecknare, någon som intervjuats eller som nämns i en berättelse? Vid 1900-talets början var arkiven framför allt intresserade av berättelserna, inte berättarna. Därför vet vi idag ganska lite om människorna i arkiven. Kontakta oss gärna nedan om du har information om eller fotografier på någon av personerna som nämns på uppteckningen! \t\t\t\t\tVill du vara med och bevara minnen och berättelser från vår tid till framtiden? På Institutets webbplats publiceras regelbundet frågelistor om olika ämnen. ",o.default.createElement("a",{href:"https://www.isof.se/folkminnen/beratta-for-oss.html"},o.default.createElement("strong",null,l("Läs mer.")))),o.default.createElement("p",null,"Du är nu på sidan '",o.default.createElement("a",{href:this.state.url},this.state.title),"' men kan också använda formuläret för mer generella förslag och synpunkter.",o.default.createElement("br",null),o.default.createElement("br",null)),o.default.createElement("hr",null),o.default.createElement("label",{htmlFor:"contribute_name"},"Ditt namn:"),o.default.createElement("input",{id:"contribute_name",autoComplete:"name",className:"u-full-width",type:"text",value:this.state.nameInputValue,onChange:this.nameInputChangeHandler}),o.default.createElement("label",{htmlFor:"contribute_email"},"Din e-post adress:"),o.default.createElement("input",{id:"contribute_email",autoComplete:"email",className:"u-full-width",type:"email",value:this.state.emailInputValue,onChange:this.emailInputChangeHandler}),o.default.createElement("label",{htmlFor:"contribute_message"},"Meddelande:"),o.default.createElement("textarea",{id:"contribute_message",className:"u-full-width",value:this.state.messageInputValue,onChange:this.messageInputChangeHandler}),o.default.createElement("button",{className:"button-primary",onClick:this.sendButtonClickHandler},"Skicka"));return o.default.createElement("div",{className:"overlay-container feedback-overlay-container"+(this.state.visible?" visible":"")},o.default.createElement("div",{className:"overlay-window"},o.default.createElement("div",{className:"overlay-header"},l("Vet du mer?"),o.default.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler})),t))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],12:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).feedbackButtonClick=e.feedbackButtonClick.bind(f(e)),e}return t=r,(e=[{key:"feedbackButtonClick",value:function(){window.eventBus&&window.eventBus.dispatch("overlay.feedback",{url:a.default.siteUrl+"#"+this.props.location.pathname,title:this.props.title,type:this.props.type,country:this.props.country,appUrl:a.default.appUrl})}},{key:"render",value:function(){return o.default.createElement("button",{className:"feedback-button",onClick:this.feedbackButtonClick},l("Frågor och synpunkter"))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],13:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).closeButtonClickHandler=e.closeButtonClickHandler.bind(f(e)),e.messageInputChangeHandler=e.messageInputChangeHandler.bind(f(e)),e.nameInputChangeHandler=e.nameInputChangeHandler.bind(f(e)),e.emailInputChangeHandler=e.emailInputChangeHandler.bind(f(e)),e.sendButtonClickHandler=e.sendButtonClickHandler.bind(f(e)),e.state={visible:!1,messageInputValue:"",nameInputValue:"",emailInputValue:"",messageSent:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.feedback",function(t){this.setState({visible:!0,type:t.target.type,title:t.target.title,country:t.target.country,url:t.target.url,appUrl:t.target.appUrl})}.bind(f(e))),window.eventBus.addEventListener("overlay.hide",function(t){this.setState({visible:!1})}.bind(f(e)))),e}return t=r,(e=[{key:"closeButtonClickHandler",value:function(){this.setState({visible:!1,messageSent:!1,messageInputValue:"",nameInputValue:"",emailInputValue:""})}},{key:"messageInputChangeHandler",value:function(t){this.setState({messageInputValue:t.target.value})}},{key:"nameInputChangeHandler",value:function(t){this.setState({nameInputValue:t.target.value})}},{key:"emailInputChangeHandler",value:function(t){this.setState({emailInputValue:t.target.value})}},{key:"sendButtonClickHandler",value:function(){var t=this.state.appUrl;"/"==t.charAt(t.length-1)&&(t=t.substr(0,t.length-1));var e={from_email:this.state.emailInputValue,from_name:this.state.nameInputValue,subject:t.split(/[/]+/).pop()+": Feedback",message:this.state.type+": "+this.state.title+"\n"+this.state.url+"\n\nFrån: "+this.state.nameInputValue+" ("+this.state.emailInputValue+")\n\n"+this.state.messageInputValue},n=new FormData;n.append("json",JSON.stringify(e)),fetch(a.default.restApiUrl+"feedback/",{method:"POST",body:n}).then(function(t){return t.json()}).then(function(t){t.success&&this.setState({messageSent:!0})}.bind(this))}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.setState({messageSent:!1,emailInputValue:"",nameInputValue:"",messageInputValue:""})}},{key:"render",value:function(){if(this.state.messageSent)var t=o.default.createElement("div",null,o.default.createElement("p",null,l("Vi återkommer så fort vi kan. Tack.")),o.default.createElement("p",null,o.default.createElement("br",null),o.default.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")));else t=o.default.createElement("div",null,o.default.createElement("p",null,a.default.siteOptions.feedbackText||"Har du frågor eller synpunkter på hur applikationen fungerar? Har du hittat fel, till exempel i avskrifterna? Kontakta oss gärna!"),o.default.createElement("p",null,"Du är nu på sidan '",o.default.createElement("a",{href:this.state.url},this.state.title),"' men kan också använda formuläret för mer generella förslag och synpunkter.",o.default.createElement("br",null),o.default.createElement("br",null)),o.default.createElement("hr",null),o.default.createElement("label",{htmlFor:"feedback_name"},"Ditt namn:"),o.default.createElement("input",{id:"feedback_name",autoComplete:"name",className:"u-full-width",type:"text",value:this.state.nameInputValue,onChange:this.nameInputChangeHandler}),o.default.createElement("label",{htmlFor:"feedback_email"},"Din e-post adress:"),o.default.createElement("input",{id:"feedback_email",className:"u-full-width",type:"email",value:this.state.emailInputValue,onChange:this.emailInputChangeHandler}),o.default.createElement("label",{htmlFor:"feedback_message"},"Meddelande:"),o.default.createElement("textarea",{id:"feedback_message",className:"u-full-width",value:this.state.messageInputValue,onChange:this.messageInputChangeHandler}),o.default.createElement("button",{className:"button-primary",onClick:this.sendButtonClickHandler},"Skicka"));return o.default.createElement("div",{className:"overlay-container feedback-overlay-container"+(this.state.visible?" visible":"")},o.default.createElement("div",{className:"overlay-window"},o.default.createElement("div",{className:"overlay-header"},l("Frågor och synpunkter"),o.default.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler})),t))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],14:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).closeButtonClickHandler=e.closeButtonClickHandler.bind(f(e)),e.state={visible:!1,messageInputValue:"",nameInputValue:"",emailInputValue:"",messageSent:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.help",function(t){this.setState({visible:!0,type:t.target.type,title:t.target.title,url:t.target.url,appUrl:t.target.appUrl})}.bind(f(e))),window.eventBus.addEventListener("overlay.hide",function(t){this.setState({visible:!1})}.bind(f(e)))),e}return t=r,(e=[{key:"closeButtonClickHandler",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){if(this.state.messageSent)var t=o.default.createElement("div",null,o.default.createElement("p",null,"Meddelande skickat. Tack."),o.default.createElement("p",null,o.default.createElement("br",null),o.default.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")));else t=o.default.createElement("div",null,o.default.createElement("p",null,a.default.siteOptions.helpText||"Här kan du läsa mer om hur du använder applikationen: Här kan du läsa mer om hur du bidrar genom att t.ex. skriva av uppteckningar: "),o.default.createElement("p",null,o.default.createElement("a",{href:"https://www.isof.se/om-oss/kartor/sagenkartan/transkribera.html"},o.default.createElement("strong",null,l("Läs mer om att skriva av."))),o.default.createElement("br",null),o.default.createElement("br",null)));return o.default.createElement("div",{className:"overlay-container feedback-overlay-container"+(this.state.visible?" visible":"")},o.default.createElement("div",{className:"overlay-window"},o.default.createElement("div",{className:"overlay-header"},l("Hjälp"),o.default.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler})),t))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],15:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=(i(t("underscore")),i(t("leaflet")));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=f(o);if(a){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?h(e):n}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"].Component);var t,e,n,i=c(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).imageLoadedHandler=e.imageLoadedHandler.bind(h(e)),e.state={initialized:!1},e}return t=r,(e=[{key:"componentDidMount",value:function(){this.map=a.default.map(this.refs.mapView,{minZoom:0,maxZoom:this.props.maxZoom||3,zoom:0,crs:a.default.CRS.Simple}),this.props.image&&this.loadImage(this.props.image)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.image&&t.image!=this.props.image&&this.loadImage(t.image)}},{key:"loadImage",value:function(t){this.imageOverlay&&this.map.removeLayer(this.imageOverlay),this.imageEl=new Image,this.imageEl.onload=this.imageLoadedHandler,this.imageEl.src=t}},{key:"imageLoadedHandler",value:function(){var t=this.refs.container.clientWidth,e=(this.refs.container.clientWidth,this.imageEl.width),n=this.imageEl.height,i=t/e,r=[[0,0],[n*i,e*i]];this.imageOverlay&&this.map.removeLayer(this.imageOverlay),this.imageOverlay=a.default.imageOverlay(this.imageEl.src,r),this.imageOverlay.addTo(this.map),this.map.setMaxBounds(r),this.map.setView([n,0],0)}},{key:"render",value:function(){return o.default.createElement("div",{ref:"container",className:"image-map-container"},o.default.createElement("div",{className:"map-container",ref:"mapView"}))}}])&&l(t.prototype,e),n&&l(t,n),r}();n.default=r},{leaflet:41,react:73,underscore:94}],16:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js")),l=i(t("./../controls/PdfViewer"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).closeButtonClickHandler=e.closeButtonClickHandler.bind(f(e)),e.state={imageUrl:null,visible:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.viewimage",function(t){this.setState({imageUrl:t.target.imageUrl,type:t.target.type,visible:!0})}.bind(f(e))),window.eventBus.addEventListener("overlay.hide",function(t){this.setState({visible:!1})}.bind(f(e)))),e}return t=r,(e=[{key:"closeButtonClickHandler",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){return o.default.createElement("div",{className:"overlay-container"+(this.state.visible?" visible":"")},this.state.imageUrl&&"image"==this.state.type&&o.default.createElement("img",{className:"overlay-image",src:a.default.imageUrl+this.state.imageUrl}),this.state.imageUrl&&"pdf"==this.state.type&&o.default.createElement(l.default,{url:(a.default.pdfUrl||a.default.imageUrl)+this.state.imageUrl,height:"100%"}),o.default.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler}))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,"./../controls/PdfViewer":5,react:73}],17:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react"));i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=h(o);if(a){var r=h(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?c(e):n}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,o["default"].Component);var t,e,n,i=u(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).state={isPlaying:!1},e.playButtonClickHandler=e.playButtonClickHandler.bind(c(e)),e.audioPlayerPlayHandler=e.audioPlayerPlayHandler.bind(c(e)),e.audioPlayerStopHandler=e.audioPlayerStopHandler.bind(c(e)),e}return t=r,(e=[{key:"audioPlayerPlayHandler",value:function(){this.setState({isPlaying:window.isofAudioPlayer&&window.isofAudioPlayer.currentAudio&&window.isofAudioPlayer.currentAudio.record==this.props.recordId&&window.isofAudioPlayer.currentAudio.media==this.props.media.source&&window.isofAudioPlayer.currentAudio.playing})}},{key:"audioPlayerStopHandler",value:function(){this.setState({isPlaying:window.isofAudioPlayer&&window.isofAudioPlayer.currentAudio&&window.isofAudioPlayer.currentAudio.record==this.props.recordId&&window.isofAudioPlayer.currentAudio.media==this.props.media.source&&window.isofAudioPlayer.currentAudio.playing})}},{key:"componentDidMount",value:function(){window.eventBus&&(window.eventBus.addEventListener("audio.play",this.audioPlayerPlayHandler),window.eventBus.addEventListener("audio.stop",this.audioPlayerStopHandler)),window.isofAudioPlayer&&window.isofAudioPlayer.currentAudio&&window.isofAudioPlayer.currentAudio.record==this.props.recordId&&this.props.media&&window.isofAudioPlayer.currentAudio.media==this.props.media.source&&window.isofAudioPlayer.currentAudio.playing&&this.setState({isPlaying:!0})}},{key:"componentWillUnmount",value:function(){window.eventBus&&(window.eventBus.removeEventListener("audio.play",this.audioPlayerPlayHandler),window.eventBus.removeEventListener("audio.stop",this.audioPlayerStopHandler))}},{key:"playButtonClickHandler",value:function(t){this.props.disablePlayback||(t.stopPropagation(),t.preventDefault(),window.eventBus&&(window.isofAudioPlayer&&window.isofAudioPlayer.currentAudio&&window.isofAudioPlayer.currentAudio.record==this.props.recordId&&window.isofAudioPlayer.currentAudio.media==this.props.media.source&&window.isofAudioPlayer.currentAudio.playing?window.eventBus.dispatch("audio.pauseaudio"):window.eventBus.dispatch("audio.playaudio",{record:{id:this.props.recordId,title:this.props.recordTitle},audio:this.props.media})))}},{key:"render",value:function(){return o.default.createElement("button",{alt:"Spela",className:"play-button"+(this.state.isPlaying?" playing":""),onClick:this.playButtonClickHandler})}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],18:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js")),u=i(t("./../controls/DropdownMenu")),c=i(t("./../controls/ShareButtons")),h=i(t("./../controls/ElementNotificationMessage")),f=i(t("./../../utils/localLibrary.js")),d=i(t("./../../utils/clipboard"));function i(t){return t&&t.__esModule?t:{default:t}}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=_(o);if(a){var r=_(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?v(e):n}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(r,o["default"].Component);var t,e,n,i=y(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).libraryButtonClickHandler=e.libraryButtonClickHandler.bind(v(e)),e.itemClickHandler=e.itemClickHandler.bind(v(e)),e.itemRemoveButtonClickHander=e.itemRemoveButtonClickHander.bind(v(e)),e.copyLinkClickHandler=e.copyLinkClickHandler.bind(v(e)),e.dropdownOpenHandler=e.dropdownOpenHandler.bind(v(e)),e.savedRecords=[],e.state={dropdownOpen:!1},e}return t=r,(e=[{key:"itemClickHandler",value:function(t){this.props.history.push("/records/"+t.currentTarget.dataset.id)}},{key:"libraryButtonClickHandler",value:function(){}},{key:"dropdownOpenHandler",value:function(){this.setState({dropdownOpen:!0},function(){this.refs.shareButtons.initialize()}.bind(this))}},{key:"itemRemoveButtonClickHander",value:function(t){t.stopPropagation(),f.default.remove(t.currentTarget.dataset.id),this.forceUpdate()}},{key:"copyLinkClickHandler",value:function(t){d.default.copy(t.currentTarget.dataset.url)&&window.eventBus&&window.eventBus.dispatch("popup-notification.notify",null,l("Länk till dina sägner har kopierats."))}},{key:"render",value:function(){0==this.savedRecords.length&&0<f.default.list().length&&this.refs.elementNotification&&this.refs.elementNotification.show(),this.savedRecords=f.default.list();var t=this.savedRecords&&0<this.savedRecords.length?this.savedRecords.map(function(t,e){return o.default.createElement("a",{key:e,"data-id":t.id,onClick:this.itemClickHandler,className:"item"},t.title,o.default.createElement("div",{title:"stäng",className:"close-button","data-id":t.id,onClick:this.itemRemoveButtonClickHander}),t.place&&o.default.createElement("span",{className:"u-pull-right"},t.place))}.bind(this)):o.default.createElement("h3",{className:"text-center"},l("Inga sparade sägner")),e="places/record_ids/"+this.savedRecords.map(function(t){return t.id}).join(","),n=o.default.createElement("div",{className:"drowdown-footer"},this.state.dropdownOpen&&o.default.createElement(c.default,{ref:"shareButtons",hideLink:!0,manualInit:!0,path:a.default.siteUrl+"#/"+e,text:l("Några intressanta sägner på sägenkartan: ")}),o.default.createElement("a",{className:"u-pull-right u-cursor-pointer",onClick:this.copyLinkClickHandler,"data-url":a.default.siteUrl+"#/"+e},l("Kopiera länk")));return o.default.createElement("div",{className:"local-library-wrapper map-bottom-control"},o.default.createElement(h.default,{ref:"elementNotification",placement:"above",placementOffsetX:"27",placementOffsetY:"-62",messageId:"myLegendsNotification",forgetAfterClick:!0,manuallyOpen:!0,closeTrigger:"click",message:l("Klicka här för att visa lista över dina sparade sägner.")},o.default.createElement(u.default,{className:"map-floating-control map-floating-button visible library-open-button has-footer"+(this.savedRecords&&0<this.savedRecords.length?" has-items":""),dropdownDirection:"up",height:"500px",footerContent:n,headerText:this.props.headerText,onOpen:this.dropdownOpenHandler},t)))}}])&&p(t.prototype,e),n&&p(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,"./../../utils/clipboard":29,"./../../utils/localLibrary.js":30,"./../controls/DropdownMenu":3,"./../controls/ElementNotificationMessage":4,"./../controls/ShareButtons":8,react:73}],19:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("leaflet"));t("leaflet.markercluster"),t("leaflet.locatecontrol"),t("./../../lib/leaflet.active-layers");var l=i(t("./../../utils/mapHelper"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).nordicLegendsUpdateHandler=e.nordicLegendsUpdateHandler.bind(f(e)),e.state={},e}return t=r,(e=[{key:"componentDidMount",value:function(){var t,e=l.default.createLayers();this.props.ignoreOverlayLayers||(t=l.default.createOverlayLayers()),this.props.disableSwedenMap&&delete e[l.default.tileLayers[0].label];var n=[e[Object.keys(e)[0]]];if(t&&!e[Object.keys(t)[0]]){var i=t[Object.keys(t)[0]];0==i.wmsParams.hidden&&n.push(i)}var r={center:this.props.center||[63.5,16.7211],zoom:parseInt(this.props.zoom)||5,minZoom:parseInt(this.props.minZoom)||5,maxZoom:parseInt(this.props.maxZoom)||17,layers:n,scrollWheelZoom:this.props.scrollWheelZoom||!1,zoomControl:!1};this.props.disableSwedenMap||-1<Object.keys(e)[0].indexOf("(SWEREF99)")&&(r.crs=l.default.getSweref99crs(),r.zoom=1,r.minZoom=1),this.map=a.default.map(this.refs.mapView,r),a.default.control.zoom({position:this.props.zoomControlPosition||"topright"}).addTo(this.map),this.props.disableLocateControl||a.default.control.locate({showPopup:!1,icon:"map-location-icon",position:this.props.zoomControlPosition||"topright",locateOptions:{maxZoom:9},markerStyle:{weight:2,fillColor:"#ffffff",fillOpacity:1},circleStyle:{weight:1,color:"#a6192e"}}).addTo(this.map),this.layersControl=a.default.control.activeLayers(e,t,{position:this.props.layersControlPosition||"topright",collapsed:!this.props.layersControlStayOpen}).addTo(this.map),this.map.on("baselayerchange",this.mapBaseLayerChangeHandler.bind(this)),window.eventBus&&window.eventBus.addEventListener("nordicLegendsUpdate",this.nordicLegendsUpdateHandler)}},{key:"nordicLegendsUpdateHandler",value:function(t,e){!this.props.disableSwedenMap&&e.includeNordic&&-1<this.layersControl.getActiveBaseLayer().name.indexOf("Lantmäteriet")&&(mapView.mapBase.layersControl._layers[2].layer.addTo(mapView.mapBase.map),mapView.mapBase.layersControl._onInputClick())}},{key:"mapBaseLayerChangeHandler",value:function(t){if(-1<t.name.indexOf("(SWEREF99)")&&"EPSG:3006"!=this.map.options.crs.code){var e=this.map.getCenter(),n=this.map.getZoom();this.map.options.crs=l.default.getSweref99crs(),this.map.options.minZoom=1,this.map.options.maxZoom=13,this.map.setView(e,n-4,{animate:!1})}if(-1==t.name.indexOf("(SWEREF99)")&&"EPSG:3006"==this.map.options.crs.code){e=this.map.getCenter(),n=this.map.getZoom();this.map.options.crs=a.default.CRS.EPSG3857,this.map.options.minZoom=4,this.map.options.maxZoom=16,this.map.setView(e,n+4,{animate:!1})}this.props.onBaseLayerChange&&this.props.onBaseLayerChange(t)}},{key:"invalidateSize",value:function(){this.map&&this.map.invalidateSize()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.marker&&this.addMarker(t.marker)}},{key:"render",value:function(){return o.default.createElement("div",{className:this.props.className||"map-container small",ref:"mapView",style:this.props.mapHeight?{height:-1==this.props.mapHeight.indexOf("px")?this.props.mapHeight+"px":this.props.mapHeight}:null})}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../lib/leaflet.active-layers":28,"./../../utils/mapHelper":31,leaflet:41,"leaflet.locatecontrol":39,"leaflet.markercluster":40,react:73}],20:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js")),u=i(t("./../../../scripts/utils/routeHelper"));function i(t){return t&&t.__esModule?t:{default:t}}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(r,o["default"].Component);var t,e,n,i=f(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).state={persons:[]},e.url=a.default.apiUrl+(e.props.personType||"persons")+"/",e}return t=r,(e=[{key:"componentDidMount",value:function(){this.props.place&&this.handleProps(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.place&&t.place!=this.props.place&&this.handleProps(t)}},{key:"handleProps",value:function(t){var e={socken_id:t.place};t.includeNordic||(e.country=a.default.country),this.fetchData(e)}},{key:"fetchData",value:function(t){var e=[],n=Object.assign({},a.default.requiredParams,t);for(var i in n)n[i]&&"page"!=i&&e.push(i+"="+n[i]);var r=e.join("&");this.setState({persons:[]},function(){fetch(this.url+"?"+r).then(function(t){return t.json()}).then(function(t){this.setState({persons:t.data})}.bind(this)).catch(function(t){console.log("parsing failed",t)})}.bind(this))}},{key:"render",value:function(){var t=this.props,n=u.default.createSearchRoute(t),e=this.state.persons?this.state.persons.map(function(t,e){return o.default.createElement("tr",{key:e},o.default.createElement("td",null,1==!a.default.siteOptions.disablePersonLinks?1==a.default.siteOptions.disableInformantLinks&&"i"==t.relation?t.name:o.default.createElement("a",{href:"#person/"+t.id+(n||"")},t.name?t.name:""):t.name),o.default.createElement("td",null,0<t.birth_year?t.birth_year:""))}.bind(this)):[];return this.state.persons&&0<this.state.persons.length?o.default.createElement("div",{className:"table-wrapper list-container"+(0==this.state.persons.length?" loading":"")},this.props.title&&o.default.createElement("h3",null,this.props.title),o.default.createElement("table",{width:"100%",className:"table-responsive"},o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",null,l("Namn")),o.default.createElement("th",null,l("Födelseår")))),o.default.createElement("tbody",null,e))):this.props.showNoResults?o.default.createElement("div",{className:"table-wrapper list-container"},o.default.createElement("h3",null,l("Inga sökträffar"))):null}}])&&c(t.prototype,e),n&&c(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,"./../../../scripts/utils/routeHelper":114,react:73}],21:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("leaflet"));t("leaflet.markercluster");var l=i(t("underscore")),u=i(t("./MapBase")),c=(i(t("./../collections/MapCollection")),i(t("./../../utils/mapHelper")));function i(t){return t&&t.__esModule?t:{default:t}}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=p(o);if(a){var r=p(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(r,o["default"].Component);var t,e,n,i=d(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),i.call(this,t)}return t=r,(e=[{key:"componentDidMount",value:function(){this.props.marker&&this.addMarker(this.props.marker),this.props.markers&&this.addMarkers(this.props.markers)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.marker&&this.addMarker(t.marker),t.markers&&this.addMarkers(t.markers)}},{key:"removeMarkers",value:function(){this.markers&&l.default.each(this.markers,function(t){this.refs.mapView.map.removeLayer(t)}.bind(this))}},{key:"addMarkers",value:function(t){this.removeMarkers(),this.markers=[],l.default.each(t,function(t){this.addMarker(t,!0)}.bind(this))}},{key:"addMarker",value:function(t,e){if(e||this.removeMarkers(),t&&(t.lat&&t.lng||t.location&&t.location.lat&&t.location.lon)){var n=this.props.animate;this.marker&&!e&&(n=!0,this.refs.mapView.map.removeLayer(this.marker));var i=Number(t.lat)&&Number(t.lng)?[Number(t.lat),Number(t.lng)]:t.location&&Number(t.location.lat)&&Number(t.location.lon)?[Number(t.location.lat),Number(t.location.lon)]:null;if(i){var r=a.default.marker(i,{title:t.label||t.name||null,icon:c.default.markerIcon});e?this.markers.push(r):this.marker=r,this.refs.mapView.map.addLayer(r),this.refs.mapView.map.panTo(i,{animate:n})}}}},{key:"render",value:function(){return o.default.createElement(u.default,{ref:"mapView"})}}])&&h(t.prototype,e),n&&h(t,n),r}();n.default=r},{"./../../utils/mapHelper":31,"./../collections/MapCollection":1,"./MapBase":19,leaflet:41,"leaflet.markercluster":40,react:73,underscore:94}],22:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=f(o);if(a){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?h(e):n}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"].Component);var t,e,n,i=c(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).transcribeButtonClick=e.transcribeButtonClick.bind(h(e)),e}return t=r,(e=[{key:"transcribeButtonClick",value:function(){window.eventBus&&window.eventBus.dispatch("overlay.transcribe",{url:a.default.siteUrl+"#records/"+this.props.recordId,id:this.props.recordId,title:this.props.title,type:this.props.type,images:this.props.images})}},{key:"render",value:function(){return o.default.createElement("button",{className:(this.props.className," "+this.props.className),onClick:this.transcribeButtonClick},this.props.label)}}])&&l(t.prototype,e),n&&l(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],23:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).helpButtonClick=e.helpButtonClick.bind(f(e)),e}return t=r,(e=[{key:"helpButtonClick",value:function(){window.eventBus&&window.eventBus.dispatch("overlay.transcriptionhelp",{url:a.default.siteUrl+"#"+this.props.location.pathname,title:this.props.title,type:this.props.type,appUrl:a.default.appUrl})}},{key:"render",value:function(){return o.default.createElement("button",{className:"feedback-button transcriptionhelp-button",onClick:this.helpButtonClick},l("Instruktioner"))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],24:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react"));i(t("./../../../scripts/config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=f(o);if(a){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?h(e):n}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"].Component);var t,e,n,i=c(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).closeButtonClickHandler=e.closeButtonClickHandler.bind(h(e)),e.state={visible:!1,messageInputValue:"",nameInputValue:"",emailInputValue:"",messageSent:!1},window.eventBus&&(window.eventBus.addEventListener("overlay.transcriptionhelp",function(t){this.setState({visible:!0,type:t.target.type,title:t.target.title,url:t.target.url,appUrl:t.target.appUrl})}.bind(h(e))),window.eventBus.addEventListener("overlay.hide",function(t){this.setState({visible:!1})}.bind(h(e)))),e}return t=r,(e=[{key:"closeButtonClickHandler",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){if(this.state.messageSent)var t=o.default.createElement("div",null,o.default.createElement("p",null,"Meddelande skickat. Tack."),o.default.createElement("p",null,o.default.createElement("br",null),o.default.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")));else t=o.default.createElement("div",null,o.default.createElement("p",null,"Vill du hjälpa till att tillgängliggöra samlingarna? Här finns möjligheten att skriva av berättelser, t.ex. från en viss ort eller ett visst ämne. Detta gör inte bara berättelserna mer tillgängliga för fler personer utan möjliggör också fritextsökningar."),o.default.createElement("p",null,o.default.createElement("strong",null,"Vilken information i vilken ruta? ")),o.default.createElement("p",null,"Bakom varje fält finns symbolen X. Genom att trycka på den får du information om vilken information som ska skrivas in i fältet ifråga."),o.default.createElement("p",null,o.default.createElement("strong",null,"Oläsliga ord?")),o.default.createElement("p",null,"Om du inte kan läsa något ord på uppteckning, ange ”###” istället för ordet ifråga."),o.default.createElement("p",null,o.default.createElement("strong",null,"Flera sidor? ")),o.default.createElement("p",null,"Består uppteckningen av flera sidor får du gärna skriva in samtliga sidor i samma ruta."),o.default.createElement("p",null,o.default.createElement("strong",null,"Vilka är personerna som nämns i texten?")),o.default.createElement("p",null,'Känner du till någon av personerna som omnämns i uppteckningen? Kontakta oss knappen "Vet du mer" på uppteckningen. '),o.default.createElement("p",null,o.default.createElement("strong",null,"Vad händer efter att du tryckt på ”Skicka in?”")),o.default.createElement("p",null,"Efter kvalitetssäkring kommer texten sedan att publiceras på TradArk och införlivas i Isofs digitala arkiv. "),o.default.createElement("p",null,o.default.createElement("a",{href:"https://www.isof.se/arkiv-och-insamling/digitala-arkivtjanster/sagenkartan/sagenkartan/transkribera-sagenkartan"},o.default.createElement("strong",null,l("Läs mer om att skriva av."))),o.default.createElement("br",null),o.default.createElement("br",null)));return o.default.createElement("div",{className:"overlay-container feedback-overlay-container"+(this.state.visible?" visible":"")},o.default.createElement("div",{className:"overlay-window"},o.default.createElement("div",{className:"overlay-header"},l("Instruktioner"),o.default.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler})),t))}}])&&a(t.prototype,e),n&&a(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,react:73}],25:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../scripts/config.js")),u=i(t("./ImageMap")),c=i(t("./ContributeInfoButton")),h=i(t("./FeedbackButton")),f=i(t("./TranscriptionHelpButton"));function i(t){return t&&t.__esModule?t:{default:t}}function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=_(o);if(a){var r=_(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?v(e):n}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(r,o["default"].Component);var t,e,n,i=y(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).closeButtonClickHandler=e.closeButtonClickHandler.bind(v(e)),e.inputChangeHandler=e.inputChangeHandler.bind(v(e)),e.mediaImageClickHandler=e.mediaImageClickHandler.bind(v(e)),e.sendButtonClickHandler=e.sendButtonClickHandler.bind(v(e)),e.state={visible:!1,informantNameInput:"",informantBirthDateInput:"",informantBirthPlaceInput:"",informantInformationInput:"",messageInput:"",messageCommentInput:"",nameInput:"",emailInput:"",messageSent:!1,messageOnFailure:"",currentImage:null},window.eventBus&&(window.eventBus.addEventListener("overlay.transcribe",function(t){this.setState({visible:!0,type:t.target.type,title:t.target.title,id:t.target.id,url:t.target.url,images:t.target.images,imageIndex:0}),this.transcribeStart(t.target.id)}.bind(v(e))),window.eventBus.addEventListener("overlay.hide",function(t){this.setState({visible:!1})}.bind(v(e)))),e}return t=r,(e=[{key:"transcribeStart",value:function(t){var e={recordid:t},n=new FormData;n.append("json",JSON.stringify(e)),fetch(a.default.restApiUrl+"transcribestart/",{method:"POST",body:n}).then(function(t){return t.json()}).then(function(t){var e=!1;if(t.success&&"true"==t.success&&(e=!0,this.setState({messageSent:!1})),!e){var n="Failure!";t.message&&(n=t.message),this.setState({messageSent:!0,messageOnFailure:n})}}.bind(this))}},{key:"closeButtonClickHandler",value:function(){this.setState({visible:!1,informantName:"",informantBirthDate:"",informantBirthPlace:"",informantInformation:"",title:"",message:"",messageComment:"",messageOnFailure:""})}},{key:"mediaImageClickHandler",value:function(t){this.setState({imageIndex:t.currentTarget.dataset.index})}},{key:"inputChangeHandler",value:function(t){var e,n,i;this.setState((e={},n=t.target.name,i=t.target.value,n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e))}},{key:"sendButtonClickHandler",value:function(){if(-1!=this.state.messageInput.trim().indexOf(" ")){var t={url:this.state.url,recordid:this.state.id,recordtitle:this.state.title,from_email:this.state.emailInput,from_name:this.state.nameInput,subject:"Crowdsource: Transkribering",informantName:this.state.informantNameInput,informantBirthDate:this.state.informantBirthDateInput,informantBirthPlace:this.state.informantBirthPlaceInput,informantInformation:this.state.informantInformationInput,message:this.state.messageInput,messageComment:this.state.messageCommentInput},e=new FormData;e.append("json",JSON.stringify(t)),fetch(a.default.restApiUrl+"transcribe/",{method:"POST",body:e}).then(function(t){return t.json()}).then(function(t){t.success?this.setState({messageSent:!0,messageInput:""}):console.log("Server does not repond for: "+this.state.url)}.bind(this))}else alert(l('Avskriften kan inte sparas. Fältet "Text" ska innehålla en avskrift!'))}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.setState({messageSent:!1,informantNameInput:"",informantBirthDateInput:"",informantBirthPlaceInput:"",informantInformationInput:"",messageInput:"",messageCommentInput:"",messageOnFailure:""})}},{key:"render",value:function(){var t=this.props;if(this.state.messageSent){var e="Tack för din avskrift som nu skickats till Institutet för språk och folkminnen. Inom kort kommer den att publiceras på TradArk.";this.state.messageOnFailure&&(e=this.state.messageOnFailure);var n=o.default.createElement("div",null,o.default.createElement("p",null,l(e)),o.default.createElement("p",null,o.default.createElement("br",null),o.default.createElement("button",{className:"button-primary",onClick:this.closeButtonClickHandler},"Stäng")))}else{if(this.state.images&&0<this.state.images.length)var i=this.state.images.map(function(t,e){if(-1==t.source.indexOf(".pdf"))return o.default.createElement("img",{"data-index":e,key:e,className:"image-item","data-image":t.source,onClick:this.mediaImageClickHandler,src:a.default.imageUrl+t.source,alt:""})}.bind(this));n=o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"four columns"},o.default.createElement("div",{className:"row"},o.default.createElement("label",{htmlFor:"transcription_informantname",className:"six columns"},"Berättat av:"),o.default.createElement("label",{htmlFor:"transcription_informantbirthdate",className:"two columns"},"Född år:"),o.default.createElement("label",{htmlFor:"transcription_informantbirthplace",className:"four columns"},"Född i:")),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"mark-below-img"},o.default.createElement("input",{id:"transcription_informantname",name:"informantNameInput",className:"six columns",type:"text",value:this.state.informantNameInput,onChange:this.inputChangeHandler})),o.default.createElement("div",{className:"mark-below-img"},o.default.createElement("input",{id:"transcription_informantbirthdate",name:"informantBirthDateInput",className:"two columns",type:"text",value:this.state.informantBirthDateInput,onChange:this.inputChangeHandler})),o.default.createElement("div",{className:"mark-below-img"},o.default.createElement("input",{id:"transcription_informantbirthplace",name:"informantBirthPlaceInput",className:"four columns",type:"text",value:this.state.informantBirthPlaceInput,onChange:this.inputChangeHandler}))),o.default.createElement("div",{className:"mark-above-img"},o.default.createElement("label",{htmlFor:"transcription_title",className:"u-full-width margin-bottom-zero"},"Titel:"),o.default.createElement("input",{id:"transcription_title",name:"title",className:"u-full-width margin-bottom-minimal",type:"text",value:this.state.title,onChange:this.inputChangeHandler})),o.default.createElement("div",{className:"mark-above-img"},o.default.createElement("label",{htmlFor:"transcription_text",className:"u-full-width margin-bottom-zero"},"Text:"),o.default.createElement("textarea",{id:"transcription_text",name:"messageInput",className:"u-full-width margin-bottom-minimal",value:this.state.messageInput,onChange:this.inputChangeHandler,style:{height:380}})),o.default.createElement("label",{htmlFor:"transcription_comment",className:"u-full-width margin-bottom-zero"},l("Kommentar till avskriften:")),o.default.createElement("input",{id:"transcription_comment",name:"messageCommentInput",className:"u-full-width margin-bottom-minimal",type:"text",value:this.state.messageCommentInput,onChange:this.inputChangeHandler}),o.default.createElement("p",null,l("Vill du att vi på TradArk anger att det är du som har skrivit av uppteckningen? Ange i så fall ditt namn och din e-postadress nedan. Vi hanterar personuppgifter enligt dataskyddsförordningen. "),o.default.createElement("a",{href:"https://www.isof.se/om-oss/behandling-av-personuppgifter.html"},o.default.createElement("strong",null,l("Läs mer.")))),o.default.createElement("label",{htmlFor:"transcription_name"},"Ditt namn (frivilligt):"),o.default.createElement("input",{id:"transcription_name",autoComplete:"name",name:"nameInput",className:"u-full-width",type:"text",value:this.state.nameInput,onChange:this.inputChangeHandler}),o.default.createElement("label",{htmlFor:"transcription_email"},"Din e-post adress (frivilligt):"),o.default.createElement("input",{id:"transcription_email",autoComplete:"",name:"emailInput",className:"u-full-width",type:"email",value:this.state.emailInput,onChange:this.inputChangeHandler}),o.default.createElement("button",{className:"button-primary",onClick:this.sendButtonClickHandler},"Skicka")),o.default.createElement("div",{className:"eight columns"},o.default.createElement(u.default,{image:this.state.images?a.default.imageUrl+this.state.images[this.state.imageIndex].source:null}),o.default.createElement("div",{className:"image-list"},i)))}return o.default.createElement("div",{className:"overlay-container"+(this.state.visible?" visible":"")},o.default.createElement("div",{className:"overlay-window large"},o.default.createElement("div",{className:"overlay-header"},l("Skriv av")," ",this.state.title,o.default.createElement("button",{title:"stäng",className:"close-button white",onClick:this.closeButtonClickHandler}),!a.default.siteOptions.hideContactButton&&o.default.createElement(h.default,d({title:this.state.title,type:"Uppteckning"},t)),!a.default.siteOptions.hideContactButton&&o.default.createElement(c.default,d({title:this.state.title,type:"Uppteckning"},t)),!a.default.siteOptions.hideContactButton&&o.default.createElement(f.default,d({title:this.state.title,type:"Uppteckning"},t))),n))}}])&&p(t.prototype,e),n&&p(t,n),r}();n.default=r},{"./../../../scripts/config.js":112,"./ContributeInfoButton":10,"./FeedbackButton":12,"./ImageMap":15,"./TranscriptionHelpButton":23,react:73}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("./../../scripts/lang/langData"))&&i.__esModule?i:{default:i};var o={collect:!1,setCurrentLang:function(t){window.currentLang=t,window.eventBus&&window.eventBus.dispatch("Lang.setCurrentLang")},get:function(t){return window.traceLangGet&&console.log("Lang.get: "+t),window.currentLang||(window.currentLang="sv"),Lang.collect&&(Lang.notFound||(Lang.notFound=[]),r.default[window.currentLang][t]||-1==Lang.notFound.indexOf(t)&&(Lang.notFound.push(t),console.log('Did not find translation for "'+t+'"'))),r.default[window.currentLang]&&r.default[window.currentLang][t]?r.default[window.currentLang][t]:t}};n.default=o},{"./../../scripts/lang/langData":113}],27:[function(t,e,n){"use strict";function i(t){return this instanceof i?(this._canvas=t="string"==typeof t?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,void this.clear()):new i(t)}i.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=e||15;var n=this._circle=document.createElement("canvas"),i=n.getContext("2d"),r=this._r=t+e;return n.width=n.height=2*r,i.shadowOffsetX=i.shadowOffsetY=200,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(r-200,r-200,t,0,2*Math.PI,!0),i.closePath(),i.fill(),this},gradient:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),i=n.createLinearGradient(0,0,0,256);for(var r in e.width=1,e.height=256,t)i.addColorStop(r,t[r]);return n.fillStyle=i,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var n,i=0,r=this._data.length;i<r;i++)n=this._data[i],e.globalAlpha=Math.max(n[2]/this._max,t||.05),e.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var o=e.getImageData(0,0,this._width,this._height);return this._colorize(o.data,this._grad),e.putImageData(o,0,0),this},_colorize:function(t,e){for(var n,i=3,r=t.length;i<r;i+=4)(n=4*t[i])&&(t[i-3]=e[n],t[i-2]=e[1+n],t[i-1]=e[2+n])}},window.simpleheat=i,L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,e){this._latlngs=t,L.setOptions(this,e)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),e=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[e]="50% 50%";var n=this._map.getSize();t.width=n.x,t.height=n.y;var i=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(i?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var e=this._map.getSize();this._heat._width!==e.x&&(this._canvas.width=this._heat._width=e.x),this._heat._height!==e.y&&(this._canvas.height=this._heat._height=e.y),this._redraw()},_redraw:function(){var t,e,n,i,r,o,a,s,l,u=[],c=this._heat._r,h=this._map.getSize(),f=new L.Bounds(L.point([-c,-c]),h.add([c,c])),d=void 0===this.options.max?1:this.options.max,p=void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom,m=1/Math.pow(2,Math.max(0,Math.min(p-this._map.getZoom(),12))),y=c/2,v=[],_=this._map._getMapPanePos(),g=_.x%y,b=_.y%y;for(t=0,e=this._latlngs.length;t<e;t++){if(n=this._map.latLngToContainerPoint(this._latlngs[t]),f.contains(n))r=Math.floor((n.x-g)/y)+2,o=Math.floor((n.y-b)/y)+2,l=(void 0!==this._latlngs[t].alt?this._latlngs[t].alt:void 0!==this._latlngs[t][2]?+this._latlngs[t][2]:1)*m,v[o]=v[o]||[],(i=v[o][r])?(i[0]=(i[0]*i[2]+n.x*l)/(i[2]+l),i[1]=(i[1]*i[2]+n.y*l)/(i[2]+l),i[2]+=l):v[o][r]=[n.x,n.y,l]}for(t=0,e=v.length;t<e;t++)if(v[t])for(a=0,s=v[t].length;a<s;a++)(i=v[t][a])&&u.push([Math.round(i[0]),Math.round(i[1]),Math.min(i[2],d)]);this._heat.data(u).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,n,e):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+e+")"}}),L.heatLayer=function(t,e){return new L.HeatLayer(t,e)}},{}],28:[function(t,e,n){"use strict";L.Control.ActiveLayers=L.Control.Layers.extend({getActiveBaseLayer:function(){return this._activeBaseLayer},getActiveOverlayLayers:function(){return this._activeOverlayLayers},onAdd:function(t){var e=L.Control.Layers.prototype.onAdd.call(this,t);return Array.isArray(this._layers)?(this._activeBaseLayer=this._findActiveBaseLayer(),this._activeOverlayLayers=this._findActiveOverlayLayers()):(this._activeBaseLayer=this._findActiveBaseLayerLegacy(),this._activeOverlayLayers=this._findActiveOverlayLayersLegacy()),e},_findActiveBaseLayer:function(){for(var t=this._layers,e=0;e<t.length;e++){var n=t[e];if(!n.overlay&&this._map.hasLayer(n.layer))return n}throw new Error("Control doesn't have any active base layer!")},_findActiveOverlayLayers:function(){for(var t={},e=this._layers,n=0;n<e.length;n++){var i=e[n];i.overlay&&this._map.hasLayer(i.layer)&&(t[i.layer._leaflet_id]=i)}return t},_findActiveBaseLayerLegacy:function(){var t=this._layers;for(var e in t)if(this._layers.hasOwnProperty(e)){var n=t[e];if(!n.overlay&&this._map.hasLayer(n.layer))return n}throw new Error("Control doesn't have any active base layer!")},_findActiveOverlayLayersLegacy:function(){var t={},e=this._layers;for(var n in e)if(this._layers.hasOwnProperty(n)){var i=e[n];i.overlay&&this._map.hasLayer(i.layer)&&(t[n]=i)}return t},_onLayerChange:function(){L.Control.Layers.prototype._onLayerChange.apply(this,arguments),this._recountLayers()},_onInputClick:function(){this._handlingClick=!0,this._recountLayers(),L.Control.Layers.prototype._onInputClick.call(this),this._handlingClick=!1},_recountLayers:function(){var t,e,n,i=this._section.getElementsByTagName("input"),r=i.length;for(t=0;t<r;t++)e=i[t],n=Array.isArray(this._layers)?this._layers[t]:this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?n.overlay?this._activeOverlayLayers[e.layerId]=n:this._activeBaseLayer=n:!e.checked&&this._map.hasLayer(n.layer)&&n.overlay&&delete this._activeOverlayLayers[e.layerId]}}),L.control.activeLayers=function(t,e,n){return new L.Control.ActiveLayers(t,e,n)}},{}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={copy:function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("copy");return!0}catch(t){return console.log("Unable to copy, unable to cope."),!1}document.body.removeChild(e)}};n.default=i},{}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("underscore")),r=o(t("./../../scripts/config.js"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s={_getList:function(){try{return localStorage.getItem(r.default.localLibraryName)?JSON.parse(localStorage.getItem(r.default.localLibraryName)):[]}catch(t){return[]}},_saveList:function(t){try{localStorage.setItem(r.default.localLibraryName,JSON.stringify(t))}catch(t){}},add:function(t){var e=this._getList();e.push(t),this._saveList(e)},remove:function(e){var t=this._getList();t=i.default.reject(t,function(t){return"object"==a(e)?t.id==e.id:t.id==e}),this._saveList(t)},find:function(t){var e=this._getList();return i.default.findWhere(e,{id:t.id})},list:function(){return this._getList()}};n.default=s},{"./../../scripts/config.js":112,underscore:94}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;o(t("@turf/boolean-point-in-polygon"));var i=o(t("leaflet")),r=(o(t("proj4leaflet")),o(t("./../../scripts/config.js")));function o(t){return t&&t.__esModule?t:{default:t}}var a={markerIcon:i.default.icon({iconUrl:r.default.appUrl+"img/map-marker-blue-location.png",shadowUrl:r.default.appUrl+"img/marker-shadow.png",iconSize:[28,36],shadowSize:[41,41],iconAnchor:[14,35],shadowAnchor:[12,40],popupAnchor:[-1,-15]}),markerIconHighlighted:i.default.icon({iconUrl:r.default.appUrl+"img/map-marker-blue-highlighted.png",shadowUrl:r.default.appUrl+"img/marker-shadow.png",iconSize:[28,36],shadowSize:[41,41],iconAnchor:[14,35],shadowAnchor:[12,40],popupAnchor:[-1,-15]}),orangeIcon:i.default.icon({iconUrl:r.default.appUrl+"img/marker-orange.png",iconSize:[27,27],iconAnchor:[15,15],popupAnchor:[0,0]}),blueIcon:i.default.icon({iconUrl:r.default.appUrl+"img/marker-blue.png",iconSize:[27,27],iconAnchor:[15,15],popupAnchor:[0,0]}),redIcon:i.default.icon({iconUrl:r.default.appUrl+"img/marker-red.png",iconSize:[27,27],iconAnchor:[15,15],popupAnchor:[0,0]}),tileLayers:[{label:"Lantmäteriet topografisk karta",url:"https://frigg.isof.se/sagendatabas/api/lm_epsg3857_proxy/{z}/{y}/{x}.png",options:{attribution:'&copy; <a href="https://www.lantmateriet.se/en/">Lantmäteriet</a> Topografisk Webbkarta Visning',crossOrigin:!0}},{label:"Lantmäteriet topografisk karta nedtonad",url:"https://frigg.isof.se/sagendatabas/api/lm_nedtonad_epsg3857_proxy/{z}/{y}/{x}.png",options:{attribution:'&copy; <a href="https://www.lantmateriet.se/en/">Lantmäteriet</a> Topografisk Webbkarta Visning',crossOrigin:!0}},{label:"Open Street Map Mapnik",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}},{label:"ESRI World Imagery",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},{label:"ESRI Gray",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ"}}],overlayTileLayers:[{isWms:!0,label:"Lantmäteriet Ortofoto 1960",url:"https://frigg.isof.se/sagendatabas/api/lm_historto_proxy",layers:"OI.Histortho_60",TILED:!0,TILESORIGIN:"-2238400, 5287200",ISBASELAYER:!0,hidden:!0,maxZoom:17,minZoom:6,options:{attribution:'&copy; <a href="https://www.lantmateriet.se/sv/Kartor-och-geografisk-information/geodataprodukter/produktlista/historiska-ortofoton-visning/">Lantmäteriverket</a> Ortofoto 1960',crossOrigin:!0}},{isWms:!0,label:"Lantmäteriet Ortofoto",url:"https://frigg.isof.se/sagendatabas/api/lm_orto_proxy",layers:"Ortofoto_0.5,Ortofoto_0.4,Ortofoto_0.25,Ortofoto_0.16",TILED:!0,TILESORIGIN:"-2238400, 5287200",ISBASELAYER:!0,hidden:!0,maxZoom:17,minZoom:6,options:{attribution:'&copy; <a href="https://www.lantmateriet.se/sv/Kartor-och-geografisk-information/geodataprodukter/produktlista/ortofoto-visning/">Lantmäteriverket</a> Ortofoto',crossOrigin:!0}},{isWms:!0,label:"Sockengränser",url:"https://karta.raa.se/geo/arkreg_v1.0/wms",layers:"socken",TILED:!0,TILESORIGIN:"-2238400, 5287200",ISBASELAYER:!1,hidden:!1,maxZoom:17,minZoom:11,options:{attribution:'&copy; <a href="https://www.raa.se/en/">Riksankikvarieämbetet</a> Sockenkarta',crossOrigin:!0}}],createLayers:function(){for(var t={},e=0;e<this.tileLayers.length;e++){var n;n=this.tileLayers[e].isWms?i.default.tileLayer.wms(this.tileLayers[e].url,{layers:this.tileLayers[e].layerName,minZoom:this.tileLayers[e].minZoom||3,maxZoom:this.tileLayers[e].maxZoom,attribution:this.tileLayers[e].attribution}):i.default.tileLayer(this.tileLayers[e].url,this.tileLayers[e].options),t[this.tileLayers[e].label]=n}return t},createOverlayLayers:function(){var t={};if(this.overlayTileLayers)for(var e=0;e<this.overlayTileLayers.length;e++){var n;n=this.overlayTileLayers[e].isWms?i.default.tileLayer.wms(this.overlayTileLayers[e].url,{layers:this.overlayTileLayers[e].layers,minZoom:this.overlayTileLayers[e].minZoom||3,maxZoom:this.overlayTileLayers[e].maxZoom,format:"image/png",transparent:!0,hidden:this.overlayTileLayers[e].hidden,TILED:this.overlayTileLayers[e].TILED,ISBASELAYER:this.overlayTileLayers[e].ISBASELAYER,TILESORIGIN:this.overlayTileLayers[e].TILESORIGIN}):i.default.tileLayer(this.overlayTileLayers[e].url,this.overlayTileLayers[e].options),t[this.overlayTileLayers[e].label]=n}return t},getSweref99crs:function(){return new i.default.Proj.CRS("EPSG:3006","+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",{resolutions:[4096,2048,1024,512,256,128,64,32,16,8,4,2,1,.5],origin:[-12e5,85e5],bounds:i.default.bounds([-12e5,85e5],[4305696,2994304])})}};n.default=a},{"./../../scripts/config.js":112,"@turf/boolean-point-in-polygon":35,leaflet:41,proj4leaflet:48}],32:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("underscore"))&&i.__esModule?i:{default:i};var o={getCategoryName:function(e,t){if(e){var n=t?this.categories_advanced:this.categories;return r.default.find(n,function(t){return t.letter.toLowerCase()==e.toLowerCase()}.bind(this)).label}return null},categories:[{letter:"trad1",label:"Bebyggelse och bosättning"},{letter:"trad2",label:"Yrken, näringar och hushållning"},{letter:"trad3",label:"Kommunikation och handel"},{letter:"trad4",label:"Samhället"},{letter:"trad5",label:"Livets högtider"},{letter:"trad6",label:"Spöken och gastar"},{letter:"trad7",label:"Naturen"},{letter:"trad8",label:"Läkekonst"},{letter:"trad9",label:"Årets fester"},{letter:"trad10",label:"Klokskap och svartkonst"},{letter:"trad11",label:"Övernaturliga väsen"},{letter:"trad12",label:"Historisk tradition"},{letter:"trad13",label:"Sagor, gåtor och ordspråk"},{letter:"trad14",label:"Visor och musik"},{letter:"trad15",label:"Idrott, lek och spel"},{letter:"trad16",label:"Ej kategoriserat"}]};n.default=o},{underscore:94}],33:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("whatwg-fetch");var i;(i=t("underscore"))&&i.__esModule;function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}var t,e,i;return t=n,(e=[{key:"scrollToY",value:function(i,t,r){var o=window.scrollY,a=(i=i||0,t=t||2e3,r=r||"easeOutSine",0),s=Math.max(.1,Math.min(Math.abs(o-i)/t,.8)),l=(Math.PI,{easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)}});!function t(){var e=(a+=1/60)/s,n=l[r](e);e<1?(requestAnimFrame(t),window.scrollTo(0,o+(i-o)*n)):window.scrollTo(0,i)}()}}])&&r(t.prototype,e),i&&r(t,i),n}();n.default=o},{underscore:94,"whatwg-fetch":98}],34:[function(t,e,n){e.exports=function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}},{}],35:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var p=t("@turf/invariant");function m(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var a=e[r][0],s=e[r][1],l=e[o][0],u=e[o][1];if(t[1]*(a-l)+s*(l-t[0])+u*(t[0]-a)==0&&(a-t[0])*(l-t[0])<=0&&(s-t[1])*(u-t[1])<=0)return!n;s>t[1]!=u>t[1]&&t[0]<(l-a)*(t[1]-s)/(u-s)+a&&(i=!i)}return i}n.default=function(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i,r,o=p.getCoord(t),a=p.getGeom(e),s=a.type,l=e.bbox,u=a.coordinates;if(l&&!1==(i=o,(r=l)[0]<=i[0]&&r[1]<=i[1]&&r[2]>=i[0]&&r[3]>=i[1]))return!1;"Polygon"===s&&(u=[u]);for(var c=!1,h=0;h<u.length&&!c;h++)if(m(o,u[h][0],n.ignoreBoundary)){for(var f=!1,d=1;d<u[h].length&&!f;)m(o,u[h][d],!n.ignoreBoundary)&&(f=!0),d++;f||(c=!0)}return c}},{"@turf/invariant":37}],36:[function(t,e,o){"use strict";function s(t,e,n){void 0===n&&(n={});var i={type:"Feature"};return 0!==n.id&&!n.id||(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function i(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:t},e,n)}function r(t,e,n){void 0===n&&(n={});for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:t},e,n)}function a(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:t},e,n)}function l(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function u(t,e,n){return void 0===n&&(n={}),s({type:"MultiLineString",coordinates:t},e,n)}function c(t,e,n){return void 0===n&&(n={}),s({type:"MultiPoint",coordinates:t},e,n)}function h(t,e,n){return void 0===n&&(n={}),s({type:"MultiPolygon",coordinates:t},e,n)}function f(t,e){void 0===e&&(e="kilometers");var n=o.factors[e];if(!n)throw new Error(e+" units is invalid");return t*n}function d(t,e){void 0===e&&(e="kilometers");var n=o.factors[e];if(!n)throw new Error(e+" units is invalid");return t/n}function n(t){return 180*(t%(2*Math.PI))/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(o,"__esModule",{value:!0}),o.earthRadius=6371008.8,o.factors={centimeters:100*o.earthRadius,centimetres:100*o.earthRadius,degrees:o.earthRadius/111325,feet:3.28084*o.earthRadius,inches:39.37*o.earthRadius,kilometers:o.earthRadius/1e3,kilometres:o.earthRadius/1e3,meters:o.earthRadius,metres:o.earthRadius,miles:o.earthRadius/1609.344,millimeters:1e3*o.earthRadius,millimetres:1e3*o.earthRadius,nauticalmiles:o.earthRadius/1852,radians:1,yards:o.earthRadius/1.0936},o.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/o.earthRadius,yards:1/1.0936},o.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},o.feature=s,o.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return i(e).geometry;case"LineString":return a(e).geometry;case"Polygon":return r(e).geometry;case"MultiPoint":return c(e).geometry;case"MultiLineString":return u(e).geometry;case"MultiPolygon":return h(e).geometry;default:throw new Error(t+" is invalid")}},o.point=i,o.points=function(t,e,n){return void 0===n&&(n={}),l(t.map(function(t){return i(t,e)}),n)},o.polygon=r,o.polygons=function(t,e,n){return void 0===n&&(n={}),l(t.map(function(t){return r(t,e)}),n)},o.lineString=a,o.lineStrings=function(t,e,n){return void 0===n&&(n={}),l(t.map(function(t){return a(t,e)}),n)},o.featureCollection=l,o.multiLineString=u,o.multiPoint=c,o.multiPolygon=h,o.geometryCollection=function(t,e,n){return void 0===n&&(n={}),s({type:"GeometryCollection",geometries:t},e,n)},o.round=function(t,e){if(void 0===e&&(e=0),e&&!(0<=e))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},o.radiansToLength=f,o.lengthToRadians=d,o.lengthToDegrees=function(t,e){return n(d(t,e))},o.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},o.radiansToDegrees=n,o.degreesToRadians=function(t){return t%360*Math.PI/180},o.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(0<=t))throw new Error("length must be a positive number");return f(d(t,e),n)},o.convertArea=function(t,e,n){if(void 0===e&&(e="meters"),void 0===n&&(n="kilometers"),!(0<=t))throw new Error("area must be a positive number");var i=o.areaFactors[e];if(!i)throw new Error("invalid original units");var r=o.areaFactors[n];if(!r)throw new Error("invalid final units");return t/i*r},o.isNumber=p,o.isObject=function(t){return!!t&&t.constructor===Object},o.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!p(t))throw new Error("bbox must only contain numbers")})},o.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},{}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("@turf/helpers");n.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&2<=t.length&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},n.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},n.containsNumber=function t(e){if(1<e.length&&i.isNumber(e[0])&&i.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")},n.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},n.featureOf=function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},n.collectionOf=function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0,r=t.features;i<r.length;i++){var o=r[i];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}},n.getGeom=function(t){return"Feature"===t.type?t.geometry:t},n.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}},{"@turf/helpers":36}],38:[function(t,e,n){var i,r;i=this,r=function(){var t;return(t=function(){this.listeners={}}).prototype={addEventListener:function(t,e,n){for(var i=[],r=arguments.length,o=0;o<r;o++)i.push(arguments[o]);i=3<i.length?i.splice(3,i.length-1):[],void 0!==this.listeners[t]?this.listeners[t].push({scope:n,callback:e,args:i}):this.listeners[t]=[{scope:n,callback:e,args:i}]},removeEventListener:function(t,e,n){if(void 0!==this.listeners[t]){for(var i=this.listeners[t].length,r=[],o=0;o<i;o++){var a=this.listeners[t][o];a.scope==n&&a.callback==e||r.push(a)}this.listeners[t]=r}},hasEventListener:function(t,e,n){if(void 0!==this.listeners[t]){var i=this.listeners[t].length;if(void 0===e&&void 0===n)return 0<i;for(var r=0;r<i;r++){var o=this.listeners[t][r];if((!n||o.scope==n)&&o.callback==e)return!0}}return!1},dispatch:function(t,e){for(var n={type:t,target:e},i=[],r=arguments.length,o=0;o<r;o++)i.push(arguments[o]);if(i=2<i.length?i.splice(2,i.length-1):[],i=[n].concat(i),void 0!==this.listeners[t]){var a=this.listeners[t].slice(),s=a.length;for(o=0;o<s;o++){var l=a[o];if(l&&l.callback){var u=i.concat(l.args);l.callback.apply(l.scope,u)}}}},getEvents:function(){var t="";for(var e in this.listeners)for(var n=this.listeners[e].length,i=0;i<n;i++){var r=this.listeners[e][i];t+=r.scope&&r.scope.className?r.scope.className:"anonymous",t+=" listen for '"+e+"'\n"}return t}},new t},"object"==typeof n&&"object"==typeof e?e.exports=r():"function"==typeof define&&define.amd?define("EventBus",[],r):"object"==typeof n?n.EventBus=r():i.EventBus=r()},{}],39:[function(t,e,n){var i,r;i=function(l){function n(e,n,t){(t=t.split(" ")).forEach(function(t){l.DomUtil[e].call(this,n,t)})}function e(t,e){n("addClass",t,e)}function i(t,e){n("removeClass",t,e)}var t=l.Marker.extend({initialize:function(t,e){l.Util.setOptions(this,e),this._latlng=t,this.createIcon()},createIcon:function(){var t=this.options,e="";void 0!==t.color&&(e+="stroke:"+t.color+";"),void 0!==t.weight&&(e+="stroke-width:"+t.weight+";"),void 0!==t.fillColor&&(e+="fill:"+t.fillColor+";"),void 0!==t.fillOpacity&&(e+="fill-opacity:"+t.fillOpacity+";"),void 0!==t.opacity&&(e+="opacity:"+t.opacity+";");var n=this._getIconSVG(t,e);this._locationIcon=l.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG:function(t,e){var n=t.radius,i=n+t.weight,r=2*i;return{className:"leaflet-control-locate-location",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="'+r+'" height="'+r+'" version="1.1" viewBox="-'+i+" -"+i+" "+r+" "+r+'"><circle r="'+n+'" style="'+e+'" /></svg>',w:r,h:r}},setStyle:function(t){l.Util.setOptions(this,t),this.createIcon()}}),r=t.extend({initialize:function(t,e,n){l.Util.setOptions(this,n),this._latlng=t,this._heading=e,this.createIcon()},setHeading:function(t){this._heading=t},_getIconSVG:function(t,e){var n=t.radius,i=t.width+t.weight,r=2*(n+t.depth+t.weight),o="M0,0 l"+t.width/2+","+t.depth+" l-"+i+",0 z";return{className:"leaflet-control-locate-heading",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="'+i+'" height="'+r+'" version="1.1" viewBox="-'+i/2+" 0 "+i+" "+r+'" style="'+("transform: rotate("+this._heading+"deg)")+'"><path d="'+o+'" style="'+e+'" /></svg>',w:i,h:r}}}),o=l.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds:function(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:t,compassClass:r,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,createButtonCallback:function(t,e){var n=l.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);return n.title=e.strings.title,{link:n,icon:l.DomUtil.create(e.iconElementTag,e.icon,n)}},onLocationError:function(t,e){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(t){for(var e in t)"object"==typeof this.options[e]?l.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=l.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=l.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=l.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd:function(t){var e=l.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=e,this._map=t,this._layer=this.options.layer||new l.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;var n=this.options.createButtonCallback(e,this.options);return this._link=n.link,this._icon=n.icon,l.DomEvent.on(this._link,"click",l.DomEvent.stopPropagation).on(this._link,"click",l.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",l.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick:function(){this._justClicked=!0;var t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active&&void 0!==this._event){var e=this.options.clickBehavior,n=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=t?e.inView:e.inViewNotFollowing),e[n]&&(n=e[n]),n){case"setView":this.setView();break;case"stop":if(this.stop(),this.options.returnToPrevBounds)(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds)}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing:function(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate:function(){if(!this._active&&(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){var t="ondeviceorientationabsolute"in window;if(t||"ondeviceorientation"in window){function e(){l.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",n._onDeviceOrientation,n)}var n=this;DeviceOrientationEvent&&"function"==typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(function(t){"granted"===t&&e()}):e()}}},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?l.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&l.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this))},setView:function(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&!1!==this.options.initialZoomLevel)(t=this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel){(t=this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude])}else{var t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom}),l.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass:function(){if(this._event){var t=this._event.latlng;if(this.options.showCompass&&t&&null!==this._compassHeading){var e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}!this._compass||this.options.showCompass&&null!==this._compassHeading||(this._compass.removeFrom(this._layer),this._compass=null)}},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var t,e,n=this._event.accuracy,i=this._event.latlng;if(this.options.drawCircle){var r=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(i).setRadius(n).setStyle(r):this._circle=l.circle(i,n,r).addTo(this._layer)}if(e=this.options.metric?(t=n.toFixed(0),this.options.strings.metersUnit):(t=(3.2808399*n).toFixed(0),this.options.strings.feetUnit),this.options.drawMarker){var o=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(i),this._marker.setStyle&&this._marker.setStyle(o)):this._marker=new this.options.markerClass(i,o).addTo(this._layer)}this._drawCompass();var a=this.options.strings.popup;function s(){return"string"==typeof a?l.Util.template(a,{distance:t,unit:e}):"function"==typeof a?a({distance:t,unit:e}):a}this.options.showPopup&&a&&this._marker&&this._marker.bindPopup(s())._popup.setLatLng(i),this.options.showPopup&&a&&this._compass&&this._compass.bindPopup(s())._popup.setLatLng(i)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_setCompassHeading:function(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,l.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration:function(){this._setCompassHeading()},_onDeviceOrientation:function(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError:function(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":this._userPanned||this._userZoomed||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom:function(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd:function(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:"untilPanOrZoom"===this.options.setView?!this._userPanned&&!this._userZoomed:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&(this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng))},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(t){"requesting"==t?(i(this._container,"active following"),e(this._container,"requesting"),i(this._icon,this.options.icon),e(this._icon,this.options.iconLoading)):"active"==t?(i(this._container,"requesting following"),e(this._container,"active"),i(this._icon,this.options.iconLoading),e(this._icon,this.options.icon)):"following"==t&&(i(this._container,"requesting"),e(this._container,"active following"),i(this._icon,this.options.iconLoading),e(this._icon,this.options.icon))},_cleanClasses:function(){l.DomUtil.removeClass(this._container,"requesting"),l.DomUtil.removeClass(this._container,"active"),l.DomUtil.removeClass(this._container,"following"),i(this._icon,this.options.iconLoading),e(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});return l.control.locate=function(t){return new l.Control.Locate(t)},o},r=window,"function"==typeof define&&define.amd?define(["leaflet"],i):"object"==typeof n&&(void 0!==r&&r.L?e.exports=i(L):e.exports=i(t("leaflet"))),void 0!==r&&r.L&&(r.L.Control.Locate=i(L))},{leaflet:41}],40:[function(t,e,n){var i,r;i=this,r=function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,n=this._zoom;if(t.__parent)for(;e.__parent._zoom>=n;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):(t.getLatLng?this._map?t.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow())):(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t})):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t})),this)},addLayers:function(r,o){if(!L.Util.isArray(r))return this.addLayer(r);var a,s=this._featureGroup,l=this._nonPointGroup,u=this.options.chunkedLoading,c=this.options.chunkInterval,h=this.options.chunkProgress,f=r.length,d=0,p=!0;if(this._map){var m=(new Date).getTime(),y=L.bind(function(){for(var t=(new Date).getTime();d<f;d++){if(u&&d%200==0){var e=(new Date).getTime()-t;if(c<e)break}if((a=r[d])instanceof L.LayerGroup)p&&(r=r.slice(),p=!1),this._extractNonGroupLayers(a,r),f=r.length;else if(a.getLatLng){if(!this.hasLayer(a)&&(this._addLayer(a,this._maxZoom),o||this.fire("layeradd",{layer:a}),a.__parent&&2===a.__parent.getChildCount())){var n=a.__parent.getAllChildMarkers(),i=n[0]===a?n[1]:n[0];s.removeLayer(i)}}else l.addLayer(a),o||this.fire("layeradd",{layer:a})}h&&h(d,f,(new Date).getTime()-m),d===f?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(y,this.options.chunkDelay)},this);y()}else for(var t=this._needsClustering;d<f;d++)(a=r[d])instanceof L.LayerGroup?(p&&(r=r.slice(),p=!1),this._extractNonGroupLayers(a,r),f=r.length):a.getLatLng?this.hasLayer(a)||t.push(a):l.addLayer(a);return this},removeLayers:function(t){var e,n,i=t.length,r=this._featureGroup,o=this._nonPointGroup,a=!0;if(!this._map){for(e=0;e<i;e++)(n=t[e])instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):(this._arraySplice(this._needsClustering,n),o.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=t.slice(),l=i;for(e=0;e<l;e++)(n=s[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),l=s.length):this._unspiderfyLayer(n)}for(e=0;e<i;e++)(n=t[e])instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),r.hasLayer(n)&&(r.removeLayer(n),n.clusterShow&&n.clusterShow())):(o.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;0<=e;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,i,r,o=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),i=o.length-1;0<=i;i--){for(n=!0,r=a.length-1;0<=r;r--)if(a[r].layer===o[i]){n=!1;break}n&&t.call(e,o[i])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var n=null;return e=parseInt(e,10),this.eachLayer(function(t){L.stamp(t)===e&&(n=t)}),n},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;0<=e;e--)if(n[e]===t)return!0;for(e=(n=this._needsRemoving).length-1;0<=e;e--)if(n[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var n=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,n,i;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;e<n;e++)(i=this._needsRemoving[e]).newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(e=0,n=this._needsRemoving.length;e<n;e++)i=this._needsRemoving[e],this._removeLayer(i.layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;0<=n;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,i=this._gridUnclustered,r=Math.floor(this._map.getMinZoom());r<=e&&i[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,n){t._latlng=e,this.removeLayer(t),t._latlng=n,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,n){var i=this._gridClusters,r=this._gridUnclustered,o=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var l,u=t.__parent,c=u._markers;for(this._arraySplice(c,t);u&&(u._childCount--,u._boundsNeedUpdate=!0,!(u._zoom<s));)e&&u._childCount<=1?(l=u._markers[0]===t?u._markers[1]:u._markers[0],i[u._zoom].removeObject(u,a.project(u._cLatLng,u._zoom)),r[u._zoom].addObject(l,a.project(l.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(l),l.__parent=u.__parent,u._icon&&(o.removeLayer(u),n||o.addLayer(l))):u._iconNeedsUpdate=!0,u=u.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,n){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,n)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=e<10?"small":e<100?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(e||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),2<t.layer.getChildCount()&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,i=n;"function"!=typeof n&&(i=function(){return n}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var r=t;e<=r;r--)this._gridClusters[r]=new L.DistanceGrid(i(r)),this._gridUnclustered[r]=new L.DistanceGrid(i(r));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var n,i,r=this._gridClusters,o=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);a<=e;e--){n=this._map.project(t.getLatLng(),e);var s=r[e].getNearObject(n);if(s)return s._addChild(t),void(t.__parent=s);if(s=o[e].getNearObject(n)){var l=s.__parent;l&&this._removeLayer(s,!1);var u=new this._markerCluster(this,e,s,t);r[e].addObject(u,this._map.project(u._cLatLng,e)),s.__parent=u;var c=t.__parent=u;for(i=e-1;i>l._zoom;i--)c=new this._markerCluster(this,i,c),r[i].addObject(c,this._map.project(s.getLatLng(),i));return l._addChild(c),void this._removeFromGridUnclustered(s,e)}o[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var n,i=t.getLayers(),r=0;for(e=e||[];r<i.length;r++)(n=i[r])instanceof L.LayerGroup?this._extractNonGroupLayers(n,e):e.push(n);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(r,o){var a,s=this._getExpandedVisibleBounds(),l=this._featureGroup,t=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(s,r,t,function(t){var e,n=t._latlng,i=t._markers;for(s.contains(n)||(n=null),t._isSingleParent()&&r+1===o?(l.removeLayer(t),t._recursivelyAddChildrenToMap(null,o,s)):(t.clusterHide(),t._recursivelyAddChildrenToMap(n,o,s)),a=i.length-1;0<=a;a--)e=i[a],s.contains(e._latlng)||l.removeLayer(e)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),l.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(s,r,o,function(t){t._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,r,t,function(t){l.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,i=this._featureGroup;i.addLayer(t),e!==t&&(2<e._childCount?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){i.removeLayer(t),t.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,n,i){var r=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(r,o,n+1,i);var a=this;this._forceLayout(),e._recursivelyBecomeVisible(r,i),this._enqueue(function(){if(1===e._childCount){var t=e._markers[0];this._ignoreMove=!0,t.setLatLng(t.getLatLng()),this._ignoreMove=!1,t.clusterShow&&t.clusterShow()}else e._recursively(r,i,o,function(t){t._recursivelyRemoveChildrenFromMap(r,o,n+1)});a._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(t,e){t=t||[];for(var n=this._childClusters.length-1;0<=n;n--)this._childClusters[n].getAllChildMarkers(t);for(var i=this._markers.length-1;0<=i;i--)e&&this._markers[i].__dragStart||t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,n=this._childClusters.slice(),i=this._group._map,r=i.getBoundsZoom(this._bounds),o=this._zoom+1,a=i.getZoom();0<n.length&&o<r;){o++;var s=[];for(e=0;e<n.length;e++)s=s.concat(n[e]._childClusters);n=s}o<r?this._group._map.setView(this._latlng,o):r<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,n,i,r=this._markers,o=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),t=0;t<r.length;t++)n=r[t]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(t=0;t<o.length;t++)(e=o[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),n=e._wLatLng,i=e._childCount,a+=n.lat*i,s+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,r,e){this._recursively(t,this._group._map.getMinZoom(),e-1,function(t){var e,n,i=t._markers;for(e=i.length-1;0<=e;e--)(n=i[e])._icon&&(n._setPos(r),n.clusterHide())},function(t){var e,n,i=t._childClusters;for(e=i.length-1;0<=e;e--)(n=i[e])._icon&&(n._setPos(r),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,n,i,r){this._recursively(e,r,n,function(t){t._recursivelyAnimateChildrenIn(e,t._group._map.latLngToLayerPoint(t.getLatLng()).round(),i),t._isSingleParent()&&i-1===r?(t.clusterShow(),t._recursivelyRemoveChildrenFromMap(e,n,i)):t.clusterHide(),t._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(i,r,o){this._recursively(o,this._group._map.getMinZoom()-1,r,function(t){if(r!==t._zoom)for(var e=t._markers.length-1;0<=e;e--){var n=t._markers[e];o.contains(n._latlng)&&(i&&(n._backupLatlng=n.getLatLng(),n.setLatLng(i),n.clusterHide&&n.clusterHide()),t._group._featureGroup.addLayer(n))}},function(t){t._addToMap(i)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;0<=e;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var i=this._childClusters.length-1;0<=i;i--)this._childClusters[i]._restorePosition();else for(var r=this._childClusters.length-1;0<=r;r--)this._childClusters[r]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n,i){var r,o;this._recursively(t,e-1,n-1,function(t){for(o=t._markers.length-1;0<=o;o--)r=t._markers[o],i&&i.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())},function(t){for(o=t._childClusters.length-1;0<=o;o--)r=t._childClusters[o],i&&i.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())})},_recursively:function(t,e,n,i,r){var o,a,s=this._childClusters,l=this._zoom;if(e<=l&&(i&&i(this),r&&l===n&&r(this)),l<e||l<n)for(o=s.length-1;0<=o;o--)(a=s[o])._boundsNeedUpdate&&a._recalculateBounds(),t.intersects(a._bounds)&&a._recursively(t,e,n,i,r)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),r=this._grid,o=r[i]=r[i]||{},a=o[n]=o[n]||[],s=L.Util.stamp(t);this._objectPoint[s]=e,a.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,r=this._getCoord(e.x),o=this._getCoord(e.y),a=this._grid,s=a[o]=a[o]||{},l=s[r]=s[r]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,i=l.length;n<i;n++)if(l[n]===t)return l.splice(n,1),1===i&&delete s[r],!0},eachObject:function(t,e){var n,i,r,o,a,s,l=this._grid;for(n in l)for(i in a=l[n])for(r=0,o=(s=a[i]).length;r<o;r++)t.call(e,s[r])&&(r--,o--)},getNearObject:function(t){var e,n,i,r,o,a,s,l,u=this._getCoord(t.x),c=this._getCoord(t.y),h=this._objectPoint,f=this._sqCellSize,d=null;for(e=c-1;e<=c+1;e++)if(r=this._grid[e])for(n=u-1;n<=u+1;n++)if(o=r[n])for(i=0,a=o.length;i<a;i++)s=o[i],((l=this._sqDist(h[L.Util.stamp(s)],t))<f||l<=f&&null===d)&&(f=l,d=s);return d},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,i,r,o=0,a=null,s=[];for(n=e.length-1;0<=n;n--)i=e[n],0<(r=this.getDistant(i,t))&&(s.push(i),o<r&&(o=r,a=i));return{maxPoint:a,newPoints:s}},buildConvexHull:function(t,e){var n=[],i=this.findMostDistantPointFromBaseLine(t,e);return i.maxPoint?n=(n=n.concat(this.buildConvexHull([t[0],i.maxPoint],i.newPoints))).concat(this.buildConvexHull([i.maxPoint,t[1]],i.newPoints)):[t[0]]},getConvexHull:function(t){var e,n=!1,i=!1,r=!1,o=!1,a=null,s=null,l=null,u=null,c=null,h=null;for(e=t.length-1;0<=e;e--){var f=t[e];(!1===n||f.lat>n)&&(n=(a=f).lat),(!1===i||f.lat<i)&&(i=(s=f).lat),(!1===r||f.lng>r)&&(r=(l=f).lng),(!1===o||f.lng<o)&&(o=(u=f).lng)}return c=i!==n?(h=s,a):(h=u,l),[].concat(this.buildConvexHull([h,c],t),this.buildConvexHull([c,h],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),i=[];for(e=n.length-1;0<=e;e--)t=n[e].getLatLng(),i.push(t);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t=e.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(e.length,n):(n.y+=10,this._generatePointsCircle(e.length,n)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,i,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,o=this._2PI/t,a=[];for(r=Math.max(r,35),a.length=t,n=0;n<t;n++)i=this._circleStartAngle+n*o,a[n]=new L.Point(e.x+r*Math.cos(i),e.y+r*Math.sin(i))._round();return a},_generatePointsSpiral:function(t,e){var n,i=this._group.options.spiderfyDistanceMultiplier,r=i*this._spiralLengthStart,o=i*this._spiralFootSeparation,a=i*this._spiralLengthFactor*this._2PI,s=0,l=[];for(n=l.length=t;0<=n;n--)n<t&&(l[n]=new L.Point(e.x+r*Math.cos(s),e.y+r*Math.sin(s))._round()),r+=a/(s+=o/r+5e-4*n);return l},_noanimationUnspiderfy:function(){var t,e,n=this._group,i=n._map,r=n._featureGroup,o=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),e=o.length-1;0<=e;e--)t=o[e],r.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(i.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:o}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var n,i,r,o,a=this._group,s=a._map,l=a._featureGroup,u=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<t.length;n++)o=s.layerPointToLatLng(e[n]),i=t[n],r=new L.Polyline([this._latlng,o],u),s.addLayer(r),i._spiderLeg=r,i._preSpiderfyLatlng=i._latlng,i.setLatLng(o),i.setZIndexOffset&&i.setZIndexOffset(1e6),l.addLayer(i);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var n,i,r,o,a,s,l=this,u=this._group,c=u._map,h=u._featureGroup,f=this._latlng,d=c.latLngToLayerPoint(f),p=L.Path.SVG,m=L.extend({},this._group.options.spiderLegPolylineOptions),y=m.opacity;for(void 0===y&&(y=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=y,u._ignoreMove=!0,n=0;n<t.length;n++)i=t[n],s=c.layerPointToLatLng(e[n]),r=new L.Polyline([f,s],m),c.addLayer(r),i._spiderLeg=r,p&&(a=(o=r._path).getTotalLength()+.1,o.style.strokeDasharray=a,o.style.strokeDashoffset=a),i.setZIndexOffset&&i.setZIndexOffset(1e6),i.clusterHide&&i.clusterHide(),h.addLayer(i),i._setPos&&i._setPos(d);for(u._forceLayout(),u._animationStart(),n=t.length-1;0<=n;n--)s=c.layerPointToLatLng(e[n]),(i=t[n])._preSpiderfyLatlng=i._latlng,i.setLatLng(s),i.clusterShow&&i.clusterShow(),p&&((o=(r=i._spiderLeg)._path).style.strokeDashoffset=0,r.setStyle({opacity:y}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout(function(){u._animationEnd(),u.fire("spiderfied",{cluster:l,markers:t})},200)},_animationUnspiderfy:function(t){var e,n,i,r,o,a,s=this,l=this._group,u=l._map,c=l._featureGroup,h=t?u._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):u.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(null,!0),d=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=f.length-1;0<=n;n--)(e=f[n])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,a=!0,e._setPos&&(e._setPos(h),a=!1),e.clusterHide&&(e.clusterHide(),a=!1),a&&c.removeLayer(e),d&&(o=(r=(i=e._spiderLeg)._path).getTotalLength()+.1,r.style.strokeDashoffset=o,i.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var t=0;for(n=f.length-1;0<=n;n--)(e=f[n])._spiderLeg&&t++;for(n=f.length-1;0<=n;n--)(e=f[n])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),1<t&&c.removeLayer(e),u.removeLayer(e._spiderLeg),delete e._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:f})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)n=t[e],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(t,e){var n=this.options.icon;return L.setOptions(n,t),this.setIcon(n),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=n},"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r((i.Leaflet=i.Leaflet||{},i.Leaflet.markercluster=i.Leaflet.markercluster||{}))},{}],41:[function(t,e,n){var i,r;i=this,r=function(t){"use strict";function l(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}var o=Object.create||function(t){return e.prototype=t,new e};function e(){}function p(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var n=0;function m(t){return t._leaflet_id=t._leaflet_id||++n,t._leaflet_id}function i(t,e,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}}function r(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function s(){return!1}function a(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function c(t){return u(t).split(/\s+/)}function h(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?o(t.options):{}),e)t.options[n]=e[n];return t.options}function f(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var d=/\{ *([\w_-]+) *\}/g;function y(t,i){return t.replace(d,function(t,e){var n=i[e];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(i)),n})}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function _(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var g="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function k(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var x=window.requestAnimationFrame||b("RequestAnimationFrame")||k,P=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function E(t,e,n){if(!n||x!==k)return x.call(window,p(t,e));t.call(e)}function M(t){t&&P.call(window,t)}var S={extend:l,create:o,bind:p,lastId:n,stamp:m,throttle:i,wrapNum:r,falseFn:s,formatNum:a,trim:u,splitWords:c,setOptions:h,getParamString:f,template:y,isArray:v,indexOf:_,emptyImageUrl:g,requestFn:x,cancelFn:P,requestAnimFrame:E,cancelAnimFrame:M};function C(){}C.extend=function(t){function e(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var n=e.__super__=this.prototype,i=o(n);for(var r in(i.constructor=e).prototype=i,this)Object.prototype.hasOwnProperty.call(this,r)&&"prototype"!==r&&"__super__"!==r&&(e[r]=this[r]);return t.statics&&(l(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"==typeof L||!L||!L.Mixin)return;t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(t.includes),l.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=l(o(i.options),t.options)),l(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},C.include=function(t){return l(this.prototype,t),this},C.mergeOptions=function(t){return l(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var O={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var r=0,o=(t=c(t)).length;r<o;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var r=0,o=(t=c(t)).length;r<o;r++)this._off(t[r],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var a=i[r];if(a.ctx===n&&a.fn===e)return a.fn=s,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,o=i.length;r<o;r++)i[r].fn=s;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=l({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var o=0,a=r.length;o<a;o++){var s=r[o];s.fn.call(s.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var r=p(function(){this.off(t,e,n).off(t,r,n)},this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[m(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[m(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,l({layer:t.target,propagatedFrom:t.target},t),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var T=C.extend(O);function j(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var R=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function I(t,e,n){return t instanceof j?t:v(t)?new j(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new j(t.x,t.y):new j(t,e,n)}function N(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function A(t,e){return!t||t instanceof N?t:new N(t,e)}function B(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function z(t,e){return t instanceof B?t:new B(t,e)}function H(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function D(t,e,n){return t instanceof H?t:v(t)&&"object"!=typeof t[0]?3===t.length?new H(t[0],t[1],t[2]):2===t.length?new H(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new H(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new H(t,e,n)}j.prototype={clone:function(){return new j(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new j(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new j(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},N.prototype={extend:function(t){return t=I(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new j(this.min.x,this.max.y)},getTopRight:function(){return new j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t=("number"==typeof t[0]||t instanceof j?I:A)(t))instanceof N?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=A(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return o&&a},overlaps:function(t){t=A(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,a=r.y>e.y&&i.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},B.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof H)n=e=t;else{if(!(t instanceof B))return t?this.extend(D(t)||z(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new H(e.lat,e.lng),this._northEast=new H(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new B(new H(e.lat-i,e.lng-r),new H(n.lat+i,n.lng+r))},getCenter:function(){return new H((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new H(this.getNorth(),this.getWest())},getSouthEast:function(){return new H(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=("number"==typeof t[0]||t instanceof H||"lat"in t?D:z)(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof B?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=z(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return o&&a},overlaps:function(t){t=z(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,a=r.lng>e.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=z(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var F,U={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new N(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!(H.prototype={equals:function(t,e){return!!t&&(t=D(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return Z.distance(this,D(t))},wrap:function(){return Z.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return z([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new H(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?r(t.lng,this.wrapLng,!0):t.lng;return new H(this.wrapLat?r(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0==i&&0==r)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new B(new H(o.lat-i,o.lng-r),new H(a.lat-i,a.lng-r))}},Z=l({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(i)*Math.cos(r)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),V={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new j(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new H((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:new N([-(F=6378137*Math.PI),-F],[F,F])};function q(t,e,n,i){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function W(t,e,n,i){return new q(t,e,n,i)}q.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new j((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G,K=l({},Z,{code:"EPSG:3857",projection:V,transformation:W(G=.5/(Math.PI*V.R),.5,-G,.5)}),$=l({},K,{code:"EPSG:900913"});function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t,e){var n,i,r,o,a,s,l="";for(n=0,r=t.length;n<r;n++){for(i=0,o=(a=t[n]).length;i<o;i++)l+=(i?"L":"M")+(s=a[i]).x+" "+s.y;l+=e?Ot?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,X="ActiveXObject"in window,tt=X&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Tt("webkit"),it=Tt("android"),rt=Tt("android 2")||Tt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),at=it&&Tt("Google")&&ot<537&&!("AudioNode"in window),st=!!window.opera,lt=!et&&Tt("chrome"),ut=Tt("gecko")&&!nt&&!st&&!X,ct=!lt&&Tt("safari"),ht=Tt("phantom"),ft="OTransition"in J,dt=0===navigator.platform.indexOf("Win"),pt=X&&"transition"in J,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,yt="MozPerspective"in J,vt=!window.L_DISABLE_3D&&(pt||mt||yt)&&!ft&&!ht,_t="undefined"!=typeof orientation||Tt("mobile"),gt=_t&&nt,bt=_t&&mt,wt=!window.PointerEvent&&window.MSPointerEvent,kt=!(!window.PointerEvent&&!wt),xt=!window.L_NO_TOUCH&&(kt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Pt=_t&&st,Et=_t&&ut,Mt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),St=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",s,e),window.removeEventListener("testPassiveEventSupport",s,e)}catch(t){}return t}(),Ct=!!document.createElement("canvas").getContext,Ot=!(!document.createElementNS||!Q("svg").createSVGRect),Lt=!Ot&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Tt(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var jt={ie:X,ielt9:tt,edge:et,webkit:nt,android:it,android23:rt,androidStock:at,opera:st,chrome:lt,gecko:ut,safari:ct,phantom:ht,opera12:ft,win:dt,ie3d:pt,webkit3d:mt,gecko3d:yt,any3d:vt,mobile:_t,mobileWebkit:gt,mobileWebkit3d:bt,msPointer:wt,pointer:kt,touch:xt,mobileOpera:Pt,mobileGecko:Et,retina:Mt,passiveEvents:St,canvas:Ct,svg:Ot,vml:Lt},Rt=wt?"MSPointerDown":"pointerdown",It=wt?"MSPointerMove":"pointermove",Nt=wt?"MSPointerUp":"pointerup",At=wt?"MSPointerCancel":"pointercancel",Bt={},zt=!1;function Ht(t,e,n,i){function r(t){Zt(t,a)}var o,a,s,l,u,c,h,f;function d(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Zt(t,l)}return"touchstart"===e?(u=t,c=n,h=i,f=p(function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ae(t),Zt(t,c)}),u["_leaflet_touchstart"+h]=f,u.addEventListener(Rt,f,!1),zt||(document.addEventListener(Rt,Dt,!0),document.addEventListener(It,Ft,!0),document.addEventListener(Nt,Ut,!0),document.addEventListener(At,Ut,!0),zt=!0)):"touchmove"===e?(l=n,(s=t)["_leaflet_touchmove"+i]=d,s.addEventListener(It,d,!1)):"touchend"===e&&(a=n,(o=t)["_leaflet_touchend"+i]=r,o.addEventListener(Nt,r,!1),o.addEventListener(At,r,!1)),this}function Dt(t){Bt[t.pointerId]=t}function Ft(t){Bt[t.pointerId]&&(Bt[t.pointerId]=t)}function Ut(t){delete Bt[t.pointerId]}function Zt(t,e){for(var n in t.touches=[],Bt)t.touches.push(Bt[n]);t.changedTouches=[t],e(t)}var Vt=wt?"MSPointerDown":kt?"pointerdown":"touchstart",qt=wt?"MSPointerUp":kt?"pointerup":"touchend",Wt="_leaflet_";var Gt,Kt,$t,Qt,Yt,Jt=pe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xt=pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),te="webkitTransition"===Xt||"OTransition"===Xt?Xt+"End":"transitionend";function ee(t){return"string"==typeof t?document.getElementById(t):t}function ne(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function ie(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function re(t){var e=t.parentNode;e&&e.removeChild(t)}function oe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ae(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function se(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function le(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=fe(t);return 0<n.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ue(t,e){if(void 0!==t.classList)for(var n=c(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!le(t,e)){var o=fe(t);he(t,(o?o+" ":"")+e)}}function ce(t,e){void 0!==t.classList?t.classList.remove(e):he(t,u((" "+fe(t)+" ").replace(" "+e+" "," ")))}function he(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function fe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function de(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function pe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function me(t,e,n){var i=e||new j(0,0);t.style[Jt]=(pt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function ye(t,e){t._leaflet_pos=e,vt?me(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ve(t){return t._leaflet_pos||new j(0,0)}if("onselectstart"in document)Gt=function(){Me(window,"selectstart",Ae)},Kt=function(){Ce(window,"selectstart",Ae)};else{var _e=pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gt=function(){if(_e){var t=document.documentElement.style;$t=t[_e],t[_e]="none"}},Kt=function(){_e&&(document.documentElement.style[_e]=$t,$t=void 0)}}function ge(){Me(window,"dragstart",Ae)}function be(){Ce(window,"dragstart",Ae)}function we(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(ke(),Yt=(Qt=t).style.outline,t.style.outline="none",Me(window,"keydown",ke))}function ke(){Qt&&(Qt.style.outline=Yt,Yt=Qt=void 0,Ce(window,"keydown",ke))}function xe(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function Pe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ee={TRANSFORM:Jt,TRANSITION:Xt,TRANSITION_END:te,get:ee,getStyle:ne,create:ie,remove:re,empty:oe,toFront:ae,toBack:se,hasClass:le,addClass:ue,removeClass:ce,setClass:he,getClass:fe,setOpacity:de,testProp:pe,setTransform:me,setPosition:ye,getPosition:ve,disableTextSelection:Gt,enableTextSelection:Kt,disableImageDrag:ge,enableImageDrag:be,preventOutline:we,restoreOutline:ke,getSizedParentNode:xe,getScale:Pe};function Me(t,e,n,i){if("object"==typeof e)for(var r in e)Te(t,r,e[r],n);else for(var o=0,a=(e=c(e)).length;o<a;o++)Te(t,e[o],n,i);return this}var Se="_leaflet_events";function Ce(t,e,n,i){if("object"==typeof e)for(var r in e)je(t,r,e[r],n);else if(e)for(var o=0,a=(e=c(e)).length;o<a;o++)je(t,e[o],n,i);else{for(var s in t[Se])je(t,s,t[Se][s]);delete t[Se]}return this}function Oe(){return kt&&(!et&&!ct)}var Le={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Te(e,t,n,i){var r=t+m(n)+(i?"_"+m(i):"");if(e[Se]&&e[Se][r])return this;var o,a,s,l,u,c,h=function(t){return n.call(i||e,t||window.event)},f=h;function d(t){if(kt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(1<t.touches.length)return;var e=Date.now(),n=e-(l||e);u=t.touches?t.touches[0]:t,c=0<n&&n<=250,l=e}function p(t){if(c&&!u.cancelBubble){if(kt){if("mouse"===t.pointerType)return;var e,n,i={};for(n in u)e=u[n],i[n]=e&&e.bind?e.bind(u):e;u=i}u.type="dblclick",u.button=0,a(u),l=null}}kt&&0===t.indexOf("touch")?Ht(e,t,h,r):xt&&"dblclick"===t&&!Oe()?(a=h,c=!1,(o=e)[Wt+Vt+(s=r)]=d,o[Wt+qt+s]=p,o[Wt+"dblclick"+s]=a,o.addEventListener(Vt,d,!!St&&{passive:!1}),o.addEventListener(qt,p,!!St&&{passive:!1}),o.addEventListener("dblclick",a,!1)):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Le[t]||t,h,!!St&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(h=function(t){t=t||window.event,Ve(e,t)&&f(t)},e.addEventListener(Le[t],h,!1)):e.addEventListener(t,f,!1):"attachEvent"in e&&e.attachEvent("on"+t,h),e[Se]=e[Se]||{},e[Se][r]=h}function je(t,e,n,i){var r,o,a,s,l,u,c,h,f=e+m(n)+(i?"_"+m(i):""),d=t[Se]&&t[Se][f];if(!d)return this;kt&&0===e.indexOf("touch")?(h=(u=t)["_leaflet_"+(c=e)+f],"touchstart"===c?u.removeEventListener(Rt,h,!1):"touchmove"===c?u.removeEventListener(It,h,!1):"touchend"===c&&(u.removeEventListener(Nt,h,!1),u.removeEventListener(At,h,!1))):xt&&"dblclick"===e&&!Oe()?(a=(r=t)[Wt+Vt+(o=f)],s=r[Wt+qt+o],l=r[Wt+"dblclick"+o],r.removeEventListener(Vt,a,!!St&&{passive:!1}),r.removeEventListener(qt,s,!!St&&{passive:!1}),r.removeEventListener("dblclick",l,!1)):"removeEventListener"in t?t.removeEventListener(Le[e]||e,d,!1):"detachEvent"in t&&t.detachEvent("on"+e,d),t[Se][f]=null}function Re(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ze(t),this}function Ie(t){return Te(t,"wheel",Re),this}function Ne(t){return Me(t,"mousedown touchstart dblclick",Re),Te(t,"click",Ue),this}function Ae(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Be(t){return Ae(t),Re(t),this}function ze(t,e){if(!e)return new j(t.clientX,t.clientY);var n=Pe(e),i=n.boundingClientRect;return new j((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var He=dt&&lt?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function De(t){return et?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/He:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Fe={};function Ue(t){Fe[t.type]=!0}function Ze(t){var e=Fe[t.type];return Fe[t.type]=!1,e}function Ve(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var qe={on:Me,off:Ce,stopPropagation:Re,disableScrollPropagation:Ie,disableClickPropagation:Ne,preventDefault:Ae,stop:Be,getMousePosition:ze,getWheelDelta:De,fakeStop:Ue,skipped:Ze,isExternalTarget:Ve,addListener:Me,removeListener:Ce},We=T.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ve(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(t){var e=new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ye(this._el,n),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ge=T.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=h(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(D(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xt&&vt&&!Pt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,te,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if((e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(D(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n)&&(void 0!==n.animate&&(n.zoom=l({animate:n.animate},n.zoom),n.pan=l({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=(t instanceof j?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():z(t);var n=I(e.paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),s=this.project(t.getNorthEast(),r);return{center:this.unproject(a.add(s).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(!(t=z(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=I(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new We,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ue(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(o,a,t){if(!1===(t=t||{}).animate||!vt)return this.setView(o,a,t);this._stop();var s=this.project(this.getCenter()),l=this.project(o),e=this.getSize(),u=this._zoom;o=D(o),a=void 0===a?u:a;var c=Math.max(e.x,e.y),i=c*this.getZoomScale(u,a),h=l.distanceTo(s)||1,f=1.42,r=f*f;function n(t){var e=(i*i-c*c+(t?-1:1)*r*r*h*h)/(2*(t?i:c)*r*h),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var m=n(0);function y(t){return c*(p(m)*(d(e=m+f*t)/p(e))-d(m))/r;var e}var v=Date.now(),_=(n(1)-m)/f,g=t.duration?1e3*t.duration:1e3*_*.8;return this._moveStart(!0,t.noMoveStart),function t(){var e,n,i=(Date.now()-v)/g,r=(e=i,(1-Math.pow(1-e,1.5))*_);i<=1?(this._flyToFrame=E(t,this),this._move(this.unproject(s.add(l.subtract(s).multiplyBy(y(r)/h)),u),this.getScaleZoom(c/(n=r,c*(p(m)/p(m+f*n))),u),{flyTo:!0})):this._move(o,a)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=z(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,z(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=I((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),r=this.getCenter(),o=this.project(r),a=this.project(t),s=this.getPixelBounds(),l=s.getSize().divideBy(2),u=A([s.min.add(n),s.max.subtract(i)]);if(!u.contains(a)){this._enforcingBounds=!0;var c=o.subtract(a),h=I(a.x+c.x,a.y+c.y);(a.x<u.min.x||a.x>u.max.x)&&(h.x=o.x-c.x,0<c.x?h.x+=l.x-n.x:h.x-=l.x-i.x),(a.y<u.min.y||a.y>u.max.y)&&(h.y=o.y-c.y,0<c.y?h.y+=l.y-n.y:h.y-=l.y-i.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=l({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),o=i.subtract(r);return o.x||o.y?(t.animate&&t.pan?this.panBy(o):(t.pan&&this._rawPanBy(o),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=l({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=p(this._handleGeolocationResponse,this),n=p(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new H(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(r,i.maxZoom):r)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),re(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)re(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ie("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new B(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=z(t),n=I(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),u=A(this.project(s,i),this.project(a,i)).getSize(),c=vt?this.options.zoomSnap:1,h=l.x/u.x,f=l.y/u.y,d=e?Math.max(h,f):Math.min(h,f);return i=this.getScaleZoom(d,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new N(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(D(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(D(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(D(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(z(t))},distance:function(t,e){return this.options.crs.distance(D(t),D(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(D(t)))},mouseEventToContainerPoint:function(t){return ze(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ee(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Me(e,"scroll",this._onScroll,this),this._containerId=m(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt,ue(t,"leaflet-container"+(xt?" leaflet-touch":"")+(Mt?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ne(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ye(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ue(t.markerPane,"leaflet-zoom-hide"),ue(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ye(this._mapPane,new j(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ye(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?Ce:Me;e((this._targets[m(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),vt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,a=!1;o;){if((n=this._targets[m(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(r&&!Ve(o,t))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||a||r||!Ve(o,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Ze(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||we(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var i=l({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var r=n[0];"contextmenu"===e&&r.listens(e,!0)&&Ae(t);var o={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=r.getLatLng&&(!r._radius||r._radius<=10);o.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),o.layerPoint=this.containerPointToLayerPoint(o.containerPoint),o.latlng=a?r.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(var s=0;s<n.length;s++)if(n[s].fire(e,o,!0),o.originalEvent._stopped||!1===n[s].options.bubblingMouseEvents&&-1!==_(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ve(this._mapPane)||new j(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return A([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new N(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new N(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=A(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new j(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=vt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=Jt,n=this._proxy.style[e];me(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){re(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();me(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(E(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),E(function(){this._moveEnd(!0)},this))}});function Ke(t){return new $e(t)}var $e=C.extend({options:{position:"topright"},initialize:function(t){h(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return ue(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(re(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}});Ge.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var i=this._controlCorners={},r="leaflet-",o=this._controlContainer=ie("div",r+"control-container",this._container);function t(t,e){var n=r+t+" "+r+e;i[t+e]=ie("div",n,o)}t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)re(this._controlCorners[t]);re(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qe=$e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return $e.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(m(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ie("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ne(e),Ie(e);var i=this._section=ie("section",t+"-list");n&&(this._map.on("click",this.collapse,this),it||Me(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=ie("a",t+"-toggle",e);r.href="#",r.title="Layers",xt?(Me(r,"click",Be),Me(r,"click",this.expand,this)):Me(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ie("div",t+"-base",i),this._separator=ie("div",t+"-separator",i),this._overlaysList=ie("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&m(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(p(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oe(this._baseLayersList),oe(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&1<r,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(m(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+m(this),i),this._layerControlInputs.push(e),e.layerId=m(t.layer),Me(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(e),o.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;0<=o;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;0<=r;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Ye=$e.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ie("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=ie("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Ne(o),Me(o,"click",Be),Me(o,"click",r,this),Me(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ce(this._zoomInButton,e),ce(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMinZoom()||ue(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMaxZoom()||ue(this._zoomInButton,e)}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ye,this.addControl(this.zoomControl))});var Je=$e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=ie("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ie("div",e,n)),t.imperial&&(this._iScale=ie("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;5280<r?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=10<=n?10:5<=n?5:3<=n?3:2<=n?2:1)}}),Xe=$e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){h(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=ie("div","leaflet-control-attribution"),Ne(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook(function(){this.options.attributionControl&&(new Xe).addTo(this)});$e.Layers=Qe,$e.Zoom=Ye,$e.Scale=Je,$e.Attribution=Xe,Ke.layers=function(t,e,n){return new Qe(t,e,n)},Ke.zoom=function(t){return new Ye(t)},Ke.scale=function(t){return new Je(t)},Ke.attribution=function(t){return new Xe(t)};var tn=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});tn.addTo=function(t,e){return t.addHandler(e,this),this};var en,nn={Events:O},rn=xt?"touchstart mousedown":"mousedown",on={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},an={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},sn=T.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){h(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Me(this._dragStartTarget,rn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sn._dragging===this&&this.finishDrag(),Ce(this._dragStartTarget,rn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!le(this._element,"leaflet-zoom-anim")&&!(sn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((sn._dragging=this)._preventOutline&&we(this._element),ge(),Gt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=xe(this._element);this._startPoint=new j(e.clientX,e.clientY),this._parentScale=Pe(n),Me(document,an[t.type],this._onMove,this),Me(document,on[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&1<t.touches.length)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new j(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ae(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ve(this._element).subtract(n),ue(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,M(this._animRequest),this._lastEvent=t,this._animRequest=E(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ye(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ce(document.body,"leaflet-dragging"),this._lastTarget&&(ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),an)Ce(document,an[t],this._onMove,this),Ce(document,on[t],this._onUp,this);be(),Kt(),this._moved&&this._moving&&(M(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,sn._dragging=!1}});function ln(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,r,o){var a,s,l,u=0;for(s=r+1;s<=o-1;s++)l=dn(e[s],e[r],e[o],!0),u<l&&(a=s,u=l);i<u&&(n[a]=1,t(e,n,i,r,a),t(e,n,i,a,o))}(t,i,e,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(t[r]);return o}(t=function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)a=t[i],s=t[r],0,l=s.x-a.x,u=s.y-a.y,e<l*l+u*u&&(n.push(t[i]),r=i);var a,s,l,u;r<o-1&&n.push(t[o-1]);return n}(t,n),n)}function un(t,e,n){return Math.sqrt(dn(t,e,n,!0))}function cn(t,e,n,i,r){var o,a,s,l=i?en:fn(t,n),u=fn(e,n);for(en=u;;){if(!(l|u))return[t,e];if(l&u)return!1;s=fn(a=hn(t,e,o=l||u,n,r),n),o===l?(t=a,l=s):(e=a,u=s)}}function hn(t,e,n,i,r){var o,a,s=e.x-t.x,l=e.y-t.y,u=i.min,c=i.max;return 8&n?(o=t.x+s*(c.y-t.y)/l,a=c.y):4&n?(o=t.x+s*(u.y-t.y)/l,a=u.y):2&n?(o=c.x,a=t.y+l*(c.x-t.x)/s):1&n&&(o=u.x,a=t.y+l*(u.x-t.x)/s),new j(o,a,r)}function fn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function dn(t,e,n,i){var r,o=e.x,a=e.y,s=n.x-o,l=n.y-a,u=s*s+l*l;return 0<u&&(1<(r=((t.x-o)*s+(t.y-a)*l)/u)?(o=n.x,a=n.y):0<r&&(o+=s*r,a+=l*r)),s=t.x-o,l=t.y-a,i?s*s+l*l:new j(o,a)}function pn(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function mn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pn(t)}var yn={simplify:ln,pointToSegmentDistance:un,closestPointOnSegment:function(t,e,n){return dn(t,e,n)},clipSegment:cn,_getEdgeIntersection:hn,_getBitCode:fn,_sqClosestPointOnSegment:dn,isFlat:pn,_flat:mn};function vn(t,e,n){var i,r,o,a,s,l,u,c,h,f=[1,4,2,8];for(r=0,u=t.length;r<u;r++)t[r]._code=fn(t[r],e);for(a=0;a<4;a++){for(c=f[a],i=[],r=0,o=(u=t.length)-1;r<u;o=r++)s=t[r],l=t[o],s._code&c?l._code&c||((h=hn(l,s,c,e,n))._code=fn(h,e),i.push(h)):(l._code&c&&((h=hn(l,s,c,e,n))._code=fn(h,e),i.push(h)),i.push(s));t=i}return t}var _n,gn={clipPolygon:vn},bn={project:function(t){return new j(t.lng,t.lat)},unproject:function(t){return new H(t.y,t.x)},bounds:new N([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);return i=-n*Math.log(Math.max(s,1e-10)),new j(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&1e-7<Math.abs(u);l++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=u=Math.PI/2-2*Math.atan(a*e)-s;return new H(s*n,t.x*n/i)}},kn={LonLat:bn,Mercator:wn,SphericalMercator:V},xn=l({},Z,{code:"EPSG:3395",projection:wn,transformation:W(_n=.5/(Math.PI*wn.R),.5,-_n,.5)}),Pn=l({},Z,{code:"EPSG:4326",projection:bn,transformation:W(1/180,1,-1/180,.5)}),En=l({},U,{projection:bn,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});U.Earth=Z,U.EPSG3395=xn,U.EPSG3857=K,U.EPSG900913=$,U.EPSG4326=Pn,U.Simple=En;var Mn=T.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[m(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[m(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=m(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=m(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&m(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[m(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=m(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=Mn.extend({initialize:function(t,e){var n,i;if(h(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return m(t)}}),Cn=Sn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Sn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Sn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),On=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){h(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=I(i),o=I("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Mt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var Ln=On.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ln.imagePath||(Ln.imagePath=this._detectIconPath()),(this.options.imagePath||Ln.imagePath)+On.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ie("div","leaflet-default-icon-path",document.body),e=ne(t,"background-image")||ne(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Tn=tn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new sn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ue(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=ve(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=A(a.min._subtract(s).add(r),a.max._subtract(s).subtract(r));if(!l.contains(o)){var u=I((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),ye(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=E(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ve(e._icon),r=e._map.layerPointToLatLng(i);n&&ye(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),jn=Mn.extend({options:{icon:new Ln,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){h(this,e),this._latlng=D(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=D(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ue(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(ue(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),re(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&re(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ye(this._icon,t),this._shadow&&ye(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&de(this._icon,t),this._shadow&&de(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Rn=Mn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return h(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),In=Rn.extend({options:{fill:!0,radius:10},initialize:function(t,e){h(this,e),this._latlng=D(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=D(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Rn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new N(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Nn=In.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=l({},n,{radius:e})),h(this,e),this._latlng=D(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Rn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Z.distance){var r=Math.PI/180,o=this._mRadius/Z.R/r,a=n.project([e+o,t]),s=n.project([e-o,t]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(u*r))/(Math.cos(e*r)*Math.cos(u*r)))/r;!isNaN(c)&&0!==c||(c=o/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x,this._radiusY=l.y-a.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});var An=Rn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){h(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=dn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],u=1,c=l.length;u<c;u++){var h=o(t,e=l[u-1],n=l[u],!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s=this._rings[0],l=s.length;if(!l)return null;for(e=t=0;t<l-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(i=t=0;t<l-1;t++)if(r=s[t],o=s[t+1],e<(i+=n=r.distanceTo(o)))return a=(i-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=D(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=pn(t),i=0,r=t.length;i<r;i++)n?(e[i]=D(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new j(t,t);this._pxBounds=new N([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof H,a=t.length;if(o){for(r=[],i=0;i<a;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,o,a,s,l=this._parts;for(i=e=0,r=this._rings.length;e<r;e++)for(n=0,o=(s=this._rings[e]).length;n<o-1;n++)(a=cn(s[n],s[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=ln(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(i=0,r=(a=(s=this._parts[n]).length)-1;i<a;r=i++)if((e||0!==i)&&un(t,s[r],s[i])<=l)return!0;return!1}});An._flat=mn;var Bn=An.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s,l,u=this._rings[0],c=u.length;if(!c)return null;for(o=a=s=0,t=0,e=c-1;t<c;e=t++)n=u[t],i=u[e],r=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*r,s+=(n.y+i.y)*r,o+=3*r;return l=0===o?u[0]:[a/o,s/o],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=An.prototype._convertLatLngs.call(this,t),n=e.length;return 2<=n&&e[0]instanceof H&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){An.prototype._setLatLngs.call(this,t),pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new j(e,e);if(t=new N(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=vn(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,a,s,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,s=this._parts.length;r<s;r++)for(o=0,a=(l=(e=this._parts[r]).length)-1;o<l;a=o++)n=e[o],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||An.prototype._containsPoint.call(this,t,!0)}});var zn=Cn.extend({initialize:function(t,e){h(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=v(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=Hn(t,o);return a?(a.feature=Wn(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=l({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Hn(t,e){var n,i,r,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Fn;if(!s&&!a)return null;switch(a.type){case"Point":return Dn(u,t,n=c(s),e);case"MultiPoint":for(r=0,o=s.length;r<o;r++)n=c(s[r]),l.push(Dn(u,t,n,e));return new Cn(l);case"LineString":case"MultiLineString":return i=Un(s,"LineString"===a.type?0:1,c),new An(i,e);case"Polygon":case"MultiPolygon":return i=Un(s,"Polygon"===a.type?1:2,c),new Bn(i,e);case"GeometryCollection":for(r=0,o=a.geometries.length;r<o;r++){var h=Hn({geometry:a.geometries[r],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Cn(l);default:throw new Error("Invalid GeoJSON object.")}}function Dn(t,e,n,i){return t?t(e,n):new jn(n,i&&i.markersInheritOptions&&i)}function Fn(t){return new H(t[1],t[0],t[2])}function Un(t,e,n){for(var i,r=[],o=0,a=t.length;o<a;o++)i=e?Un(t[o],e-1,n):(n||Fn)(t[o]),r.push(i);return r}function Zn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[a(t.lng,e),a(t.lat,e),a(t.alt,e)]:[a(t.lng,e),a(t.lat,e)]}function Vn(t,e,n,i){for(var r=[],o=0,a=t.length;o<a;o++)r.push(e?Vn(t[o],e-1,n,i):Zn(t[o],i));return!e&&n&&r.push(r[0]),r}function qn(t,e){return t.feature?l({},t.feature,{geometry:e}):Wn(e)}function Wn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Gn={toGeoJSON:function(t){return qn(this,{type:"Point",coordinates:Zn(this.getLatLng(),t)})}};function Kn(t,e){return new zn(t,e)}jn.include(Gn),Nn.include(Gn),In.include(Gn),An.include({toGeoJSON:function(t){var e=!pn(this._latlngs);return qn(this,{type:(e?"Multi":"")+"LineString",coordinates:Vn(this._latlngs,e?1:0,!1,t)})}}),Bn.include({toGeoJSON:function(t){var e=!pn(this._latlngs),n=e&&!pn(this._latlngs[0]),i=Vn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),qn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Sn.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(t){n.push(t.toGeoJSON(e).geometry.coordinates)}),qn(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(i){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(i);var r="GeometryCollection"===t,o=[];return this.eachLayer(function(t){if(t.toGeoJSON){var e=t.toGeoJSON(i);if(r)o.push(e.geometry);else{var n=Wn(e);"FeatureCollection"===n.type?o.push.apply(o,n.features):o.push(n)}}}),r?qn(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var $n=Kn,Qn=Mn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=z(e),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){re(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ae(this._image),this},bringToBack:function(){return this._map&&se(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=z(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ie("img");ue(e,"leaflet-image-layer"),this._zoomAnimated&&ue(e,"leaflet-zoom-animated"),this.options.className&&ue(e,this.options.className),e.onselectstart=s,e.onmousemove=s,e.onload=p(this.fire,this,"load"),e.onerror=p(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;me(this._image,n,e)},_reset:function(){var t=this._image,e=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ye(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Yn=Qn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ie("video");if(ue(e,"leaflet-image-layer"),this._zoomAnimated&&ue(e,"leaflet-zoom-animated"),this.options.className&&ue(e,this.options.className),e.onselectstart=s,e.onmousemove=s,e.onloadeddata=p(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=0<n.length?i:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var o=0;o<this._url.length;o++){var a=ie("source");a.src=this._url[o],e.appendChild(a)}}}});var Jn=Qn.extend({_initImage:function(){var t=this._image=this._url;ue(t,"leaflet-image-layer"),this._zoomAnimated&&ue(t,"leaflet-zoom-animated"),this.options.className&&ue(t,this.options.className),t.onselectstart=s,t.onmousemove=s}});var Xn=Mn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){h(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&de(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(p(re,void 0,this._container),200)):re(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=D(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ae(this._container),this},bringToBack:function(){return this._map&&se(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Mn||(n=e,e=t),e instanceof Cn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?ye(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),ti=Xn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Xn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Rn||this._source.on("preclick",Re))},onRemove:function(t){Xn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Rn||this._source.off("preclick",Re))},getEvents:function(){var t=Xn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ie("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ie("div",t+"-content-wrapper",e);if(this._contentNode=ie("div",t+"-content",n),Ne(e),Ie(this._contentNode),Me(e,"contextmenu",Re),this._tipContainer=ie("div",t+"-tip-container",e),this._tip=ie("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ie("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Me(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&r<i?(e.height=r+"px",ue(t,o)):ce(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ye(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ne(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new j(this._containerLeft,-n-this._containerBottom);r._add(ve(this._container));var o=t.layerPointToContainerPoint(r),a=I(this.options.autoPanPadding),s=I(this.options.autoPanPaddingTopLeft||a),l=I(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),c=0,h=0;o.x+i+l.x>u.x&&(c=o.x+i-u.x+l.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+l.y>u.y&&(h=o.y+n-u.y+l.y),o.y-h-s.y<0&&(h=o.y-s.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),Be(t)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(t,e,n){return t instanceof ti||(t=new ti(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Mn.include({bindPopup:function(t,e){return t instanceof ti?(h(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new ti(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Be(t),e instanceof Rn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ei=Xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Xn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Xn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Xn.prototype.getEvents.call(this);return xt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,r=this._container,o=i.latLngToContainerPoint(i.getCenter()),a=i.layerPointToContainerPoint(t),s=this.options.direction,l=r.offsetWidth,u=r.offsetHeight,c=I(this.options.offset),h=this._getAnchor();n="top"===s?(e=l/2,u):"bottom"===s?(e=l/2,0):(e="center"===s?l/2:"right"===s?0:"left"===s?l:a.x<o.x?(s="right",0):(s="left",l+2*(c.x+h.x)),u/2),t=t.subtract(I(e,n,!0)).add(c).add(h),ce(r,"leaflet-tooltip-right"),ce(r,"leaflet-tooltip-left"),ce(r,"leaflet-tooltip-top"),ce(r,"leaflet-tooltip-bottom"),ue(r,"leaflet-tooltip-"+s),ye(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&de(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ge.include({openTooltip:function(t,e,n){return t instanceof ei||(t=new ei(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Mn.include({bindTooltip:function(t,e){return t instanceof ei?(h(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=new ei(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),xt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ue(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ce(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ni=On.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(oe(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=I(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});On.Default=Ln;var ii=Mn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_t,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){h(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),re(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ae(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=i(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof j?t:new j(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt){de(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);de(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(M(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(re(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),s(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)re(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new j(+r,+o);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),i<a&&this._retainParent(r,o,a,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var a=new j(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();vt?me(t.el,r,i):ye(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new N(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,l=new N(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new j(c.x,c.y))||(this._tiles[u].current=!1)}if(1<Math.abs(n-this._tileZoom))this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var f=r.min.x;f<=r.max.x;f++){var d=new j(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:a.push(d)}}if(a.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(f=0;f<a.length;f++)this._addTile(a[f],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return z(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new B(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new j(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(re(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ue(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=s,t.onmousemove=s,tt&&this.options.opacity<1&&de(t,this.options.opacity),it&&!rt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),p(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&E(p(this._tileReady,this,t,null,r)),ye(r,n),this._tiles[i]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(de(n.el,0),M(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ue(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new j(this._wrapX?r(t.x,this._wrapX):t.x,this._wrapY?r(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new N(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var ri=ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=h(this,e)).detectRetina&&Mt&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),it||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Me(n,"load",p(this._tileOnLoad,this,e,n)),Me(n,"error",p(this._tileOnError,this,e,n)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Mt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return y(this._url,l(e,this.options))},_tileOnLoad:function(t,e){tt?setTimeout(p(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=s,e.onerror=s,e.complete||(e.src=g,re(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return at||e.el.setAttribute("src",g),ii.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==g))return ii.prototype._tileReady.call(this,t,e,n)}});function oi(t,e){return new ri(t,e)}var ai=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=l({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);var r=(e=h(this,e)).detectRetina&&Mt?2:1,o=this.getTileSize();n.width=o.x*r,n.height=o.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,ri.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=A(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,a=(1.3<=this._wmsVersion&&this._crs===Pn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),s=ri.prototype.getTileUrl.call(this,t);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return l(this.wmsParams,t),e||this.redraw(),this}});ri.WMS=ai,oi.wms=function(t,e){return new ai(t,e)};var si=Mn.extend({options:{padding:.1,tolerance:0},initialize:function(t){h(this,t),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=ve(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e).subtract(o),s=r.multiplyBy(-n).add(i).add(r).subtract(a);vt?me(this._container,s,n):ye(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new N(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),li=si.extend({getEvents:function(){var t=si.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Me(t,"mousemove",this._onMouseMove,this),Me(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,re(this._container),Ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){si.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Mt?2:1;ye(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Mt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);var e=(this._layers[m(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[m(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,a=t._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++)o=a[n][i],l[i?"lineTo":"moveTo"](o.x,o.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;1!=r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!=r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&(("click"===t.type||"preclick"!==t.type)&&this._map._draggableMoved(e)||(n=e));n&&(Ue(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ce(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(ue(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&((n.prev=i)?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,(this._drawLast.next=e).next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&((i.next=n)?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function ui(t){return Ct?new li(t):null}var ci=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),hi={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(si.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ci("shape");ue(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ci("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;re(e),t.removeInteractiveTarget(e),delete this._layers[m(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e=e||(t._stroke=ci("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n=n||(t._fill=ci("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ae(t._container)},_bringToBack:function(t){se(t._container)}},fi=Lt?ci:Q,di=si.extend({getEvents:function(){var t=si.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=fi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){re(this._container),Ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){si.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ye(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=fi("path");t.options.className&&ue(e,t.options.className),t.options.interactive&&ue(e,"leaflet-interactive"),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){re(t._path),t.removeInteractiveTarget(t._path),delete this._layers[m(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Y(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ae(t._path)},_bringToBack:function(t){se(t._path)}});function pi(t){return Ot||Lt?new di(t):null}Lt&&di.include(hi),Ge.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e=e||(this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ui(t)||pi(t)}});var mi=Bn.extend({initialize:function(t,e){Bn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=z(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});di.create=fi,di.pointsToPath=Y,zn.geometryToLayer=Hn,zn.coordsToLatLng=Fn,zn.coordsToLatLngs=Un,zn.latLngToCoords=Zn,zn.latLngsToCoords=Vn,zn.getFeature=qn,zn.asFeature=Wn,Ge.mergeOptions({boxZoom:!0});var yi=tn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){re(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Gt(),ge(),this._startPoint=this._map.mouseEventToContainerPoint(t),Me(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new N(this._point,this._startPoint),n=e.getSize();ye(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(re(this._box),ce(this._container,"leaflet-crosshair")),Kt(),be(),Ce(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ge.addInitHook("addHandler","boxZoom",yi),Ge.mergeOptions({doubleClickZoom:!0});var vi=tn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Ge.addInitHook("addHandler","doubleClickZoom",vi),Ge.mergeOptions({dragging:!0,inertia:!rt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _i=tn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new sn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ce(this._map._container,"leaflet-grab"),ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=z(this._map.options.maxBounds);this._offsetLimit=A(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),h=u/(n.inertiaDeceleration*a),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),E(function(){e.panBy(f,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Ge.addInitHook("addHandler","dragging",_i),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gi=tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Me(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=I(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Be(t)}}});Ge.addInitHook("addHandler","keyboard",gi),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bi=tn.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=De(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),i),Be(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=t._limitZoom(e+(0<this._delta?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Ge.addInitHook("addHandler","scrollWheelZoom",bi),Ge.mergeOptions({tap:!0,tapTolerance:15});var wi=tn.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ae(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new j(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ue(n,"leaflet-active"),this._holdTimeout=setTimeout(p(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Me(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Ce(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&ce(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new j(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});!xt||kt&&!ct||Ge.addInitHook("addHandler","tap",wi),Ge.mergeOptions({touchZoom:xt&&!rt,bounceAtZoomLimits:!0});var ki=tn.extend({addHooks:function(){ue(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ce(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend",this._onTouchEnd,this),Ae(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&1<r)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==r)return}else{var o=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1==r&&0===o.x&&0===o.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var a=p(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=E(a,this,!0),Ae(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,M(this._animRequest),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ge.addInitHook("addHandler","touchZoom",ki),Ge.BoxZoom=yi,Ge.DoubleClickZoom=vi,Ge.Drag=_i,Ge.Keyboard=gi,Ge.ScrollWheelZoom=bi,Ge.Tap=wi,Ge.TouchZoom=ki,t.version="1.7.1",t.Control=$e,t.control=Ke,t.Browser=jt,t.Evented=T,t.Mixin=nn,t.Util=S,t.Class=C,t.Handler=tn,t.extend=l,t.bind=p,t.stamp=m,t.setOptions=h,t.DomEvent=qe,t.DomUtil=Ee,t.PosAnimation=We,t.Draggable=sn,t.LineUtil=yn,t.PolyUtil=gn,t.Point=j,t.point=I,t.Bounds=N,t.bounds=A,t.Transformation=q,t.transformation=W,t.Projection=kn,t.LatLng=H,t.latLng=D,t.LatLngBounds=B,t.latLngBounds=z,t.CRS=U,t.GeoJSON=zn,t.geoJSON=Kn,t.geoJson=$n,t.Layer=Mn,t.LayerGroup=Sn,t.layerGroup=function(t,e){return new Sn(t,e)},t.FeatureGroup=Cn,t.featureGroup=function(t,e){return new Cn(t,e)},t.ImageOverlay=Qn,t.imageOverlay=function(t,e,n){return new Qn(t,e,n)},t.VideoOverlay=Yn,t.videoOverlay=function(t,e,n){return new Yn(t,e,n)},t.SVGOverlay=Jn,t.svgOverlay=function(t,e,n){return new Jn(t,e,n)},t.DivOverlay=Xn,t.Popup=ti,t.popup=function(t,e){return new ti(t,e)},t.Tooltip=ei,t.tooltip=function(t,e){return new ei(t,e)},t.Icon=On,t.icon=function(t){return new On(t)},t.DivIcon=ni,t.divIcon=function(t){return new ni(t)},t.Marker=jn,t.marker=function(t,e){return new jn(t,e)},t.TileLayer=ri,t.tileLayer=oi,t.GridLayer=ii,t.gridLayer=function(t){return new ii(t)},t.SVG=di,t.svg=pi,t.Renderer=si,t.Canvas=li,t.canvas=ui,t.Path=Rn,t.CircleMarker=In,t.circleMarker=function(t,e){return new In(t,e)},t.Circle=Nn,t.circle=function(t,e,n){return new Nn(t,e,n)},t.Polyline=An,t.polyline=function(t,e){return new An(t,e)},t.Polygon=Bn,t.polygon=function(t,e){return new Bn(t,e)},t.Rectangle=mi,t.rectangle=function(t,e){return new mi(t,e)},t.Map=Ge,t.map=function(t,e){return new Ge(t,e)};var xi=window.L;t.noConflict=function(){return window.L=xi,this},window.L=t},"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(i.L={})},{}],42:[function(r,o,t){(function(p,i){(function(){"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var l=r("react"),e=t(l),u=t(r("@babel/runtime/helpers/inheritsLoose")),c=t(r("prop-types")),h=t(r("tiny-warning")),f=1073741823,d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i?i:{};var n=e.createContext||function(i,a){var t,e,n,r="__create-react-context-"+(d[n="__global_unique_id__"]=(d[n]||0)+1)+"__",o=function(e){function t(){var t,n,i;return(t=e.apply(this,arguments)||this).emitter=(n=t.props.value,i=[],{on:function(t){i.push(t)},off:function(e){i=i.filter(function(t){return t!==e})},get:function(){return n},set:function(t,e){n=t,i.forEach(function(t){return t(n,e)})}}),t}u(t,e);var n=t.prototype;return n.getChildContext=function(){var t;return(t={})[r]=this.emitter,t},n.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var e,n=this.props.value,i=t.value;((r=n)===(o=i)?0!==r||1/r==1/o:r!=r&&o!=o)?e=0:(e="function"==typeof a?a(n,i):f,"production"!==p.env.NODE_ENV&&h((e&f)===e,"calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: "+e),0!==(e|=0)&&this.emitter.set(t.value,e))}var r,o},n.render=function(){return this.props.children},t}(l.Component);o.childContextTypes=((t={})[r]=c.object.isRequired,t);var s=function(t){function e(){var n;return(n=t.apply(this,arguments)||this).state={value:n.getValue()},n.onUpdate=function(t,e){0!=((0|n.observedBits)&e)&&n.setState({value:n.getValue()})},n}u(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?f:e},n.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?f:t},n.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},n.getValue=function(){return this.context[r]?this.context[r].get():i},n.render=function(){return t=this.props.children,(Array.isArray(t)?t[0]:t)(this.state.value);var t},e}(l.Component);return s.contextTypes=((e={})[r]=c.object,e),{Provider:o,Consumer:s}};o.exports=n}).call(this)}).call(this,r("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@babel/runtime/helpers/inheritsLoose":34,_process:46,"prop-types":53,react:73,"tiny-warning":93}],43:[function(t,e,n){"use strict";var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(t){return}}()?Object.assign:function(t,e){for(var n,i,r=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))u.call(n,a)&&(r[a]=n[a]);if(l){i=l(n);for(var s=0;s<i.length;s++)c.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r}},{}],44:[function(t,e,n){var f=t("isarray");e.exports=s,e.exports.parse=o,e.exports.compile=function(t,e){return i(o(t,e),e)},e.exports.tokensToFunction=i,e.exports.tokensToRegExp=a;var x=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,i=[],r=0,o=0,a="",s=e&&e.delimiter||"/";null!=(n=x.exec(t));){var l=n[0],u=n[1],c=n.index;if(a+=t.slice(o,c),o=c+l.length,u)a+=u[1];else{var h=t[o],f=n[2],d=n[3],p=n[4],m=n[5],y=n[6],v=n[7];a&&(i.push(a),a="");var _=null!=f&&null!=h&&h!==f,g="+"===y||"*"===y,b="?"===y||"*"===y,w=n[2]||s,k=p||m;i.push({name:d||r++,prefix:f||"",delimiter:w,optional:b,repeat:g,partial:_,asterisk:!!v,pattern:k?k.replace(/([=!:$\/()])/g,"\\$1"):v?".*":"[^"+P(w)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&i.push(a),i}function d(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function i(c,t){for(var h=new Array(c.length),e=0;e<c.length;e++)"object"==typeof c[e]&&(h[e]=new RegExp("^(?:"+c[e].pattern+")$",m(t)));return function(t,e){for(var n="",i=t||{},r=(e||{}).pretty?d:encodeURIComponent,o=0;o<c.length;o++){var a=c[o];if("string"!=typeof a){var s,l=i[a.name];if(null==l){if(a.optional){a.partial&&(n+=a.prefix);continue}throw new TypeError('Expected "'+a.name+'" to be defined')}if(f(l)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(s=r(l[u]),!h[o].test(s))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received `'+JSON.stringify(s)+"`");n+=(0===u?a.prefix:a.delimiter)+s}}else{if(s=a.asterisk?encodeURI(l).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):r(l),!h[o].test(s))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');n+=a.prefix+s}}else n+=a}return n}}function P(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function p(t,e){return t.keys=e,t}function m(t){return t&&t.sensitive?"":"i"}function a(t,e,n){f(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=P(s);else{var l=P(s.prefix),u="(?:"+s.pattern+")";e.push(s),s.repeat&&(u+="(?:"+l+u+")*"),o+=u=s.optional?s.partial?l+"("+u+")?":"(?:"+l+"("+u+"))?":l+"("+u+")"}}var c=P(n.delimiter||"/"),h=o.slice(-c.length)===c;return i||(o=(h?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),o+=r?"$":i&&h?"":"(?="+c+"|$)",p(new RegExp("^"+o,m(n)),e)}function s(t,e,n){return f(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(t,e)}(t,e):f(t)?function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(s(t[r],e,n).source);return p(new RegExp("(?:"+i.join("|")+")",m(n)),e)}(t,e,n):(i=e,a(o(t,r=n),i,r));var i,r}},{isarray:45}],45:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],46:[function(t,e,n){var i,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(t){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],h=!1,f=-1;function d(){h&&u&&(h=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!h){var t=l(d);h=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||h||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],47:[function(t,e,n){var i,r;i=this,r=function(){"use strict";var k=1,x=2,P=4,E=5,S=484813681109536e-20,C=Math.PI/2,M=.16666666666666666,O=.04722222222222222,L=.022156084656084655,T=1e-10,s=.017453292519943295,l=57.29577951308232,m=Math.PI/4,i=2*Math.PI,_=3.14159265359,u={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},c={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},a=/[\s_\-\/\(\)]/g;function j(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(a,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(a,"")===r)return t[n]}var r=function(t){var e,n,i,r={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),a={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*s},lat_1:function(t){r.lat1=t*s},lat_2:function(t){r.lat2=t*s},lat_ts:function(t){r.lat_ts=t*s},lon_0:function(t){r.long0=t*s},lon_1:function(t){r.long1=t*s},lon_2:function(t){r.long2=t*s},alpha:function(t){r.alpha=parseFloat(t)*s},lonc:function(t){r.longc=t*s},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=j(c,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*s},pm:function(t){var e=j(u,t);r.from_greenwich=(e||parseFloat(t))*s},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(r.axis=t)}};for(e in o)n=o[e],e in a?"function"==typeof(i=a[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},n=1,e=/\s/,o=/[A-Za-z]/,h=/[A-Za-z84]/,f=/[,\]]/,d=/[\d\.E\-\+]/;function p(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=n}function y(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(t,e){return v(e,t),t},i);e&&(t[e]=r)}function v(t,e){if(Array.isArray(t)){var n,i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void v(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i)switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&v(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&v(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void y(e,i,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return v(t,e[i]);return y(e,i,t)}else e[i]=t;else e[i]=!0}else e[t]=!0}p.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;e.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case n:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},p.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(f.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},p.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=n)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=n,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},p.prototype.number=function(t){if(!d.test(t)){if(f.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},p.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},p.prototype.keyword=function(t){if(h.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=n)}if(!f.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},p.prototype.neutral=function(t){if(o.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(d.test(t))return this.word=t,void(this.state=3);if(!f.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},p.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var g=.017453292519943295;function b(t){return t*g}function w(o){"GEOGCS"===o.type?o.projName="longlat":"LOCAL_CS"===o.type?(o.projName="identity",o.local=!0):"object"==typeof o.PROJECTION?o.projName=Object.keys(o.PROJECTION)[0]:o.projName=o.PROJECTION,o.UNIT&&(o.units=o.UNIT.name.toLowerCase(),"metre"===o.units&&(o.units="meter"),o.UNIT.convert&&("GEOGCS"===o.type?o.DATUM&&o.DATUM.SPHEROID&&(o.to_meter=o.UNIT.convert*o.DATUM.SPHEROID.a):o.to_meter=o.UNIT.convert));var t=o.GEOGCS;function e(t){return t*(o.to_meter||1)}"GEOGCS"===o.type&&(t=o),t&&(t.DATUM?o.datumCode=t.DATUM.name.toLowerCase():o.datumCode=t.name.toLowerCase(),"d_"===o.datumCode.slice(0,2)&&(o.datumCode=o.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==o.datumCode&&"new_zealand_1949"!==o.datumCode||(o.datumCode="nzgd49"),"wgs_1984"===o.datumCode&&("Mercator_Auxiliary_Sphere"===o.PROJECTION&&(o.sphere=!0),o.datumCode="wgs84"),"_ferro"===o.datumCode.slice(-6)&&(o.datumCode=o.datumCode.slice(0,-6)),"_jakarta"===o.datumCode.slice(-8)&&(o.datumCode=o.datumCode.slice(0,-8)),~o.datumCode.indexOf("belge")&&(o.datumCode="rnb72"),t.DATUM&&t.DATUM.SPHEROID&&(o.ellps=t.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===o.ellps.toLowerCase().slice(0,13)&&(o.ellps="intl"),o.a=t.DATUM.SPHEROID.a,o.rf=parseFloat(t.DATUM.SPHEROID.rf,10)),t.DATUM&&t.DATUM.TOWGS84&&(o.datum_params=t.DATUM.TOWGS84),~o.datumCode.indexOf("osgb_1936")&&(o.datumCode="osgb36"),~o.datumCode.indexOf("osni_1952")&&(o.datumCode="osni52"),(~o.datumCode.indexOf("tm65")||~o.datumCode.indexOf("geodetic_datum_of_1965"))&&(o.datumCode="ire65"),"ch1903+"===o.datumCode&&(o.datumCode="ch1903"),~o.datumCode.indexOf("israel")&&(o.datumCode="isr93")),o.b&&!isFinite(o.b)&&(o.b=o.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",b],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",b],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",b],["lat0","latitude_of_origin",b],["lat0","standard_parallel_1",b],["lat1","standard_parallel_1",b],["lat2","standard_parallel_2",b],["azimuth","Azimuth"],["alpha","azimuth",b],["srsCode","name"]].forEach(function(t){return e=o,i=(n=t)[0],r=n[1],void(!(i in e)&&r in e&&(e[i]=e[r],3===n.length&&(e[i]=n[2](e[i]))));var e,n,i,r}),o.long0||!o.longc||"Albers_Conic_Equal_Area"!==o.projName&&"Lambert_Azimuthal_Equal_Area"!==o.projName||(o.long0=o.longc),o.lat_ts||!o.lat1||"Stereographic_South_Pole"!==o.projName&&"Polar Stereographic (variant B)"!==o.projName||(o.lat0=b(0<o.lat1?90:-90),o.lat_ts=o.lat1)}var t,R=function(t){var e=new p(t).output(),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return v(e,r),w(r),r};function I(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?I[t]=r(arguments[1]):I[t]=R(arguments[1]):I[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?I.apply(e,t):I(t)});if("string"==typeof t){if(t in I)return I[t]}else"EPSG"in t?I["EPSG:"+t.EPSG]=t:"ESRI"in t?I["ESRI:"+t.ESRI]=t:"IAU2000"in t?I["IAU2000:"+t.IAU2000]=t:console.log(t);return}}(t=I)("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"];var N=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var A=["3857","900913","3785","102113"];function B(t){if("string"!=typeof t)return t;if(t in I)return I[t];if(i=t,N.some(function(t){return-1<i.indexOf(t)})){var e=R(t);if(function(t){var e=j(t,"authority");if(e){var n=j(e,"epsg");return n&&-1<A.indexOf(n)}}(e))return I["EPSG:3857"];var n=function(t){var e=j(t,"extension");if(e)return j(e,"proj4")}(e);return n?r(n):e}return"+"===t[0]?r(t):void 0;var i}function z(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function H(t){return t<0?-1:1}function D(t){return Math.abs(t)<=_?t:t-H(t)*i}function F(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(C-e))/i}function U(t,e){for(var n,i,r=.5*t,o=C-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),o+=i=C-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,Math.abs(i)<=1e-10)return o;return-9999}var Z=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t};function V(t){return t}var q=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,i=t.x,r=t.y;if(90<r*l&&r*l<-90&&180<i*l&&i*l<-180)return null;if(Math.abs(Math.abs(r)-C)<=T)return null;if(this.sphere)e=this.x0+this.a*this.k0*D(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(m+.5*r));else{var o=Math.sin(r),a=F(this.e,r,o);e=this.x0+this.a*this.k0*D(i-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=C-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=U(this.e,o)))return null}return e=D(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:V,inverse:V,names:["longlat","identity"]}],W={},G=[];function K(t,e){var n=G.length;return t.names?((G[n]=t).names.forEach(function(t){W[t.toLowerCase()]=n}),this):(console.log(e),!0)}var $={start:function(){q.forEach(K)},add:K,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==W[e]&&G[W[e]]?G[W[e]]:void 0}},Q={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Y=Q.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Q.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var J={};function X(t,e){if(!(this instanceof X))return new X(t);e=e||function(t){if(t)throw t};var n=B(t);if("object"==typeof n){var i=X.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=j(J,n.datumCode);r&&(n.datum_params=r.towgs84?r.towgs84.split(","):null,n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o,a,s,l,u,c,h,f,d,p,m,y,v,_,g=function(t,e,n,i,r){if(!t){var o=j(Q,i);t=(o=o||Y).a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<T)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),b=(o=g.a,a=g.b,g.rf,s=n.R_A,c=((l=o*o)-(u=a*a))/l,h=0,s?(l=(o*=1-c*(M+c*(O+c*L)))*o,c=0):h=Math.sqrt(c),{es:c,e:h,ep2:(l-u)/u}),w=n.datum||(f=n.datumCode,d=n.datum_params,p=g.a,m=g.b,y=b.es,v=b.ep2,(_={}).datum_type=void 0===f||"none"===f?E:P,d&&(_.datum_params=d.map(parseFloat),0===_.datum_params[0]&&0===_.datum_params[1]&&0===_.datum_params[2]||(_.datum_type=k),3<_.datum_params.length&&(0===_.datum_params[3]&&0===_.datum_params[4]&&0===_.datum_params[5]&&0===_.datum_params[6]||(_.datum_type=x,_.datum_params[3]*=S,_.datum_params[4]*=S,_.datum_params[5]*=S,_.datum_params[6]=_.datum_params[6]/1e6+1))),_.a=p,_.b=m,_.es=y,_.ep2=v,_);Z(this,n),Z(this,i),this.a=g.a,this.b=g.b,this.rf=g.rf,this.sphere=g.sphere,this.es=b.es,this.e=b.e,this.ep2=b.ep2,this.datum=w,this.init(),e(null,this)}else e(t)}else e(t)}function tt(t,e,n){var i,r,o,a,s=t.x,l=t.y,u=t.z?t.z:0;if(l<-C&&-1.001*C<l)l=-C;else if(C<l&&l<1.001*C)l=C;else{if(l<-C)return{x:-1/0,y:-1/0,z:t.z};if(C<l)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(l),a=Math.cos(l),o=r*r,{x:((i=n/Math.sqrt(1-e*o))+u)*a*Math.cos(s),y:(i+u)*a*Math.sin(s),z:(i*(1-e)+u)*r}}function et(t,e,n,i){var r,o,a,s,l,u,c,h,f,d,p,m,y,v,_,g=t.x,b=t.y,w=t.z?t.z:0;if(r=Math.sqrt(g*g+b*b),o=Math.sqrt(g*g+b*b+w*w),r/n<1e-12){if(v=0,o/n<1e-12)return _=-i,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(b,g);for(a=w/o,h=(s=r/o)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*s*s)),f=a*l,y=0;y++,u=e*(c=n/Math.sqrt(1-e*f*f))/(c+(_=r*h+w*f-c*(1-e*f*f))),m=(p=a*(l=1/Math.sqrt(1-u*(2-u)*s*s)))*h-(d=s*(1-u)*l)*f,h=d,f=p,1e-24<m*m&&y<30;);return{x:v,y:Math.atan(p/Math.abs(d)),z:_}}function nt(t){return t===k||t===x}J.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},J.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},J.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},J.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},J.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},J.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},J.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},J.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},J.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},J.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},J.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},J.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},J.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},J.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},J.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},J.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},J.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},(X.projections=$).start();var it=function(t,e,n){return r=e,(i=t).datum_type===r.datum_type&&!(i.a!==r.a||5e-11<Math.abs(i.es-r.es))&&(i.datum_type===k?i.datum_params[0]===r.datum_params[0]&&i.datum_params[1]===r.datum_params[1]&&i.datum_params[2]===r.datum_params[2]:i.datum_type!==x||i.datum_params[0]===r.datum_params[0]&&i.datum_params[1]===r.datum_params[1]&&i.datum_params[2]===r.datum_params[2]&&i.datum_params[3]===r.datum_params[3]&&i.datum_params[4]===r.datum_params[4]&&i.datum_params[5]===r.datum_params[5]&&i.datum_params[6]===r.datum_params[6])||t.datum_type===E||e.datum_type===E?n:t.es!==e.es||t.a!==e.a||nt(t.datum_type)||nt(e.datum_type)?(n=tt(n,t.es,t.a),nt(t.datum_type)&&(n=function(t,e,n){if(e===k)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===x){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+s*t.z)+i,y:u*(l*t.x+t.y-a*t.z)+r,z:u*(-s*t.x+a*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),nt(e.datum_type)&&(n=function(t,e,n){if(e===k)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===x){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=(t.x-i)/u,h=(t.y-r)/u,f=(t.z-o)/u;return{x:c+l*h-s*f,y:-l*c+h+a*f,z:s*c-a*h+f}}}(n,e.datum_type,e.datum_params)),et(n,e.es,e.a,e.b)):n;var i,r},rt=function(t,e,n){var i,r,o,a=n.x,s=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(r=0===o?(i=a,"x"):1===o?(i=s,"y"):(i=l,"z"),t.axis[o]){case"e":u[r]=i;break;case"w":u[r]=-i;break;case"n":u[r]=i;break;case"s":u[r]=-i;break;case"u":void 0!==n[r]&&(u.z=i);break;case"d":void 0!==n[r]&&(u.z=-i);break;default:return null}return u},ot=function(t){var e={x:t[0],y:t[1]};return 2<t.length&&(e.z=t[2]),3<t.length&&(e.m=t[3]),e},at=function(t){st(t.x),st(t.y)};function st(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function lt(t,e,n){var i,r,o;return Array.isArray(n)&&(n=ot(n)),at(n),t.datum&&e.datum&&(o=e,((r=t).datum.datum_type===k||r.datum.datum_type===x)&&"WGS84"!==o.datumCode||(o.datum.datum_type===k||o.datum.datum_type===x)&&"WGS84"!==r.datumCode)&&(n=lt(t,i=new X("WGS84"),n),t=i),"enu"!==t.axis&&(n=rt(t,!1,n)),n="longlat"===t.projName?{x:n.x*s,y:n.y*s,z:n.z||0}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=it(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*l,y:n.y*l,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?rt(e,!0,n):n}var ut=X("WGS84");function ct(e,n,i){var t,r,o;return Array.isArray(i)?(t=lt(e,n,i)||{x:NaN,y:NaN},2<i.length?void 0!==e.name&&"geocent"===e.name||void 0!==n.name&&"geocent"===n.name?"number"==typeof t.z?[t.x,t.y,t.z].concat(i.splice(3)):[t.x,t.y,i[2]].concat(i.splice(3)):[t.x,t.y].concat(i.splice(2)):[t.x,t.y]):(r=lt(e,n,i),2===(o=Object.keys(i)).length||o.forEach(function(t){if(void 0!==e.name&&"geocent"===e.name||void 0!==n.name&&"geocent"===n.name){if("x"===t||"y"===t||"z"===t)return}else if("x"===t||"y"===t)return;r[t]=i[t]}),r)}function ht(t){return t instanceof X?t:t.oProj?t.oProj:X(t)}function ft(e,n,t){e=ht(e);var i,r=!1;return void 0===n?(n=e,e=ut,r=!0):void 0===n.x&&!Array.isArray(n)||(t=n,n=e,e=ut,r=!0),n=ht(n),t?ct(e,n,t):(i={forward:function(t){return ct(e,n,t)},inverse:function(t){return ct(n,e,t)}},r&&(i.oProj=n),i)}var dt=6,pt="AJSAJS",mt="AFAFAF",yt=65,vt=73,_t=79,gt=86,bt=90,wt={forward:kt,inverse:function(t){var e=Mt(Ct(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:xt};function kt(t,e){return e=e||5,n=function(t){var e,n,i,r,o,a,s,l,u=t.lat,c=t.lon,h=.00669438,f=Pt(u),d=Pt(c);l=Math.floor((c+180)/6)+1,180===c&&(l=60);56<=u&&u<64&&3<=c&&c<12&&(l=32);72<=u&&u<84&&(0<=c&&c<9?l=31:9<=c&&c<21?l=33:21<=c&&c<33?l=35:33<=c&&c<42&&(l=37));s=Pt(6*(l-1)-180+3),e=h/(1-h),n=6378137/Math.sqrt(1-h*Math.sin(f)*Math.sin(f)),i=Math.tan(f)*Math.tan(f),r=e*Math.cos(f)*Math.cos(f),o=Math.cos(f)*(d-s),a=6378137*(.9983242984503243*f-.002514607064228144*Math.sin(2*f)+2639046602129982e-21*Math.sin(4*f)-35*h*h*h/3072*Math.sin(6*f));var p=.9996*n*(o+(1-i+r)*o*o*o/6+(5-18*i+i*i+72*r-58*e)*o*o*o*o*o/120)+5e5,m=.9996*(a+n*Math.tan(f)*(o*o/2+(5-i+9*r+4*r*r)*o*o*o*o/24+(61-58*i+i*i+600*r-330*e)*o*o*o*o*o*o/720));u<0&&(m+=1e7);return{northing:Math.round(m),easting:Math.round(p),zoneNumber:l,zoneLetter:function(t){var e="Z";t<=84&&72<=t?e="X":t<72&&64<=t?e="W":t<64&&56<=t?e="V":t<56&&48<=t?e="U":t<48&&40<=t?e="T":t<40&&32<=t?e="S":t<32&&24<=t?e="R":t<24&&16<=t?e="Q":t<16&&8<=t?e="P":t<8&&0<=t?e="N":t<0&&-8<=t?e="M":t<-8&&-16<=t?e="L":t<-16&&-24<=t?e="K":t<-24&&-32<=t?e="J":t<-32&&-40<=t?e="H":t<-40&&-48<=t?e="G":t<-48&&-56<=t?e="F":t<-56&&-64<=t?e="E":t<-64&&-72<=t?e="D":t<-72&&-80<=t&&(e="C");return e}(u)}}({lat:t[1],lon:t[0]}),i=e,r="00000"+n.easting,o="00000"+n.northing,n.zoneNumber+n.zoneLetter+function(t,e,n){var i=St(n),r=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return function(t,e,n){var i=n-1,r=pt.charCodeAt(i),o=mt.charCodeAt(i),a=r+t-1,s=o+e,l=!1;return bt<a&&(a=a-bt+yt-1,l=!0),(a===vt||r<vt&&vt<a||(vt<a||r<vt)&&l)&&a++,(a===_t||r<_t&&_t<a||(_t<a||r<_t)&&l)&&++a===vt&&a++,bt<a&&(a=a-bt+yt-1),l=gt<s&&(s=s-gt+yt-1,!0),(s===vt||o<vt&&vt<s||(vt<s||o<vt)&&l)&&s++,(s===_t||o<_t&&_t<s||(_t<s||o<_t)&&l)&&++s===vt&&s++,gt<s&&(s=s-gt+yt-1),String.fromCharCode(a)+String.fromCharCode(s)}(r,o,i)}(n.easting,n.northing,n.zoneNumber)+r.substr(r.length-5,i)+o.substr(o.length-5,i);var n,i,r,o}function xt(t){var e=Mt(Ct(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Pt(t){return t*(Math.PI/180)}function Et(t){return t/Math.PI*180}function Mt(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||60<r)return null;var o,a,s,l,u,c,h,f,d,p=.00669438,m=(1-Math.sqrt(1-p))/(1+Math.sqrt(1-p)),y=n-5e5,v=e;i<"N"&&(v-=1e7),h=6*(r-1)-180+3,o=p/(1-p),d=(f=v/.9996/6367449.145945056)+(3*m/2-27*m*m*m/32)*Math.sin(2*f)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*f)+151*m*m*m/96*Math.sin(6*f),a=6378137/Math.sqrt(1-p*Math.sin(d)*Math.sin(d)),s=Math.tan(d)*Math.tan(d),l=o*Math.cos(d)*Math.cos(d),u=6378137*(1-p)/Math.pow(1-p*Math.sin(d)*Math.sin(d),1.5),c=y/(.9996*a);var _=d-a*Math.tan(d)/u*(c*c/2-(5+3*s+10*l-4*l*l-9*o)*c*c*c*c/24+(61+90*s+298*l+45*s*s-252*o-3*l*l)*c*c*c*c*c*c/720);_=Et(_);var g,b=(c-(1+2*s+l)*c*c*c/6+(5-2*l+28*s-3*l*l+8*o+24*s*s)*c*c*c*c*c/120)/Math.cos(d);if(b=h+Et(b),t.accuracy){var w=Mt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});g={top:w.lat,right:w.lon,bottom:_,left:b}}else g={lat:_,lon:b};return g}function St(t){var e=t%dt;return 0===e&&(e=dt),e}function Ct(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(2<=o)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var a=parseInt(r,10);if(0===o||n<o+3)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||"Z"<=s||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;i=t.substring(o,o+=2);for(var l=St(a),u=function(t,e){var n=pt.charCodeAt(e-1),i=1e5,r=!1;for(;n!==t.charCodeAt(0);){if(++n===vt&&n++,n===_t&&n++,bt<n){if(r)throw"Bad character: "+t;n=yt,r=!0}i+=1e5}return i}(i.charAt(0),l),c=function(t,e){if("V"<t)throw"MGRSPoint given invalid Northing "+t;var n=mt.charCodeAt(e-1),i=0,r=!1;for(;n!==t.charCodeAt(0);){if(++n===vt&&n++,n===_t&&n++,gt<n){if(r)throw"Bad character: "+t;n=yt,r=!0}i+=1e5}return i}(i.charAt(1),l);c<Ot(s);)c+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,d,p,m=h/2,y=0,v=0;return 0<m&&(f=1e5/Math.pow(10,m),d=t.substring(o,o+m),y=parseFloat(d)*f,p=t.substring(o+m),v=parseFloat(p)*f),{easting:y+u,northing:v+c,zoneLetter:s,zoneNumber:a,accuracy:f}}function Ot(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(0<=e)return e;throw"Invalid zone letter: "+t}function Lt(t,e,n){if(!(this instanceof Lt))return new Lt(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Lt.fromMGRS=function(t){return new Lt(xt(t))},Lt.prototype.toMGRS=function(t){return kt([this.x,this.y],t)};function Tt(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*It))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*It)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}function jt(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}function Rt(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var a=Math.sin(r),s=1-e*a*a;if(r-=s=(jt(r,a,Math.cos(r),n)-t)*(s*Math.sqrt(s))*i,Math.abs(s)<T)return r}return r}var It=.01068115234375;function Nt(t){var e=Math.exp(t);return e=(e-1/e)/2}function At(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function Bt(t){var e,n,i,r=Math.abs(t);return e=r*(1+r/(At(1,r)+1)),r=0==(i=(n=1+e)-1)?e:e*Math.log(n)/i,t<0?-r:r}function zt(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],a=0;0<=--r;)n=i*o-a+t[r],a=o,o=n;return e+n*Math.sin(2*e)}function Ht(t,e,n){for(var i,r,o,a,s=Math.sin(e),l=Math.cos(e),u=Nt(n),c=(i=n,r=((r=Math.exp(i))+1/r)/2),h=2*l*c,f=-2*s*u,d=t.length-1,p=t[d],m=0,y=0,v=0;0<=--d;)o=y,a=m,p=h*(y=p)-o-f*(m=v)+t[d],v=f*y-a+h*m;return[(h=s*c)*p-(f=l*u)*v,h*v+f*p]}var Dt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Tt(this.es),this.ml0=jt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.x,o=t.y,a=D(r-this.long0),s=Math.sin(o),l=Math.cos(o);if(this.es){var u=l*a,c=Math.pow(u,2),h=this.ep2*Math.pow(l,2),f=Math.pow(h,2),d=Math.abs(l)>T?Math.tan(o):0,p=Math.pow(d,2),m=Math.pow(p,2);e=1-this.es*Math.pow(s,2),u/=Math.sqrt(e);var y=jt(o,s,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-p+h+c/20*(5-18*p+m+14*h-58*p*h+c/42*(61+179*m-m*p-479*p)))))+this.x0,i=this.a*(this.k0*(y-this.ml0+s*a*u/2*(1+c/12*(5-p+9*h+4*f+c/30*(61+m-58*p+270*h-330*p*h+c/56*(1385+543*m-m*p-3111*p))))))+this.y0}else{var v=l*Math.sin(a);if(Math.abs(Math.abs(v)-1)<T)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,i=l*Math.cos(a)/Math.sqrt(1-Math.pow(v,2)),1<=(v=Math.abs(i))){if(T<v-1)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=Rt(e,this.es,this.en),Math.abs(n)<C){var s=Math.sin(n),l=Math.cos(n),u=Math.abs(l)>T?Math.tan(n):0,c=this.ep2*Math.pow(l,2),h=Math.pow(c,2),f=Math.pow(u,2),d=Math.pow(f,2);e=1-this.es*Math.pow(s,2);var p=o*Math.sqrt(e)/this.k0,m=Math.pow(p,2);i=n-(e*=u)*m/(1-this.es)*.5*(1-m/12*(5+3*f-9*c*f+c-4*h-m/30*(61+90*f-252*c*f+45*d+46*c-m/56*(1385+3633*f+4095*d+1574*d*f)))),r=D(this.long0+p*(1-m/6*(1+2*f+c-m/20*(5+28*f+24*d+8*c*f+6*c-m/42*(61+662*f+1320*d+720*d*f))))/l)}else i=C*H(a),r=0;else{var y=Math.exp(o/this.k0),v=.5*(y-1/y),_=this.lat0+a/this.k0,g=Math.cos(_);e=Math.sqrt((1-Math.pow(g,2))/(1+Math.pow(v,2))),i=Math.asin(e),a<0&&(i=-i),r=0==v&&0===g?0:D(Math.atan2(v,g)+this.long0)}return t.x=r,t.y=i,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]};var Ft={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+-2854/675*e))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+4642/4725*e))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+2323/945*e))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+-1522/945*e)))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+73814/2835*e))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+-12686/2835*e))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+-399572/14175*e)),this.cbg[3]=n*(1237/630+e*(-24832/14175*e-2.4)),n*=e,this.cgb[4]=n*(4174/315+-144838/6237*e),this.cbg[4]=n*(-734/315+109598/31185*e),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+-96199/604800*e))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+7891/37800*e))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+1118711/3870720*e)))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+-1983433/1935360*e))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+-5569/90720*e))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+167603/181440*e))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+830251/7257600*e)),this.gtu[3]=n*(49561/161280+e*(-179/168+6601661/7257600*e)),n*=e,this.utg[4]=n*(-4583/161280+108847/3991680*e),this.gtu[4]=n*(34729/80640+-3418889/1995840*e),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var i=zt(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],a=0;0<=--r;)n=i*o-a+t[r],a=o,o=n;return Math.sin(e)*n}(this.gtu,2*i))},forward:function(t){var e=D(t.x-this.long0),n=t.y;n=zt(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),a=Math.cos(e);n=Math.atan2(i,a*r),e=Math.atan2(o*r,At(i,r*a)),e=Bt(Math.tan(e));var s,l,u=Ht(this.gtu,2*n,2*e);return n+=u[0],e+=u[1],l=Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,this.a*(this.Qn*n+this.Zb)+this.y0):s=1/0,t.x=s,t.y=l,t},inverse:function(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=Ht(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(Nt(i));var a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i);r=Math.atan2(a*u,At(l,u*s)),i=Math.atan2(l,u*s),e=D(i+this.long0),n=zt(this.cgb,r)}else n=e=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]};function Ut(t,e){return Math.pow((1-t)/(1+t),e)}var Zt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(D(e)+Math.PI)/Math.PI)+1)<0)return 0;if(60<t)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*s,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ft.init.apply(this),this.forward=Ft.forward,this.inverse=Ft.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};var Vt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+m)/(Math.pow(Math.tan(.5*this.lat0+m),this.C)*Ut(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+m),this.C)*Ut(this.e*Math.sin(n),this.ratexp))-C,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+m)/this.K,1/this.C),r=20;0<r&&(n=2*Math.atan(i*Ut(this.e*Math.sin(t.y),-.5*this.e))-C,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null},names:["gauss"]};var qt={init:function(){Vt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=D(t.x-this.long0),Vt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),n=Math.cos(a),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,Vt.inverse.apply(this,[t]),t.x=D(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var Wt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=T&&(this.k0=.5*(1+H(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=T&&(0<this.lat0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=T&&(this.k0=.5*this.cons*z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/F(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=z(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-C,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,r,o,a,s=t.x,l=t.y,u=Math.sin(l),c=Math.cos(l),h=D(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=T&&Math.abs(l+this.lat0)<=T?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(h)),t.x=this.a*e*c*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*u-this.sinlat0*c*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(l,u,this.e))-C,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=T?(o=F(this.e,l*this.con,this.con*u),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0)):(Math.abs(this.sinlat0)<T?(e=2*this.a*this.k0/(1+r*Math.cos(h)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(h))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(h))+this.y0),t.x=e*r*Math.sin(h)+this.x0),t)},inverse:function(t){var e,n,i,r,o;t.x-=this.x0,t.y-=this.y0;var a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return(e=this.long0,n=this.lat0,a<=T)?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/a),e=Math.abs(this.coslat0)<T?0<this.lat0?D(this.long0+Math.atan2(t.x,-1*t.y)):D(this.long0+Math.atan2(t.x,t.y)):D(this.long0+Math.atan2(t.x*Math.sin(s),a*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=T){if(a<=T)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*U(this.e,i),e=this.con*D(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=T?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/a),e=D(this.long0+Math.atan2(t.x*Math.sin(r),a*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*U(this.e,Math.tan(.5*(C+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(C+t))*Math.pow((1-e)/(1+e),.5*n)}};var Gt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,u=o,c=-1e3,h=0;1e-7<Math.abs(u-c);){if(20<++h)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=u,t},names:["somerc"]};var Kt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i,r,o=F(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(a*a<1&&(a=1),isNaN(this.longc)){var s=F(this.e,this.lat1,Math.sin(this.lat1)),l=F(this.e,this.lat2,Math.sin(this.lat2));0<=this.lat0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var u=Math.pow(s,this.bl),c=Math.pow(l,this.bl);r=.5*((i=this.el/u)-1/i);var h=(this.el*this.el-c*u)/(this.el*this.el+c*u),f=(c-u)/(c+u),d=D(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*d)/f)/this.bl,this.long0=D(this.long0);var p=D(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/r),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else i=0<=this.lat0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=i*Math.pow(o,this.bl),r=.5*(i-1/i),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:0<=this.lat0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},forward:function(t){var e,n,i,r=t.x,o=t.y,a=D(r-this.long0);if(Math.abs(Math.abs(o)-C)<=T)i=0<o?-1:1,n=this.al/this.bl*Math.log(Math.tan(m+i*this.gamma0*.5)),e=-1*i*C*this.al/this.bl;else{var s=F(this.e,o,Math.sin(o)),l=this.el/Math.pow(s,this.bl),u=.5*(l-1/l),c=.5*(l+1/l),h=Math.sin(this.bl*a),f=(u*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(f)-1)<=T?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-f)/(1+f))/this.bl,e=Math.abs(Math.cos(this.bl*a))<=T?this.al*this.bl*a:this.al*Math.atan2(u*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),r=.5*(i-1/i),o=.5*(i+1/i),a=Math.sin(this.bl*e/this.al),s=(a*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,l=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<T?(t.x=this.long0,t.y=C):Math.abs(1+s)<T?(t.x=this.long0,t.y=-1*C):(t.y=U(this.e,l),t.x=D(this.long0-Math.atan2(r*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var $t={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<T)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=z(this.e,e,n),r=F(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=z(this.e,o,a),l=F(this.e,this.lat2,o),u=F(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>T?this.ns=Math.log(i/s)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=T&&(n=H(n)*(C-2*T));var i,r,o=Math.abs(Math.abs(n)-C);if(T<o)i=F(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var a=this.ns*D(e-this.long0);return t.x=this.k0*(r*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,t},inverse:function(t){var e,n,i,r,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;n=0<this.ns?(e=Math.sqrt(a*a+s*s),1):(e=-Math.sqrt(a*a+s*s),-1);var l=0;if(0!==e&&(l=Math.atan2(n*a,n*s)),0!==e||0<this.ns){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=U(this.e,i)))return null}else r=-C;return o=D(l/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};function Qt(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function Yt(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Jt(t){return.375*t*(1+.25*t*(1+.46875*t))}function Xt(t){return.05859375*t*t*(1+.75*t)}function te(t){return t*t*t*(35/3072)}function ee(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function ne(t){return Math.abs(t)<C?t:t-H(t)*Math.PI}function ie(t,e,n,i,r){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN}var re={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,a,s,l=t.x,u=t.y,c=D(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=s*Math.cos(a),t.x=s*Math.sin(a),this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,a,s,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e;for(var u=s=0;t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,u+=1,0===s&&u<15;);return 15<=u?null:t},names:["Krovak","krovak"]};function oe(t,e){var n;return 1e-7<t?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e}var ae={init:function(){this.sphere||(this.e0=Yt(this.es),this.e1=Jt(this.es),this.e2=Xt(this.es),this.e3=te(this.es),this.ml0=this.a*Qt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=D(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),a=Math.cos(r),s=ee(this.a,this.e,o),l=Math.tan(r)*Math.tan(r),u=i*Math.cos(r),c=u*u,h=this.es*a*a/(1-this.es);e=s*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=this.a*Qt(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*o/a*c*(.5+(5-l+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var a=this.ml0/this.a+r,s=ie(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-C)<=T)return t.x=this.long0,t.y=C,r<0&&(t.y*=-1),t;var l=ee(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),h=i*this.a/l,f=h*h;e=s-l*Math.tan(s)/u*h*h*(.5-(1+3*c)*h*h/24),n=h*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(s)}return t.x=D(n+this.long0),t.y=ne(e),t},names:["Cassini","Cassini_Soldner","cass"]};var se=.3333333333333333,le=.17222222222222222,ue=.10257936507936508,ce=.06388888888888888,he=.0664021164021164,fe=.016415012942191543;function de(t){return 1<Math.abs(t)&&(t=1<t?1:-1),Math.asin(t)}var pe={init:function(){var t,e,n,i,r=Math.abs(this.lat0);if(Math.abs(r-C)<T?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(r)<T?this.mode=this.EQUIT:this.mode=this.OBLIQ,0<this.es)switch(this.qp=oe(this.e,1),this.mmf=.5/(1-this.es),this.apa=(e=this.es,(i=[])[0]=e*se,n=e*e,i[0]+=n*le,i[1]=n*ce,n*=e,i[0]+=n*ue,i[1]+=n*he,i[2]=n*fe,i),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=oe(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,r,o,a,s,l,u,c,h=t.x,f=t.y;if(h=D(h-this.long0),this.sphere){if(o=Math.sin(f),c=Math.cos(f),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*i:1+this.sinph0*o+this.cosph0*c*i)<=T)return null;e=(n=Math.sqrt(2/n))*c*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.phi0)<T)return null;n=m-.5*f,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=i}}else{switch(u=l=s=0,i=Math.cos(h),r=Math.sin(h),o=Math.sin(f),a=oe(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*l*i;break;case this.EQUIT:u=1+l*i;break;case this.N_POLE:u=C+f,a=this.qp-a;break;case this.S_POLE:u=f-C,a=this.qp+a}if(Math.abs(u)<T)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*l*i):(u=Math.sqrt(2/(1+l*i)))*s*this.ymf,e=this.xmf*u*l*r;break;case this.N_POLE:case this.S_POLE:0<=a?(e=(u=Math.sqrt(a))*r,n=i*(this.mode===this.S_POLE?u:-u)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,a,s,l,u,c,h=t.x/this.a,f=t.y/this.a;if(this.sphere){var d,p=0,m=0;if(1<(n=.5*(d=Math.sqrt(h*h+f*f))))return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=T?0:Math.asin(f*m/d),h*=m,f=p*d;break;case this.OBLIQ:n=Math.abs(d)<=T?this.phi0:Math.asin(p*this.sinph0+f*m*this.cosph0/d),h*=m*this.cosph0,f=(p-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:f=-f,n=C-n;break;case this.S_POLE:n-=C}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,f):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,f*=this.dd,(a=Math.sqrt(h*h+f*f))<T)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*a/this.rq),i=Math.cos(r),h*=r=Math.sin(r),f=this.mode===this.OBLIQ?(s=i*this.sinb1+f*r*this.cosb1/a,o=this.qp*s,a*this.cosb1*i-f*this.sinb1*r):(s=f*r/a,o=this.qp*s,a*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(o=h*h+f*f))return t.x=0,t.y=this.phi0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(h,f),l=Math.asin(s),u=this.apa,c=l+l,n=l+u[0]*Math.sin(c)+u[1]*Math.sin(c+c)+u[2]*Math.sin(c+c+c)}return t.x=D(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};var me={init:function(){Math.abs(this.lat1+this.lat2)<T||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=z(this.e3,this.sin_po,this.cos_po),this.qs1=oe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=z(this.e3,this.sin_po,this.cos_po),this.qs2=oe(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=oe(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>T?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=oe(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*D(e-this.long0),a=r*Math.sin(o)+this.x0,s=this.rh-r*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,i=0<=this.ns0?(e=Math.sqrt(t.x*t.x+t.y*t.y),1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),-1),(r=0)!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,a=this.sphere?Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,this.phi1z(this.e3,n)),o=D(r/this.ns0+this.long0),t.x=o,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,a=de(.5*e);if(t<T)return a;for(var s=t*t,l=1;l<=25;l++)if(a+=o=.5*(r=1-(i=t*(n=Math.sin(a)))*i)*r/Math.cos(a)*(e/(1-s)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return a;return null}};var ye={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,a,s,l=t.x,u=t.y;return i=D(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),s=0<(o=this.sin_p14*e+this.cos_p14*n*r)||Math.abs(o)<=T?(a=this.x0+this.a*n*Math.sin(i)/o,this.y0+this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),a=de(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),D(this.long0+o)):(a=this.phic0,0),t.x=o,t.y=a,t},names:["gnom"]};var ve={init:function(){this.sphere||(this.k0=z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.x,r=t.y,o=D(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=oe(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=D(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*C:C;for(var i,r,o,a,s=Math.asin(.5*e),l=0;l<30;l++)if(r=Math.sin(s),o=Math.cos(s),a=t*r,s+=i=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-r/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(i)<=1e-10)return s;return NaN}(this.e,2*t.y*this.k0/this.a),e=D(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};var _e={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,i=D(e-this.long0),r=ne(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,n=t.y;return t.x=D(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=ne(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var ge={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Yt(this.es),this.e1=Jt(this.es),this.e2=Xt(this.es),this.e3=te(this.es),this.ml0=this.a*Qt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.x,o=t.y,a=D(r-this.long0);if(i=a*Math.sin(o),this.sphere)n=Math.abs(o)<=T?(e=this.a*a,-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),this.a*(ne(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=T)e=this.a*a,n=-1*this.ml0;else{var s=ee(this.a,this.e,Math.sin(o))/Math.tan(o);e=s*Math.sin(i),n=this.a*Qt(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,a,s,l,u;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=T)e=D(i/this.a+this.long0),n=0;else{var c;for(a=this.lat0+r/this.a,s=i*i/this.a/this.a+a*a,l=a,o=20;o;--o)if(l+=u=-1*(a*(l*(c=Math.tan(l))+1)-l-.5*(l*l+s)*c)/((l-a)/c-1),Math.abs(u)<=T){n=l;break}e=D(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=T)n=0,e=D(this.long0+i/this.a);else{var h,f,d,p,m;for(a=(this.ml0+r)/this.a,s=i*i/this.a/this.a+a*a,l=a,o=20;o;--o)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),f=this.a*Qt(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(a*(h*(p=f/this.a)+1)-p-.5*h*(p*p+s))/(this.es*Math.sin(2*l)*(p*p+s-2*a*p)/(4*h)+(a-p)*(h*d-2/Math.sin(2*l))-d),Math.abs(u)<=T){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=D(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};var be={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,i=t.y-this.lat0,r=n-this.long0,o=i/S*1e-5,a=r,s=1,l=0;for(e=1;e<=10;e++)s*=o,l+=this.A[e]*s;var u,c=l,h=a,f=1,d=0,p=0,m=0;for(e=1;e<=6;e++)u=d*c+f*h,f=f*c-d*h,d=u,p=p+this.B_re[e]*f-this.B_im[e]*d,m=m+this.B_im[e]*f+this.B_re[e]*d;return t.x=m*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var e,n,i=t.x,r=t.y,o=i-this.x0,a=(r-this.y0)/this.a,s=o/this.a,l=1,u=0,c=0,h=0;for(e=1;e<=6;e++)n=u*a+l*s,l=l*a-u*s,u=n,c=c+this.C_re[e]*l-this.C_im[e]*u,h=h+this.C_im[e]*l+this.C_re[e]*u;for(var f=0;f<this.iterations;f++){var d,p=c,m=h,y=a,v=s;for(e=2;e<=6;e++)d=m*c+p*h,p=p*c-m*h,m=d,y+=(e-1)*(this.B_re[e]*p-this.B_im[e]*m),v+=(e-1)*(this.B_im[e]*p+this.B_re[e]*m);p=1,m=0;var _=this.B_re[1],g=this.B_im[1];for(e=2;e<=6;e++)d=m*c+p*h,p=p*c-m*h,m=d,_+=e*(this.B_re[e]*p-this.B_im[e]*m),g+=e*(this.B_im[e]*p+this.B_re[e]*m);var b=_*_+g*g;c=(y*_+v*g)/b,h=(v*_-y*g)/b}var w=c,k=h,x=1,P=0;for(e=1;e<=9;e++)x*=w,P+=this.D[e]*x;var E=this.lat0+P*S*1e5,M=this.long0+k;return t.x=M,t.y=E,t},names:["New_Zealand_Map_Grid","nzmg"]};var we={init:function(){},forward:function(t){var e=t.x,n=t.y,i=D(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=D(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]};var ke={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Tt(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=D(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),a=20;a;--a){var s=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<T)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);n=this.a*jt(r,l,u,this.en),e=this.a*i*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=de((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=de(Math.sin(e)/this.n)),i=D(i+this.long0),e=ne(e)):(e=Rt(t.y/this.a,this.es,this.en),(r=Math.abs(e))<C?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=D(n)):r-T<C&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]};var xe={init:function(){},forward:function(t){for(var e=t.x,n=t.y,i=D(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var a=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=a,Math.abs(a)<T)break}r/=2,Math.PI/2-Math.abs(n)<T&&(i=0);var s=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=s,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),.999999999999<Math.abs(n)&&(n=.999999999999),e=Math.asin(n);var i=D(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,1<Math.abs(n)&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]};var Pe={init:function(){Math.abs(this.lat1+this.lat2)<T||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Yt(this.es),this.e1=Jt(this.es),this.e2=Xt(this.es),this.e3=te(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=z(this.e,this.sinphi,this.cosphi),this.ml1=Qt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<T?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=z(this.e,this.sinphi,this.cosphi),this.ml2=Qt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Qt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=Qt(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*D(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,e=0<=this.ns?(n=Math.sqrt(t.x*t.x+t.y*t.y),1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=D(this.long0+o/this.ns),i=ne(this.g-n/this.a),t.x=r,t.y=i,t;var a=this.g-n/this.a;return i=ie(a,this.e0,this.e1,this.e2,this.e3),r=D(this.long0+o/this.ns),t.x=r,t.y=i,t},names:["Equidistant_Conic","eqdc"]};var Ee={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.x,r=t.y,o=D(i-this.long0);Math.abs(r)<=T&&(e=this.x0+this.R*o,n=this.y0);var a=de(2*Math.abs(r/Math.PI));(Math.abs(o)<=T||Math.abs(Math.abs(r)-C)<=T)&&(e=this.x0,n=0<=r?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),l=s*s,u=Math.sin(a),c=Math.cos(a),h=c/(u+c-1),f=h*h,d=h*(2/u-1),p=d*d,m=Math.PI*this.R*(s*(h-p)+Math.sqrt(l*(h-p)*(h-p)-(p+l)*(f-p)))/(p+l);o<0&&(m=-m),e=this.x0+m;var y=l+h;return m=Math.PI*this.R*(d*y-s*Math.sqrt((p+l)*(1+l)-y*y))/(p+l),n=0<=r?this.y0+m:this.y0-m,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,a,s,l,u,c,h,f;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(i=t.x/h)*i+(r=t.y/h)*r,h=3*(r*r/(l=-2*(a=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(s=a-2*r*r+i*i)*s*s/l/l/l-9*a*s/l/l)/27)/(u=(a-s*s/3/l)/l)/(c=2*Math.sqrt(-u/3)),1<Math.abs(h)&&(h=0<=h?1:-1),f=Math.acos(h)/3,n=0<=t.y?(-c*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI:-(-c*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI,e=Math.abs(i)<T?this.long0:D(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Me={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,a,s,l,u,c,h,f,d,p,m,y,v,_,g,b,w,k,x=t.x,P=t.y,E=Math.sin(t.y),M=Math.cos(t.y),S=D(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=T?(t.x=this.x0+this.a*(C-P)*Math.sin(S),t.y=this.y0-this.a*(C-P)*Math.cos(S)):Math.abs(this.sin_p12+1)<=T?(t.x=this.x0+this.a*(C+P)*Math.sin(S),t.y=this.y0+this.a*(C+P)*Math.cos(S)):(_=this.sin_p12*E+this.cos_p12*M*Math.cos(S),v=(y=Math.acos(_))/Math.sin(y),t.x=this.x0+this.a*v*M*Math.sin(S),t.y=this.y0+this.a*v*(this.cos_p12*E-this.sin_p12*M*Math.cos(S))):(e=Yt(this.es),n=Jt(this.es),i=Xt(this.es),r=te(this.es),Math.abs(this.sin_p12-1)<=T?(o=this.a*Qt(e,n,i,r,C),a=this.a*Qt(e,n,i,r,P),t.x=this.x0+(o-a)*Math.sin(S),t.y=this.y0-(o-a)*Math.cos(S)):Math.abs(this.sin_p12+1)<=T?(o=this.a*Qt(e,n,i,r,C),a=this.a*Qt(e,n,i,r,P),t.x=this.x0+(o+a)*Math.sin(S),t.y=this.y0+(o+a)*Math.cos(S)):(s=E/M,l=ee(this.a,this.e,this.sin_p12),u=ee(this.a,this.e,E),c=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(u*M)),g=0===(h=Math.atan2(Math.sin(S),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(S)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(h)-Math.PI)<=T?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(S)*Math.cos(c)/Math.sin(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),y=l*g*(1-(b=g*g)*(m=(d=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*d)*(1-m)/6+(w=b*g)/8*(p=f*d)*(1-2*m)+(k=w*g)/120*(m*(4-7*m)-3*f*f*(1-7*m))-k*g/48*p),t.x=this.x0+y*Math.sin(h),t.y=this.y0+y*Math.cos(h))),t},inverse:function(t){var e,n,i,r,o,a,s,l,u,c,h,f,d,p,m,y,v,_,g,b,w,k;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*C*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=T?a=this.lat0:(a=de(r*this.sin_p12+t.y*i*this.cos_p12/e),s=Math.abs(this.lat0)-C,o=Math.abs(s)<=T?0<=this.lat0?D(this.long0+Math.atan2(t.x,-t.y)):D(this.long0-Math.atan2(-t.x,t.y)):D(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=a,t}return l=Yt(this.es),u=Jt(this.es),c=Xt(this.es),h=te(this.es),Math.abs(this.sin_p12-1)<=T?(f=this.a*Qt(l,u,c,h,C),e=Math.sqrt(t.x*t.x+t.y*t.y),a=ie((f-e)/this.a,l,u,c,h),o=D(this.long0+Math.atan2(t.x,-1*t.y))):Math.abs(this.sin_p12+1)<=T?(f=this.a*Qt(l,u,c,h,C),e=Math.sqrt(t.x*t.x+t.y*t.y),a=ie((e-f)/this.a,l,u,c,h),o=D(this.long0+Math.atan2(t.x,t.y))):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),d=ee(this.a,this.e,this.sin_p12),y=Math.cos(m),_=-(v=this.e*this.cos_p12*y)*v/(1-this.es),g=3*this.es*(1-_)*this.sin_p12*this.cos_p12*y/(1-this.es),k=1-_*(w=(b=e/d)-_*(1+_)*Math.pow(b,3)/6-g*(1+3*_)*Math.pow(b,4)/24)*w/2-b*w*w*w/6,p=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*y),o=D(this.long0+Math.asin(Math.sin(m)*Math.sin(w)/Math.cos(p))),a=Math.atan((1-this.es*k*this.sin_p12/Math.sin(p))*Math.tan(p)/(1-this.es))),t.x=o,t.y=a,t},names:["Azimuthal_Equidistant","aeqd"]};var Se={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,a,s,l=t.x,u=t.y;return i=D(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),(0<(o=this.sin_p14*e+this.cos_p14*n*r)||Math.abs(o)<=T)&&(a=this.a*n*Math.sin(i),s=this.y0+this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r,o,a,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=de(e/this.a),i=Math.sin(n),r=Math.cos(n),a=this.long0,Math.abs(e)<=T?(s=this.lat0,t.x=a,t.y=s,t):(s=de(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-C,a=Math.abs(o)<=T?0<=this.lat0?D(this.long0+Math.atan2(t.x,-t.y)):D(this.long0-Math.atan2(-t.x,t.y)):D(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=a,t.y=s,t)},names:["ortho"]},Ce=1,Oe=2,Le=3,Te=4,je=5,Re=6,Ie={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Ne(t,e,n,i){var r;return t<T?(i.value=Ie.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=m?i.value=Ie.AREA_0:m<r&&r<=C+m?(i.value=Ie.AREA_1,r-=C):C+m<r||r<=-(C+m)?(i.value=Ie.AREA_2,r=0<=r?r-_:r+_):(i.value=Ie.AREA_3,r+=C)),r}function Ae(t,e){var n=t+e;return n<-_?n+=i:+_<n&&(n-=i),n}function Be(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))}var ze={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=C-m/2?this.face=je:this.lat0<=-(C-m/2)?this.face=Re:Math.abs(this.long0)<=m?this.face=Ce:Math.abs(this.long0)<=C+m?this.face=0<this.long0?Oe:Te:this.face=Le,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,r,o,a,s={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===je)r=C-e,i=m<=n&&n<=C+m?(l.value=Ie.AREA_0,n-C):C+m<n||n<=-(C+m)?(l.value=Ie.AREA_1,0<n?n-_:n+_):-(C+m)<n&&n<=-m?(l.value=Ie.AREA_2,n+C):(l.value=Ie.AREA_3,n);else if(this.face===Re)r=C+e,i=m<=n&&n<=C+m?(l.value=Ie.AREA_0,-n+C):n<m&&-m<=n?(l.value=Ie.AREA_1,-n):n<-m&&-(C+m)<=n?(l.value=Ie.AREA_2,-n-C):(l.value=Ie.AREA_3,0<n?-n+_:-n-_);else{var u,c,h,f,d,p;this.face===Oe?n=Ae(n,+C):this.face===Le?n=Ae(n,+_):this.face===Te&&(n=Ae(n,-C)),f=Math.sin(e),d=Math.cos(e),p=Math.sin(n),u=d*Math.cos(n),c=d*p,h=f,this.face===Ce?i=Ne(r=Math.acos(u),h,c,l):this.face===Oe?i=Ne(r=Math.acos(c),h,-u,l):this.face===Le?i=Ne(r=Math.acos(-u),h,-c,l):this.face===Te?i=Ne(r=Math.acos(-c),h,u,l):(r=i=0,l.value=Ie.AREA_0)}return a=Math.atan(12/_*(i+Math.acos(Math.sin(i)*Math.cos(m))-C)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Ie.AREA_1?a+=C:l.value===Ie.AREA_2?a+=_:l.value===Ie.AREA_3&&(a+=1.5*_),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t},inverse:function(t){var e,n,i,r,o,a,s,l,u,c,h,f,d={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),0<=t.x&&t.x>=Math.abs(t.y)?p.value=Ie.AREA_0:0<=t.y&&t.y>=Math.abs(t.x)?(p.value=Ie.AREA_1,e-=C):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=Ie.AREA_2,e=e<0?e+_:e-_):(p.value=Ie.AREA_3,e+=C),u=_/12*Math.tan(e),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),(s=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?s=-1:1<s&&(s=1),this.face===je)l=Math.acos(s),d.phi=C-l,p.value===Ie.AREA_0?d.lam=a+C:p.value===Ie.AREA_1?d.lam=a<0?a+_:a-_:p.value===Ie.AREA_2?d.lam=a-C:d.lam=a;else if(this.face===Re)l=Math.acos(s),d.phi=l-C,p.value===Ie.AREA_0?d.lam=-a+C:p.value===Ie.AREA_1?d.lam=-a:p.value===Ie.AREA_2?d.lam=-a-C:d.lam=a<0?-a-_:-a+_;else{var m,y,v;u=(m=s)*m,y=1<=(u+=(v=1<=u?0:Math.sqrt(1-u)*Math.sin(a))*v)?0:Math.sqrt(1-u),p.value===Ie.AREA_1?(u=y,y=-v,v=u):p.value===Ie.AREA_2?(y=-y,v=-v):p.value===Ie.AREA_3&&(u=y,y=v,v=-u),this.face===Oe?(u=m,m=-y,y=u):this.face===Le?(m=-m,y=-y):this.face===Te&&(u=m,m=y,y=-u),d.phi=Math.acos(-v)-C,d.lam=Math.atan2(y,m),this.face===Oe?d.lam=Ae(d.lam,-C):this.face===Le?d.lam=Ae(d.lam,-_):this.face===Te&&(d.lam=Ae(d.lam,+C))}return 0!==this.es&&(c=d.phi<0?1:0,h=Math.tan(d.phi),f=this.b/Math.sqrt(h*h+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),c&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},He=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],De=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Fe=l/5,Ue=1/Fe;var Ze={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=D(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*Fe);i<0?i=0:18<=i&&(i=17);var r={x:Be(He[i],n=l*(n-Ue*i))*e,y:Be(De[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var i={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(1<=i.y)i.x/=He[18][0],i.y=t.y<0?-C:C;else{var e=Math.floor(18*i.y);for(e<0?e=0:18<=e&&(e=17);;)if(De[e][0]>i.y)--e;else{if(!(De[e+1][0]<=i.y))break;++e}var r=De[e],n=5*(i.y-r[0])/(De[e+1][0]-r[0]);n=function(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}(function(t){return(Be(r,t)-i.y)/(n=t,(e=r)[1]+n*(2*e[2]+3*n*e[3]));var e,n},n,T,100),i.x/=Be(He[e],n),i.y=(5*e+n)*s,t.y<0&&(i.y=-i.y)}return i.x=D(i.x+this.long0),i},names:["Robinson","robin"]};var Ve,qe={init:function(){this.name="geocent"},forward:function(t){return tt(t,this.es,this.a)},inverse:function(t){return et(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};return ft.defaultDatum="WGS84",ft.Proj=X,ft.WGS84=new ft.Proj("WGS84"),ft.Point=Lt,ft.toPoint=ot,ft.defs=I,ft.transform=lt,ft.mgrs=wt,ft.version="2.6.0",(Ve=ft).Proj.projections.add(Dt),Ve.Proj.projections.add(Ft),Ve.Proj.projections.add(Zt),Ve.Proj.projections.add(qt),Ve.Proj.projections.add(Wt),Ve.Proj.projections.add(Gt),Ve.Proj.projections.add(Kt),Ve.Proj.projections.add($t),Ve.Proj.projections.add(re),Ve.Proj.projections.add(ae),Ve.Proj.projections.add(pe),Ve.Proj.projections.add(me),Ve.Proj.projections.add(ye),Ve.Proj.projections.add(ve),Ve.Proj.projections.add(_e),Ve.Proj.projections.add(ge),Ve.Proj.projections.add(be),Ve.Proj.projections.add(we),Ve.Proj.projections.add(ke),Ve.Proj.projections.add(xe),Ve.Proj.projections.add(Pe),Ve.Proj.projections.add(Ee),Ve.Proj.projections.add(Me),Ve.Proj.projections.add(Se),Ve.Proj.projections.add(ze),Ve.Proj.projections.add(Ze),Ve.Proj.projections.add(qe),ft},"object"==typeof n&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):i.proj4=r()},{}],48:[function(i,r,t){!function(t){var e,n;if("function"==typeof define&&define.amd)define(["leaflet","proj4"],t);else if("object"==typeof r&&"object"==typeof r.exports)e=i("leaflet"),n=i("proj4"),r.exports=t(e,n);else{if(void 0===window.L||void 0===window.proj4)throw"Leaflet and proj4 must be loaded first";t(window.L,window.proj4)}}(function(a,i){return i.__esModule&&i.default&&(i=i.default),a.Proj={},a.Proj._isProj4Obj=function(t){return void 0!==t.inverse&&void 0!==t.forward},a.Proj.Projection=a.Class.extend({initialize:function(t,e,n){var i=a.Proj._isProj4Obj(t);this._proj=i?t:this._projFromCodeDef(t,e),this.bounds=i?e:n},project:function(t){var e=this._proj.forward([t.lng,t.lat]);return new a.Point(e[0],e[1])},unproject:function(t,e){var n=this._proj.inverse([t.x,t.y]);return new a.LatLng(n[1],n[0],e)},_projFromCodeDef:function(t,e){if(e)i.defs(t,e);else if(void 0===i.defs[t]){var n=t.split(":");if(3<n.length&&(t=n[n.length-3]+":"+n[n.length-1]),void 0===i.defs[t])throw"No projection definition for code "+t}return i(t)}}),a.Proj.CRS=a.Class.extend({includes:a.CRS,options:{transformation:new a.Transformation(1,0,-1,0)},initialize:function(t,e,n){var i,r;if(a.Proj._isProj4Obj(t)?(i=t.srsCode,r=e||{},this.projection=new a.Proj.Projection(t,r.bounds)):(i=t,r=n||{},this.projection=new a.Proj.Projection(i,e,r.bounds)),a.Util.setOptions(this,r),this.code=i,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new a.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var o=this.options.resolutions.length-1;0<=o;o--)this.options.resolutions[o]&&(this._scales[o]=1/this.options.resolutions[o])}this.infinite=!this.options.bounds},scale:function(t){var e,n=Math.floor(t);return t===n?this._scales[t]:(e=this._scales[n])+(this._scales[n+1]-e)*(t-n)},zoom:function(t){var e,n,i=this._closestElement(this._scales,t),r=this._scales.indexOf(i);return t===i?r:void 0===i?-1/0:(n=r+1,void 0===(e=this._scales[n])?1/0:(t-i)/(e-i)+r)},distance:a.CRS.Earth.distance,R:a.CRS.Earth.R,_closestElement:function(t,e){for(var n,i=t.length;i--;)t[i]<=e&&(void 0===n||n<t[i])&&(n=t[i]);return n}}),a.Proj.GeoJSON=a.GeoJSON.extend({initialize:function(t,e){this._callLevel=0,a.GeoJSON.prototype.initialize.call(this,t,e)},addData:function(t){var n;t&&(t.crs&&"name"===t.crs.type?n=new a.Proj.CRS(t.crs.properties.name):t.crs&&t.crs.type&&(n=new a.Proj.CRS(t.crs.type+":"+t.crs.properties.code)),void 0!==n&&(this.options.coordsToLatLng=function(t){var e=a.point(t[0],t[1]);return n.projection.unproject(e)})),this._callLevel++;try{a.GeoJSON.prototype.addData.call(this,t)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),a.Proj.geoJson=function(t,e){return new a.Proj.GeoJSON(t,e)},a.Proj.ImageOverlay=a.ImageOverlay.extend({initialize:function(t,e,n){a.ImageOverlay.prototype.initialize.call(this,t,null,n),this._projectedBounds=e},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=a.point(this._projectedBounds.min.x,this._projectedBounds.max.y),i=this._projectedToNewLayerPoint(n,t.zoom,t.center);a.DomUtil.setTransform(this._image,i,e)},_reset:function(){var t=this._map.getZoom(),e=this._map.getPixelOrigin(),n=a.bounds(this._transform(this._projectedBounds.min,t)._subtract(e),this._transform(this._projectedBounds.max,t)._subtract(e)),i=n.getSize();a.DomUtil.setPosition(this._image,n.min),this._image.style.width=i.x+"px",this._image.style.height=i.y+"px"},_projectedToNewLayerPoint:function(t,e,n){var i=this._map.getSize()._divideBy(2),r=this._map.project(n,e)._subtract(i)._round().add(this._map._getMapPanePos());return this._transform(t,e)._subtract(r)},_transform:function(t,e){var n=this._map.options.crs,i=n.transformation,r=n.scale(e);return i.transform(t,r)}}),a.Proj.imageOverlay=function(t,e,n){return new a.Proj.ImageOverlay(t,e,n)},a.Proj})},{leaflet:41,proj4:47}],49:[function(t,f,e){(function(n){(function(){"use strict";var e=setTimeout;function l(t){return Boolean(t&&void 0!==t.length)}function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function r(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var t=1===n._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(t){return void s(i.promise,t)}a(i.promise,e)}else(1===n._state?a:s)(i.promise,n._value)})):n._deferreds.push(i)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void h((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){s(e,t)}var i,r}function s(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(t){if(n)return;n=!0,s(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return r(this,new c(t,e,n)),n},o.prototype.finally=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},o.all=function(e){return new o(function(i,r){if(!l(e))return r(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return i([]);var a=o.length;function s(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){s(e,t)},r)}o[e]=t,0==--a&&i(o)}catch(t){r(t)}}for(var t=0;t<o.length;t++)s(t,o[t])})},o.allSettled=function(n){return new this(function(i,t){if(!n||void 0===n.length)return t(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(n);if(0===r.length)return i([]);var o=r.length;function a(e,t){if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){a(e,t)},function(t){r[e]={status:"rejected",reason:t},0==--o&&i(r)})}r[e]={status:"fulfilled",value:t},0==--o&&i(r)}for(var e=0;e<r.length;e++)a(e,r[e])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(n){return new o(function(t,e){e(n)})},o.race=function(r){return new o(function(t,e){if(!l(r))return e(new TypeError("Promise.race accepts an array"));for(var n=0,i=r.length;n<i;n++)o.resolve(r[n]).then(t,e)})},o._immediateFn="function"==typeof n?function(t){n(t)}:function(t){e(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},f.exports=o}).call(this)}).call(this,t("timers").setImmediate)},{timers:91}],50:[function(t,e,n){"use strict";function i(t,e,n,i,r){}i.resetWarningCache=function(){0},e.exports=i},{"./lib/ReactPropTypesSecret":54}],51:[function(t,e,n){"use strict";var s=t("./lib/ReactPropTypesSecret");function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function t(t,e,n,i,r,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}var n={array:t.isRequired=t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n}},{"./lib/ReactPropTypesSecret":54}],52:[function(t,e,n){"use strict";var m=t("react-is"),y=t("object-assign"),v=t("./lib/ReactPropTypesSecret"),r=t("./checkPropTypes"),_=Function.call.bind(Object.prototype.hasOwnProperty),g=function(){};function b(){return null}e.exports=function(a,u){var o="function"==typeof Symbol&&Symbol.iterator,s="@@iterator";var c="<<anonymous>>",t={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),symbol:e("symbol"),any:n(b),arrayOf:function(l){return n(function(t,e,n,i,r){if("function"!=typeof l)return new f("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=t[e];if(!Array.isArray(o))return new f("Invalid "+i+" `"+r+"` of type `"+d(o)+"` supplied to `"+n+"`, expected an array.");for(var a=0;a<o.length;a++){var s=l(o,a,n,i,r+"["+a+"]",v);if(s instanceof Error)return s}return null})},element:n(function(t,e,n,i,r){var o=t[e];return a(o)?null:new f("Invalid "+i+" `"+r+"` of type `"+d(o)+"` supplied to `"+n+"`, expected a single ReactElement.")}),elementType:n(function(t,e,n,i,r){var o=t[e];return m.isValidElementType(o)?null:new f("Invalid "+i+" `"+r+"` of type `"+d(o)+"` supplied to `"+n+"`, expected a single ReactElement type.")}),instanceOf:function(s){return n(function(t,e,n,i,r){if(t[e]instanceof s)return null;var o,a=s.name||c;return new f("Invalid "+i+" `"+r+"` of type `"+((o=t[e]).constructor&&o.constructor.name?o.constructor.name:c)+"` supplied to `"+n+"`, expected instance of `"+a+"`.")})},node:n(function(t,e,n,i,r){return l(t[e])?null:new f("Invalid "+i+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(u){return n(function(t,e,n,i,r){if("function"!=typeof u)return new f("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o=t[e],a=d(o);if("object"!==a)return new f("Invalid "+i+" `"+r+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var s in o)if(_(o,s)){var l=u(o,s,n,i,r+"."+s,v);if(l instanceof Error)return l}return null})},oneOf:function(l){if(!Array.isArray(l))return b;return n(function(t,e,n,i,r){for(var o=t[e],a=0;a<l.length;a++)if(h(o,l[a]))return null;var s=JSON.stringify(l,function(t,e){return"symbol"===p(e)?String(e):e});return new f("Invalid "+i+" `"+r+"` of value `"+String(o)+"` supplied to `"+n+"`, expected one of "+s+".")})},oneOfType:function(a){if(!Array.isArray(a))return b;for(var t=0;t<a.length;t++){var e=a[t];if("function"!=typeof e)return g("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+i(e)+" at index "+t+"."),b}return n(function(t,e,n,i,r){for(var o=0;o<a.length;o++){if(null==(0,a[o])(t,e,n,i,r,v))return null}return new f("Invalid "+i+" `"+r+"` supplied to `"+n+"`.")})},shape:function(c){return n(function(t,e,n,i,r){var o=t[e],a=d(o);if("object"!==a)return new f("Invalid "+i+" `"+r+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var s in c){var l=c[s];if(l){var u=l(o,s,n,i,r+"."+s,v);if(u)return u}}return null})},exact:function(h){return n(function(t,e,n,i,r){var o=t[e],a=d(o);if("object"!==a)return new f("Invalid "+i+" `"+r+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");var s=y({},t[e],h);for(var l in s){var u=h[l];if(!u)return new f("Invalid "+i+" `"+r+"` key `"+l+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[e],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(h),null,"  "));var c=u(o,l,n,i,r+"."+l,v);if(c)return c}return null})}};function h(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function f(t){this.message=t,this.stack=""}function n(l){function t(t,e,n,i,r,o,a){if((i=i||c,o=o||n,a!==v)&&u){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}return null==e[n]?t?null===e[n]?new f("The "+r+" `"+o+"` is marked as required in `"+i+"`, but its value is `null`."):new f("The "+r+" `"+o+"` is marked as required in `"+i+"`, but its value is `undefined`."):null:l(e,n,i,r,o)}var e=t.bind(null,!1);return e.isRequired=t.bind(null,!0),e}function e(s){return n(function(t,e,n,i,r,o){var a=t[e];return d(a)===s?null:new f("Invalid "+i+" `"+r+"` of type `"+p(a)+"` supplied to `"+n+"`, expected `"+s+"`.")})}function l(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(l);if(null===t||a(t))return!0;var e=function(t){var e=t&&(o&&t[o]||t[s]);if("function"==typeof e)return e}(t);if(!e)return!1;var n,i=e.call(t);if(e!==t.entries){for(;!(n=i.next()).done;)if(!l(n.value))return!1}else for(;!(n=i.next()).done;){var r=n.value;if(r&&!l(r[1]))return!1}return!0;default:return!1}}function d(t){var e,n=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":(e=t,"symbol"===n||e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)?"symbol":n)}function p(t){if(null==t)return""+t;var e=d(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function i(t){var e=p(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return f.prototype=Error.prototype,t.checkPropTypes=r,t.resetWarningCache=r.resetWarningCache,t.PropTypes=t}},{"./checkPropTypes":50,"./lib/ReactPropTypesSecret":54,"object-assign":43,"react-is":60}],53:[function(t,e,n){e.exports=t("./factoryWithThrowingShims")()},{"./factoryWithThrowingShims":51,"./factoryWithTypeCheckers":52,"react-is":60}],54:[function(t,e,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],55:[function(t,e,n){"use strict"},{"object-assign":43,"prop-types/checkPropTypes":50,react:73,scheduler:89,"scheduler/tracing":90}],56:[function(t,e,n){"use strict";var r=t("react"),v=t("object-assign"),i=t("scheduler");function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(E(227));var c=!1,h=null,f=!1,d=null,u={onError:function(t){c=!0,h=t}};function p(t,e,n,i,r,o,a,s,l){c=!1,h=null,function(t,e,n,i,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}.apply(u,arguments)}var o=null,a=null,s=null;function l(t,e,n){var i=t.type||"unknown-event";t.currentTarget=s(n),function(t,e,n,i,r,o,a,s,l){if(p.apply(this,arguments),c){if(!c)throw Error(E(198));var u=h;c=!1,h=null,f||(f=!0,d=u)}}(i,e,void 0,t),t.currentTarget=null}var m=null,y={};function _(){if(m)for(var t in y){var e=y[t],n=m.indexOf(t);if(!(-1<n))throw Error(E(96,t));if(!b[n]){if(!e.extractEvents)throw Error(E(97,t));for(var i in n=(b[n]=e).eventTypes){var r=void 0,o=n[i],a=e,s=i;if(w.hasOwnProperty(s))throw Error(E(99,s));var l=(w[s]=o).phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&g(l[r],a,s);r=!0}else r=!!o.registrationName&&(g(o.registrationName,a,s),!0);if(!r)throw Error(E(98,i,t))}}}}function g(t,e,n){if(k[t])throw Error(E(100,t));k[t]=e,x[t]=e.eventTypes[n].dependencies}var b=[],w={},k={},x={};function P(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!y.hasOwnProperty(e)||y[e]!==i){if(y[e])throw Error(E(102,e));y[e]=i,n=!0}}n&&_()}var M=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),S=null,C=null,O=null;function L(t){if(t=a(t)){if("function"!=typeof S)throw Error(E(280));var e=t.stateNode;e&&(e=o(e),S(t.stateNode,t.type,e))}}function T(t){C?O?O.push(t):O=[t]:C=t}function j(){if(C){var t=C,e=O;if(O=C=null,L(t),e)for(t=0;t<e.length;t++)L(e[t])}}function R(t,e){return t(e)}function I(t,e,n,i,r){return t(e,n,i,r)}function N(){}var A=R,B=!1,z=!1;function H(){null===C&&null===O||(N(),j())}function D(t,e,n){if(z)return t(e,n);z=!0;try{return A(t,e,n)}finally{z=!1,H()}}var F=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U=Object.prototype.hasOwnProperty,Z={},V={};function q(t,e,n,i){if(null==e||function(t,e,n,i){if(null===n||0!==n.type)switch(typeof e){case"function":case"symbol":return 1;case"boolean":return i?void 0:null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t;default:return}}(t,e,n,i))return 1;if(!i&&null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||e<1}}function W(t,e,n,i,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){G[t]=new W(t,0,!1,t,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];G[e]=new W(e,1,!1,t[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){G[t]=new W(t,2,!1,t.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){G[t]=new W(t,2,!1,t,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){G[t]=new W(t,3,!1,t.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(t){G[t]=new W(t,3,!0,t,null,!1)}),["capture","download"].forEach(function(t){G[t]=new W(t,4,!1,t,null,!1)}),["cols","rows","size","span"].forEach(function(t){G[t]=new W(t,6,!1,t,null,!1)}),["rowSpan","start"].forEach(function(t){G[t]=new W(t,5,!1,t.toLowerCase(),null,!1)});var K=/[\-:]([a-z])/g;function $(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(K,$);G[e]=new W(e,1,!1,t,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(K,$);G[e]=new W(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(K,$);G[e]=new W(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(t){G[t]=new W(t,1,!1,t.toLowerCase(),null,!1)}),G.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(t){G[t]=new W(t,1,!1,t.toLowerCase(),null,!0)});var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(t,e,n,i){var r,o=G.hasOwnProperty(e)?G[e]:null;(null!==o?0!==o.type:i||(!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1]))&&(q(e,n,o,i)&&(n=null),i||null===o?(r=e,(U.call(V,r)||!U.call(Z,r)&&(F.test(r)?V[r]=!0:void(Z[r]=!0)))&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n))):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,i=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,X="function"==typeof Symbol&&Symbol.for,tt=X?Symbol.for("react.element"):60103,et=X?Symbol.for("react.portal"):60106,nt=X?Symbol.for("react.fragment"):60107,it=X?Symbol.for("react.strict_mode"):60108,rt=X?Symbol.for("react.profiler"):60114,ot=X?Symbol.for("react.provider"):60109,at=X?Symbol.for("react.context"):60110,st=X?Symbol.for("react.concurrent_mode"):60111,lt=X?Symbol.for("react.forward_ref"):60112,ut=X?Symbol.for("react.suspense"):60113,ct=X?Symbol.for("react.suspense_list"):60120,ht=X?Symbol.for("react.memo"):60115,ft=X?Symbol.for("react.lazy"):60116,dt=X?Symbol.for("react.block"):60121,pt="function"==typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case rt:return"Profiler";case it:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case at:return"Context.Consumer";case ot:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return yt(t.type);case dt:return yt(t.render);case ft:if(t=1===t._status?t._result:null)return yt(t)}return null}function vt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var i=t._debugOwner,r=t._debugSource,o=yt(t.type);n=null,i&&(n=yt(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(J,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}e+=n,t=t.return}while(t);return e}function _t(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function gt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=gt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(t){var e=t._valueTracker;if(!e)return 1;var n=e.getValue(),i="";return t&&(i=gt(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),1)}}function kt(t,e){var n=e.checked;return v({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function xt(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=_t(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Pt(t,e){null!=(e=e.checked)&&Y(t,"checked",e,!1)}function Et(t,e){Pt(t,e);var n=_t(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?St(t,e.type,n):e.hasOwnProperty("defaultValue")&&St(t,e.type,_t(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Mt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function St(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Ct(t,e){var n,i;return t=v({children:void 0},e),n=e.children,i="",r.Children.forEach(n,function(t){null!=t&&(i+=t)}),(e=i)&&(t.children=e),t}function Ot(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+_t(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Lt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(E(91));return v({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(E(92));if(Array.isArray(n)){if(!(n.length<=1))throw Error(E(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:_t(n)}}function jt(t,e){var n=_t(e.value),i=_t(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function Rt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var It="http://www.w3.org/1999/xhtml",Nt="http://www.w3.org/2000/svg";function At(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?At(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var zt,Ht,Dt=(Ht=function(t,e){if(t.namespaceURI!==Nt||"innerHTML"in t)t.innerHTML=e;else{for((zt=zt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return Ht(t,e)})}:Ht);function Ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Ut(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Vt={},qt={};function Wt(t){if(Vt[t])return Vt[t];if(!Zt[t])return t;var e,n=Zt[t];for(e in n)if(n.hasOwnProperty(e)&&e in qt)return Vt[t]=n[e];return t}M&&(qt=document.createElement("div").style,"AnimationEvent"in window||(delete Zt.animationend.animation,delete Zt.animationiteration.animation,delete Zt.animationstart.animation),"TransitionEvent"in window||delete Zt.transitionend.transition);var Gt=Wt("animationend"),Kt=Wt("animationiteration"),$t=Wt("animationstart"),Qt=Wt("transitionend"),Yt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jt=new("function"==typeof WeakMap?WeakMap:Map);function Xt(t){var e=Jt.get(t);return void 0===e&&(e=new Map,Jt.set(t,e)),e}function te(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else for(t=e;0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return;);return 3===e.tag?n:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ne(t){if(te(t)!==t)throw Error(E(188))}function ie(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(E(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null!==o){if(r.child===o.child){for(o=r.child;o;){if(o===n)return ne(r),t;if(o===i)return ne(r),e;o=o.sibling}throw Error(E(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,s=r.child;s;){if(s===n){a=!0,n=r,i=o;break}if(s===i){a=!0,i=r,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,i=r;break}if(s===i){a=!0,i=o,n=r;break}s=s.sibling}if(!a)throw Error(E(189))}}if(n.alternate!==i)throw Error(E(190))}else{if(null===(i=r.return))break;n=i}}if(3!==n.tag)throw Error(E(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e=(e.child.return=e).child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(E(30));return null==t?e:Array.isArray(t)?(Array.isArray(e)?t.push.apply(t,e):t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function oe(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var ae=null;function se(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var i=0;i<e.length&&!t.isPropagationStopped();i++)l(t,e[i],n[i]);else e&&l(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function le(t){if(null!==t&&(ae=re(ae,t)),t=ae,ae=null,t){if(oe(t,se),ae)throw Error(E(95));if(f)throw t=d,f=!1,d=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!M)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var he=[];function fe(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,he.length<10&&he.push(t)}function de(t,e,n,i){if(he.length){var r=he.pop();return r.topLevelType=t,r.eventSystemFlags=i,r.nativeEvent=e,r.targetInst=n,r}return{topLevelType:t,eventSystemFlags:i,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Ln(i)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var r=ue(t.nativeEvent);i=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<b.length;l++){var u=b[l];(u=u&&u.extractEvents(i,e,o,r,a))&&(s=re(s,u))}le(s)}}function me(t,e,n){if(!n.has(t)){switch(t){case"scroll":$e(e,"scroll",!0);break;case"focus":case"blur":$e(e,"focus",!0),$e(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&$e(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Yt.indexOf(t)&&Ke(t,e)}n.set(t,null)}}var ye,ve,_e,ge=!1,be=[],we=null,ke=null,xe=null,Pe=new Map,Ee=new Map,Me=[],Se="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ce="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Oe(t,e,n,i,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Le(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":ke=null;break;case"mouseover":case"mouseout":xe=null;break;case"pointerover":case"pointerout":Pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(e.pointerId)}}function Te(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t=Oe(e,n,i,r,o),null===e||null!==(e=Tn(e))&&ve(e)):t.eventSystemFlags|=i,t}function je(t){var e=Ln(t.target);if(null!==e){var n=te(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ee(n)))return t.blockedOn=e,void i.unstable_runWithPriority(t.priority,function(){_e(n)})}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Re(t){if(null===t.blockedOn){var e=Ye(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null===e)return 1;var n=Tn(e);return null!==n&&ve(n),void(t.blockedOn=e)}}function Ie(t,e,n){Re(t)&&n.delete(e)}function Ne(){for(ge=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=Tn(t.blockedOn))&&ye(t);break}var e=Ye(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==we&&Re(we)&&(we=null),null!==ke&&Re(ke)&&(ke=null),null!==xe&&Re(xe)&&(xe=null),Pe.forEach(Ie),Ee.forEach(Ie)}function Ae(t,e){t.blockedOn===e&&(t.blockedOn=null,ge||(ge=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ne)))}function Be(e){function t(t){return Ae(t,e)}if(0<be.length){Ae(be[0],e);for(var n=1;n<be.length;n++){var i=be[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==we&&Ae(we,e),null!==ke&&Ae(ke,e),null!==xe&&Ae(xe,e),Pe.forEach(t),Ee.forEach(t),n=0;n<Me.length;n++)(i=Me[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Me.length&&null===(n=Me[0]).blockedOn;)je(n),null===n.blockedOn&&Me.shift()}var ze={},He=new Map,De=new Map,Fe=["abort","abort",Gt,"animationEnd",Kt,"animationIteration",$t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qt,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:e},De.set(i,e),He.set(i,o),ze[r]=o}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(Fe,2);for(var Ze="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ve=0;Ve<Ze.length;Ve++)De.set(Ze[Ve],0);var qe=i.unstable_UserBlockingPriority,We=i.unstable_runWithPriority,Ge=!0;function Ke(t,e){$e(e,t,!1)}function $e(t,e,n){var i=De.get(e);switch(void 0===i?2:i){case 0:i=function(t,e,n,i){B||N();var r=Qe,o=B;B=!0;try{I(r,t,e,n,i)}finally{(B=o)||H()}}.bind(null,e,1,t);break;case 1:i=function(t,e,n,i){We(qe,Qe.bind(null,t,e,n,i))}.bind(null,e,1,t);break;default:i=Qe.bind(null,e,1,t)}n?t.addEventListener(e,i,!0):t.addEventListener(e,i,!1)}function Qe(t,e,n,i){if(Ge)if(0<be.length&&-1<Se.indexOf(t))t=Oe(null,t,e,n,i),be.push(t);else{var r=Ye(t,e,n,i);if(null===r)Le(t,i);else if(-1<Se.indexOf(t))t=Oe(r,t,e,n,i),be.push(t);else if(!function(t,e,n,i,r){switch(e){case"focus":return we=Te(we,t,e,n,i,r),1;case"dragenter":return ke=Te(ke,t,e,n,i,r),1;case"mouseover":return xe=Te(xe,t,e,n,i,r),1;case"pointerover":var o=r.pointerId;return Pe.set(o,Te(Pe.get(o)||null,t,e,n,i,r)),1;case"gotpointercapture":return o=r.pointerId,Ee.set(o,Te(Ee.get(o)||null,t,e,n,i,r)),1}}(r,t,e,n,i)){Le(t,i),t=de(t,i,null,e);try{D(pe,t)}finally{fe(t)}}}}function Ye(t,e,n,i){if(null!==(n=Ln(n=ue(i)))){var r=te(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=ee(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}t=de(t,i,n,e);try{D(pe,t)}finally{fe(t)}return null}var Je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xe=["Webkit","ms","Moz","O"];function tn(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Je.hasOwnProperty(t)&&Je[t]?(""+e).trim():e+"px"}function en(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(Je).forEach(function(e){Xe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Je[t]=Je[e]})});var nn=v({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(t,e){if(e){if(nn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(E(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(E(60));if(!("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(E(62,""))}}function on(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=It;function sn(t,e){var n=Xt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=x[e];for(var i=0;i<e.length;i++)me(e[i],t,n)}function ln(){}function un(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hn(t,e){var n,i=cn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&e<=n)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=cn(i)}}function fn(){for(var t=window,e=un();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=un((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var pn="$",mn="/$",yn="$?",vn="$!",_n=null,gn=null;function bn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return e.autoFocus}}function wn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var kn="function"==typeof setTimeout?setTimeout:void 0,xn="function"==typeof clearTimeout?clearTimeout:void 0;function Pn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function En(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===pn||n===vn||n===yn){if(0===e)return t;e--}else n===mn&&e++}t=t.previousSibling}return null}var Mn=Math.random().toString(36).slice(2),Sn="__reactInternalInstance$"+Mn,Cn="__reactEventHandlers$"+Mn,On="__reactContainere$"+Mn;function Ln(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[Sn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=En(t);null!==t;){if(n=t[Sn])return n;t=En(t)}return e}n=(t=n).parentNode}return null}function Tn(t){return!(t=t[Sn]||t[On])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function jn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(E(33))}function Rn(t){return t[Cn]||null}function In(t){for(;(t=t.return)&&5!==t.tag;);return t||null}function Nn(t,e){var n=t.stateNode;if(!n)return null;var i=o(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(E(231,e,typeof n));return n}function An(t,e,n){(e=Nn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Bn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=In(e);for(e=n.length;0<e--;)An(n[e],"captured",t);for(e=0;e<n.length;e++)An(n[e],"bubbled",t)}}function zn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Nn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Hn(t){t&&t.dispatchConfig.registrationName&&zn(t._targetInst,null,t)}function Dn(t){oe(t,Bn)}var Fn=null,Un=null,Zn=null;function Vn(){if(Zn)return Zn;var t,e,n=Un,i=n.length,r="value"in Fn?Fn.value:Fn.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===r[o-e];e++);return Zn=r.slice(t,1<e?1-e:void 0)}function qn(){return!0}function Wn(){return!1}function Gn(t,e,n,i){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:Wn,this.isPropagationStopped=Wn,this}function Kn(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function $n(t){if(!(t instanceof this))throw Error(E(279));t.destructor(),this.eventPool.length<10&&this.eventPool.push(t)}function Qn(t){t.eventPool=[],t.getPooled=Kn,t.release=$n}v(Gn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:Wn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),Gn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gn.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var r=new e;return v(r,n.prototype),((n.prototype=r).constructor=n).Interface=v({},i.Interface,t),n.extend=i.extend,Qn(n),n},Qn(Gn);var Yn=Gn.extend({data:null}),Jn=Gn.extend({data:null}),Xn=[9,13,27,32],ti=M&&"CompositionEvent"in window,ei=null;M&&"documentMode"in document&&(ei=document.documentMode);var ni=M&&"TextEvent"in window&&!ei,ii=M&&(!ti||ei&&8<ei&&ei<=11),ri=String.fromCharCode(32),oi={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ai=!1;function si(t,e){switch(t){case"keyup":return-1!==Xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return 1;default:return}}function li(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var ui=!1;var ci={eventTypes:oi,extractEvents:function(t,e,n,i){var r;if(ti)t:{switch(t){case"compositionstart":var o=oi.compositionStart;break t;case"compositionend":o=oi.compositionEnd;break t;case"compositionupdate":o=oi.compositionUpdate;break t}o=void 0}else ui?si(t,n)&&(o=oi.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=oi.compositionStart);return r=o?(ii&&"ko"!==n.locale&&(ui||o!==oi.compositionStart?o===oi.compositionEnd&&ui&&(r=Vn()):(Un="value"in(Fn=i)?Fn.value:Fn.textContent,ui=!0)),o=Yn.getPooled(o,e,n,i),r?o.data=r:null!==(r=li(n))&&(o.data=r),Dn(o),o):null,(t=(ni?function(t,e){switch(t){case"compositionend":return li(e);case"keypress":return 32!==e.which?null:(ai=!0,ri);case"textInput":return(t=e.data)===ri&&ai?null:t;default:return null}}:function(t,e){if(ui)return"compositionend"===t||!ti&&si(t,e)?(t=Vn(),Zn=Un=Fn=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ii&&"ko"!==e.locale?null:e.data;default:return null}})(t,n))?((e=Jn.getPooled(oi.beforeInput,e,n,i)).data=t,Dn(e)):e=null,null===r?e:null===e?r:[r,e]}},hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?hi[t.type]:"textarea"===e}var di={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function pi(t,e,n){return(t=Gn.getPooled(di.change,t,e,n)).type="change",T(n),Dn(t),t}var mi=null,yi=null;function vi(t){le(t)}function _i(t){if(wt(jn(t)))return t}function gi(t,e){if("change"===t)return e}var bi=!1;function wi(){mi&&(mi.detachEvent("onpropertychange",ki),yi=mi=null)}function ki(t){if("value"===t.propertyName&&_i(yi))if(t=pi(yi,t,ue(t)),B)le(t);else{B=!0;try{R(vi,t)}finally{B=!1,H()}}}function xi(t,e,n){"focus"===t?(wi(),yi=n,(mi=e).attachEvent("onpropertychange",ki)):"blur"===t&&wi()}function Pi(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return _i(yi)}function Ei(t,e){if("click"===t)return _i(e)}function Mi(t,e){if("input"===t||"change"===t)return _i(e)}M&&(bi=ce("input")&&(!document.documentMode||9<document.documentMode));var Si={eventTypes:di,_isInputEventSupported:bi,extractEvents:function(t,e,n,i){var r=e?jn(e):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=gi;else if(fi(r))if(bi)a=Mi;else{a=Pi;var s=xi}else!(o=r.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==r.type&&"radio"!==r.type||(a=Ei);if(a=a&&a(t,e))return pi(a,n,i);s&&s(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&St(r,"number",r.value)}},Ci=Gn.extend({view:null,detail:null}),Oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Li(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Oi[t])&&!!e[t]}function Ti(){return Li}var ji=0,Ri=0,Ii=!1,Ni=!1,Ai=Ci.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ti,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=ji;return ji=t.screenX,Ii?"mousemove"===t.type?t.screenX-e:0:(Ii=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ri;return Ri=t.screenY,Ni?"mousemove"===t.type?t.screenY-e:0:(Ni=!0,0)}}),Bi=Ai.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Hi={eventTypes:zi,extractEvents:function(t,e,n,i,r){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null===(e=(e=n.relatedTarget||n.toElement)?Ln(e):null)||(e!==te(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Ai,l=zi.mouseLeave,u=zi.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Bi,l=zi.pointerLeave,u=zi.pointerEnter,c="pointer");if(t=null==a?o:jn(a),o=null==e?o:jn(e),(l=s.getPooled(l,a,n,i)).type=c+"leave",l.target=t,l.relatedTarget=o,(n=s.getPooled(u,e,n,i)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(i=a)&&c)t:{for(u=c,a=0,t=s=i;t;t=In(t))a++;for(t=0,e=u;e;e=In(e))t++;for(;0<a-t;)s=In(s),a--;for(;0<t-a;)u=In(u),t--;for(;a--;){if(s===u||s===u.alternate)break t;s=In(s),u=In(u)}s=null}else s=null;for(u=s,s=[];i&&i!==u&&(null===(a=i.alternate)||a!==u);)s.push(i),i=In(i);for(i=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)i.push(c),c=In(c);for(c=0;c<s.length;c++)zn(s[c],"bubbled",l);for(c=i.length;0<c--;)zn(i[c],"captured",n);return 0==(64&r)?[l]:[l,n]}};var Di="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Fi=Object.prototype.hasOwnProperty;function Ui(t,e){if(Di(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Fi.call(e,n[i])||!Di(t[n[i]],e[n[i]]))return!1;return!0}var Zi=M&&"documentMode"in document&&document.documentMode<=11,Vi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qi=null,Wi=null,Gi=null,Ki=!1;function $i(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Ki||null==qi||qi!==un(n)?null:(n="selectionStart"in(n=qi)&&dn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gi&&Ui(Gi,n)?null:(Gi=n,(t=Gn.getPooled(Vi.select,Wi,t,e)).type="select",t.target=qi,Dn(t),t))}var Qi={eventTypes:Vi,extractEvents:function(t,e,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){t:{r=Xt(r),o=x.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break t}r=!0}o=!r}if(o)return null;switch(r=e?jn(e):window,t){case"focus":!fi(r)&&"true"!==r.contentEditable||(qi=r,Wi=e,Gi=null);break;case"blur":Gi=Wi=qi=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":return Ki=!1,$i(n,i);case"selectionchange":if(Zi)break;case"keydown":case"keyup":return $i(n,i)}return null}},Yi=Gn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ji=Gn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xi=Ci.extend({relatedTarget:null});function tr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ir=Ci.extend({key:function(t){if(t.key){var e=er[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=tr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?nr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ti,charCode:function(t){return"keypress"===t.type?tr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?tr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),rr=Ai.extend({dataTransfer:null}),or=Ci.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ti}),ar=Gn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sr=Ai.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),lr={eventTypes:ze,extractEvents:function(t,e,n,i){var r=He.get(t);if(!r)return null;switch(t){case"keypress":if(0===tr(n))return null;case"keydown":case"keyup":t=ir;break;case"blur":case"focus":t=Xi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=or;break;case Gt:case Kt:case $t:t=Yi;break;case Qt:t=ar;break;case"scroll":t=Ci;break;case"wheel":t=sr;break;case"copy":case"cut":case"paste":t=Ji;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Bi;break;default:t=Gn}return Dn(e=t.getPooled(r,e,n,i)),e}};if(m)throw Error(E(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),o=Rn,a=Tn,s=jn,P({SimpleEventPlugin:lr,EnterLeaveEventPlugin:Hi,ChangeEventPlugin:Si,SelectEventPlugin:Qi,BeforeInputEventPlugin:ci});var ur=[],cr=-1;function hr(t){cr<0||(t.current=ur[cr],ur[cr]=null,cr--)}function fr(t,e){ur[++cr]=t.current,t.current=e}var dr={},pr={current:dr},mr={current:!1},yr=dr;function vr(t,e){var n=t.type.contextTypes;if(!n)return dr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function _r(t){return null!=(t=t.childContextTypes)}function gr(){hr(mr),hr(pr)}function br(t,e,n){if(pr.current!==dr)throw Error(E(168));fr(pr,e),fr(mr,n)}function wr(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(E(108,yt(e)||"Unknown",r));return v({},n,{},i)}function kr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dr,yr=pr.current,fr(pr,t),fr(mr,mr.current),1}function xr(t,e,n){var i=t.stateNode;if(!i)throw Error(E(169));n?(t=wr(t,e,yr),i.__reactInternalMemoizedMergedChildContext=t,hr(mr),hr(pr),fr(pr,t)):hr(mr),fr(mr,n)}var Pr=i.unstable_runWithPriority,Er=i.unstable_scheduleCallback,Mr=i.unstable_cancelCallback,Sr=i.unstable_requestPaint,Cr=i.unstable_now,Or=i.unstable_getCurrentPriorityLevel,Lr=i.unstable_ImmediatePriority,Tr=i.unstable_UserBlockingPriority,jr=i.unstable_NormalPriority,Rr=i.unstable_LowPriority,Ir=i.unstable_IdlePriority,Nr={},Ar=i.unstable_shouldYield,Br=void 0!==Sr?Sr:function(){},zr=null,Hr=null,Dr=!1,Fr=Cr(),Ur=Fr<1e4?Cr:function(){return Cr()-Fr};function Zr(){switch(Or()){case Lr:return 99;case Tr:return 98;case jr:return 97;case Rr:return 96;case Ir:return 95;default:throw Error(E(332))}}function Vr(t){switch(t){case 99:return Lr;case 98:return Tr;case 97:return jr;case 96:return Rr;case 95:return Ir;default:throw Error(E(332))}}function qr(t,e){return t=Vr(t),Pr(t,e)}function Wr(t,e,n){return t=Vr(t),Er(t,e,n)}function Gr(t){return null===zr?(zr=[t],Hr=Er(Lr,$r)):zr.push(t),Nr}function Kr(){if(null!==Hr){var t=Hr;Hr=null,Mr(t)}$r()}function $r(){if(!Dr&&null!==zr){Dr=!0;var e=0;try{var n=zr;qr(99,function(){for(;e<n.length;e++)for(var t=n[e];null!==(t=t(!0)););}),zr=null}catch(t){throw null!==zr&&(zr=zr.slice(e+1)),Er(Lr,Kr),t}finally{Dr=!1}}}function Qr(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Yr(t,e){if(t&&t.defaultProps)for(var n in e=v({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Jr={current:null},Xr=null,to=null,eo=null;function no(){eo=to=Xr=null}function io(t){var e=Jr.current;hr(Jr),t.type._context._currentValue=e}function ro(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function oo(t,e){eo=to=null,null!==(t=(Xr=t).dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ra=!0),t.firstContext=null)}function ao(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===Xr)throw Error(E(308));to=e,Xr.dependencies={expirationTime:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var so=!1;function lo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function uo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function co(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function ho(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.alternate;null!==n&&uo(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function po(t,e,n,i){var r=t.updateQueue;so=!1;var o=r.baseQueue,a=r.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,(r.shared.pending=null)!==(s=t.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==o){s=o.next;var l=r.baseState,u=0,c=null,h=null,f=null;if(null!==s)for(var d=s;;){if((a=d.expirationTime)<i){var p={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===f?(h=f=p,c=l):f=f.next=p,u<a&&(u=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),yl(a,d.suspenseConfig);t:{var m=t,y=d;switch(a=e,p=n,y.tag){case 1:if("function"==typeof(m=y.payload)){l=m.call(p,l,a);break t}l=m;break t;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(a="function"==typeof(m=y.payload)?m.call(p,l,a):m))break t;l=v({},l,a);break t;case 2:so=!0}}null!==d.callback&&(t.effectTag|=32,null===(a=r.effects)?r.effects=[d]:a.push(d))}if(null===(d=d.next)||d===s){if(null===(a=r.shared.pending))break;d=o.next=a.next,a.next=s,r.baseQueue=o=a,r.shared.pending=null}}null===f?c=l:f.next=h,r.baseState=c,r.baseQueue=f,vl(u),t.expirationTime=u,t.memoizedState=l}}function mo(t,e,n){if(t=e.effects,(e.effects=null)!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!=typeof i)throw Error(E(191,i));i.call(r)}}}var yo=Q.ReactCurrentBatchConfig,vo=(new r.Component).refs;function _o(t,e,n,i){n=null==(n=n(i,e=t.memoizedState))?e:v({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var go={isMounted:function(t){return!!(t=t._reactInternalFiber)&&te(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=rl(),r=yo.suspense;(r=co(i=ol(i,t,r),r)).payload=e,null!=n&&(r.callback=n),ho(t,r),al(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=rl(),r=yo.suspense;(r=co(i=ol(i,t,r),r)).tag=1,r.payload=e,null!=n&&(r.callback=n),ho(t,r),al(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=rl(),i=yo.suspense;(i=co(n=ol(n,t,i),i)).tag=2,null!=e&&(i.callback=e),ho(t,i),al(t,n)}};function bo(t,e,n,i,r,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Ui(n,i)||!Ui(r,o))}function wo(t,e,n){var i=!1,r=dr,o=e.contextType;return e=new e(n,o="object"==typeof o&&null!==o?ao(o):(r=_r(e)?yr:pr.current,(i=null!=(i=e.contextTypes))?vr(t,r):dr)),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=go,(t.stateNode=e)._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function ko(t,e,n,i){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&go.enqueueReplaceState(e,e.state,null)}function xo(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=vo,lo(t);var o=e.contextType;"object"==typeof o&&null!==o?r.context=ao(o):(o=_r(e)?yr:pr.current,r.context=vr(t,o)),po(t,n,r,i),r.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(_o(t,e,o,n),r.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(e=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&go.enqueueReplaceState(r,r.state,null),po(t,n,r,i),r.state=t.memoizedState),"function"==typeof r.componentDidMount&&(t.effectTag|=4)}var Po=Array.isArray;function Eo(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(E(309));var i=n.stateNode}if(!i)throw Error(E(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=i.refs;e===vo&&(e=i.refs={}),null===t?delete e[r]:e[r]=t})._stringRef=r,e)}if("string"!=typeof t)throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Mo(t,e){if("textarea"!==t.type)throw Error(E(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function So(h){function f(t,e){if(h){var n=t.lastEffect;null!==n?(n.nextEffect=e,t.lastEffect=e):t.firstEffect=t.lastEffect=e,e.nextEffect=null,e.effectTag=8}}function d(t,e){if(!h)return null;for(;null!==e;)f(t,e),e=e.sibling;return null}function p(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e){return(t=Nl(t,e)).index=0,t.sibling=null,t}function m(t,e,n){return t.index=n,h?null!==(n=t.alternate)?(n=n.index)<e?(t.effectTag=2,e):n:(t.effectTag=2,e):e}function s(t){return h&&null===t.alternate&&(t.effectTag=2),t}function o(t,e,n,i){return null===e||6!==e.tag?(e=zl(n,t.mode,i)).return=t:(e=a(e,n)).return=t,e}function l(t,e,n,i){return null!==e&&e.elementType===n.type?(i=a(e,n.props)).ref=Eo(t,e,n):(i=Al(n.type,n.key,n.props,null,t.mode,i)).ref=Eo(t,e,n),i.return=t,i}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=Hl(n,t.mode,i)).return=t:(e=a(e,n.children||[])).return=t,e}function c(t,e,n,i,r){return null===e||7!==e.tag?(e=Bl(n,t.mode,i,r)).return=t:(e=a(e,n)).return=t,e}function y(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=zl(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Al(e.type,e.key,e.props,null,t.mode,n)).ref=Eo(t,null,e),n.return=t,n;case et:return(e=Hl(e,t.mode,n)).return=t,e}if(Po(e)||mt(e))return(e=Bl(e,t.mode,n,null)).return=t,e;Mo(t,e)}return null}function v(t,e,n,i){var r=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:o(t,e,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===r?n.type===nt?c(t,e,n.props.children,i,r):l(t,e,n,i):null;case et:return n.key===r?u(t,e,n,i):null}if(Po(n)||mt(n))return null!==r?null:c(t,e,n,i,null);Mo(t,n)}return null}function _(t,e,n,i,r){if("string"==typeof i||"number"==typeof i)return o(e,t=t.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case tt:return t=t.get(null===i.key?n:i.key)||null,i.type===nt?c(e,t,i.props.children,r,i.key):l(e,t,i,r);case et:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r)}if(Po(i)||mt(i))return c(e,t=t.get(n)||null,i,r,null);Mo(e,i)}return null}return function(t,e,n,i){var r="object"==typeof n&&null!==n&&n.type===nt&&null===n.key;r&&(n=n.props.children);var o="object"==typeof n&&null!==n;if(o)switch(n.$$typeof){case tt:t:{for(o=n.key,r=e;null!==r;){if(r.key===o){switch(r.tag){case 7:if(n.type!==nt)break;d(t,r.sibling),(e=a(r,n.props.children)).return=t,t=e;break t;default:if(r.elementType===n.type){d(t,r.sibling),(e=a(r,n.props)).ref=Eo(t,r,n),e.return=t,t=e;break t}}d(t,r);break}f(t,r),r=r.sibling}t=n.type===nt?((e=Bl(n.props.children,t.mode,i,n.key)).return=t,e):((i=Al(n.type,n.key,n.props,null,t.mode,i)).ref=Eo(t,e,n),i.return=t,i)}return s(t);case et:t:{for(r=n.key;null!==e;){if(e.key===r){if(4===e.tag&&e.stateNode.containerInfo===n.containerInfo&&e.stateNode.implementation===n.implementation){d(t,e.sibling),(e=a(e,n.children||[])).return=t,t=e;break t}d(t,e);break}f(t,e),e=e.sibling}(e=Hl(n,t.mode,i)).return=t,t=e}return s(t)}if("string"==typeof n||"number"==typeof n)return n=""+n,s(t=((e=null!==e&&6===e.tag?(d(t,e.sibling),a(e,n)):(d(t,e),zl(n,t.mode,i))).return=t,e));if(Po(n))return function(e,t,n,i){for(var r=null,o=null,a=t,s=t=0,l=null;null!==a&&s<n.length;s++){a.index>s?(l=a,a=null):l=a.sibling;var u=v(e,a,n[s],i);if(null===u){null===a&&(a=l);break}h&&a&&null===u.alternate&&f(e,a),t=m(u,t,s),null===o?r=u:o.sibling=u,o=u,a=l}if(s===n.length)return d(e,a),r;if(null===a){for(;s<n.length;s++)null!==(a=y(e,n[s],i))&&(t=m(a,t,s),null===o?r=a:o.sibling=a,o=a);return r}for(a=p(e,a);s<n.length;s++)null!==(l=_(a,e,s,n[s],i))&&(h&&null!==l.alternate&&a.delete(null===l.key?s:l.key),t=m(l,t,s),null===o?r=l:o.sibling=l,o=l);return h&&a.forEach(function(t){return f(e,t)}),r}(t,e,n,i);if(mt(n))return function(e,t,n,i){var r=mt(n);if("function"!=typeof r)throw Error(E(150));if(null==(n=r.call(n)))throw Error(E(151));for(var o=r=null,a=t,s=t=0,l=null,u=n.next();null!==a&&!u.done;s++,u=n.next()){a.index>s?(l=a,a=null):l=a.sibling;var c=v(e,a,u.value,i);if(null===c){null===a&&(a=l);break}h&&a&&null===c.alternate&&f(e,a),t=m(c,t,s),null===o?r=c:o.sibling=c,o=c,a=l}if(u.done)return d(e,a),r;if(null===a){for(;!u.done;s++,u=n.next())null!==(u=y(e,u.value,i))&&(t=m(u,t,s),null===o?r=u:o.sibling=u,o=u);return r}for(a=p(e,a);!u.done;s++,u=n.next())null!==(u=_(a,e,s,u.value,i))&&(h&&null!==u.alternate&&a.delete(null===u.key?s:u.key),t=m(u,t,s),null===o?r=u:o.sibling=u,o=u);return h&&a.forEach(function(t){return f(e,t)}),r}(t,e,n,i);if(o&&Mo(t,n),void 0===n&&!r)switch(t.tag){case 1:case 0:throw t=t.type,Error(E(152,t.displayName||t.name||"Component"))}return d(t,e)}}var Co=So(!0),Oo=So(!1),Lo={},To={current:Lo},jo={current:Lo},Ro={current:Lo};function Io(t){if(t===Lo)throw Error(E(174));return t}function No(t,e){switch(fr(Ro,e),fr(jo,t),fr(To,Lo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bt(null,"");break;default:e=Bt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}hr(To),fr(To,e)}function Ao(){hr(To),hr(jo),hr(Ro)}function Bo(t){Io(Ro.current);var e=Io(To.current),n=Bt(e,t.type);e!==n&&(fr(jo,t),fr(To,n))}function zo(t){jo.current===t&&(hr(To),hr(jo))}var Ho={current:0};function Do(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===yn||n.data===vn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Fo(t,e){return{responder:t,props:e}}var Uo=Q.ReactCurrentDispatcher,Zo=Q.ReactCurrentBatchConfig,Vo=0,qo=null,Wo=null,Go=null,Ko=!1;function $o(){throw Error(E(321))}function Qo(t,e){if(null!==e){for(var n=0;n<e.length&&n<t.length;n++)if(!Di(t[n],e[n]))return;return 1}}function Yo(t,e,n,i,r,o){if(Vo=o,(qo=e).memoizedState=null,e.updateQueue=null,e.expirationTime=0,Uo.current=null===t||null===t.memoizedState?ba:wa,t=n(i,r),e.expirationTime===Vo){o=0;do{if(e.expirationTime=0,!(o<25))throw Error(E(301));o+=1,Go=Wo=null,e.updateQueue=null,Uo.current=ka,t=n(i,r)}while(e.expirationTime===Vo)}if(Uo.current=ga,e=null!==Wo&&null!==Wo.next,Vo=0,Go=Wo=qo=null,Ko=!1,e)throw Error(E(300));return t}function Jo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Go?qo.memoizedState=Go=t:Go=Go.next=t,Go}function Xo(){if(null===Wo){var t=qo.alternate;t=null!==t?t.memoizedState:null}else t=Wo.next;var e=null===Go?qo.memoizedState:Go.next;if(null!==e)Go=e,Wo=t;else{if(null===t)throw Error(E(310));t={memoizedState:(Wo=t).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===Go?qo.memoizedState=Go=t:Go=Go.next=t}return Go}function ta(t,e){return"function"==typeof e?e(t):e}function ea(t){var e=Xo(),n=e.queue;if(null===n)throw Error(E(311));n.lastRenderedReducer=t;var i=Wo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var s=a=o=null,l=r;do{var u=l.expirationTime;if(u<Vo){var c={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(a=s=c,o=i):s=s.next=c,u>qo.expirationTime&&vl(qo.expirationTime=u)}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),yl(u,l.suspenseConfig),i=l.eagerReducer===t?l.eagerState:t(i,l.action);l=l.next}while(null!==l&&l!==r);null===s?o=i:s.next=a,Di(i,e.memoizedState)||(Ra=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=s,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function na(t){var e=Xo(),n=e.queue;if(null===n)throw Error(E(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;for(var a=r=r.next;o=t(o,a.action),(a=a.next)!==r;);Di(o,e.memoizedState)||(Ra=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function ia(t){var e=Jo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t}).dispatch=_a.bind(null,qo,t),[e.memoizedState,t]}function ra(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=qo.updateQueue)?(e={lastEffect:null},(qo.updateQueue=e).lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,(n.next=t).next=i,e.lastEffect=t),t}function oa(){return Xo().memoizedState}function aa(t,e,n,i){var r=Jo();qo.effectTag|=t,r.memoizedState=ra(1|e,n,void 0,void 0===i?null:i)}function sa(t,e,n,i){var r=Xo();i=void 0===i?null:i;var o=void 0;if(null!==Wo){var a=Wo.memoizedState;if(o=a.destroy,null!==i&&Qo(i,a.deps))return void ra(e,n,o,i)}qo.effectTag|=t,r.memoizedState=ra(1|e,n,o,i)}function la(t,e){return aa(516,4,t,e)}function ua(t,e){return sa(516,4,t,e)}function ca(t,e){return sa(4,2,t,e)}function ha(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function fa(t,e,n){return n=null!=n?n.concat([t]):null,sa(4,2,ha.bind(null,e,t),n)}function da(){}function pa(t,e){return Jo().memoizedState=[t,void 0===e?null:e],t}function ma(t,e){var n=Xo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Qo(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function ya(t,e){var n=Xo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Qo(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function va(e,n,i){var t=Zr();qr(t<98?98:t,function(){e(!0)}),qr(97<t?97:t,function(){var t=Zo.suspense;Zo.suspense=void 0===n?null:n;try{e(!1),i()}finally{Zo.suspense=t}})}function _a(t,e,n){var i=rl(),r=yo.suspense;r={expirationTime:i=ol(i,t,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===qo||null!==o&&o===qo)Ko=!0,r.expirationTime=Vo,qo.expirationTime=Vo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,Di(s,a))return}catch(t){}al(t,i)}}var ga={readContext:ao,useCallback:$o,useContext:$o,useEffect:$o,useImperativeHandle:$o,useLayoutEffect:$o,useMemo:$o,useReducer:$o,useRef:$o,useState:$o,useDebugValue:$o,useResponder:$o,useDeferredValue:$o,useTransition:$o},ba={readContext:ao,useCallback:pa,useContext:ao,useEffect:la,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,aa(4,2,ha.bind(null,e,t),n)},useLayoutEffect:function(t,e){return aa(4,2,t,e)},useMemo:function(t,e){var n=Jo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Jo();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=_a.bind(null,qo,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Jo().memoizedState=t},useState:ia,useDebugValue:da,useResponder:Fo,useDeferredValue:function(e,n){var t=ia(e),i=t[0],r=t[1];return la(function(){var t=Zo.suspense;Zo.suspense=void 0===n?null:n;try{r(e)}finally{Zo.suspense=t}},[e,n]),i},useTransition:function(t){var e=ia(!1),n=e[0];return e=e[1],[pa(va.bind(null,e,t),[e,t]),n]}},wa={readContext:ao,useCallback:ma,useContext:ao,useEffect:ua,useImperativeHandle:fa,useLayoutEffect:ca,useMemo:ya,useReducer:ea,useRef:oa,useState:function(){return ea(ta)},useDebugValue:da,useResponder:Fo,useDeferredValue:function(e,n){var t=ea(ta),i=t[0],r=t[1];return ua(function(){var t=Zo.suspense;Zo.suspense=void 0===n?null:n;try{r(e)}finally{Zo.suspense=t}},[e,n]),i},useTransition:function(t){var e=ea(ta),n=e[0];return e=e[1],[ma(va.bind(null,e,t),[e,t]),n]}},ka={readContext:ao,useCallback:ma,useContext:ao,useEffect:ua,useImperativeHandle:fa,useLayoutEffect:ca,useMemo:ya,useReducer:na,useRef:oa,useState:function(){return na(ta)},useDebugValue:da,useResponder:Fo,useDeferredValue:function(e,n){var t=na(ta),i=t[0],r=t[1];return ua(function(){var t=Zo.suspense;Zo.suspense=void 0===n?null:n;try{r(e)}finally{Zo.suspense=t}},[e,n]),i},useTransition:function(t){var e=na(ta),n=e[0];return e=e[1],[ma(va.bind(null,e,t),[e,t]),n]}},xa=null,Pa=null,Ea=!1;function Ma(t,e){var n=Rl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Sa(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,1);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,1);case 13:default:return}}function Ca(t){if(Ea){var e=Pa;if(e){var n=e;if(!Sa(t,e)){if(!(e=Pn(n.nextSibling))||!Sa(t,e))return t.effectTag=-1025&t.effectTag|2,Ea=!1,void(xa=t);Ma(xa,n)}xa=t,Pa=Pn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ea=!1,xa=t}}function Oa(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;xa=t}function La(t){if(t===xa){if(!Ea)return Oa(t),Ea=!0,0;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!wn(e,t.memoizedProps))for(e=Pa;e;)Ma(t,e),e=Pn(e.nextSibling);if(Oa(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(E(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===mn){if(0===e){Pa=Pn(t.nextSibling);break t}e--}else n!==pn&&n!==vn&&n!==yn||e++}t=t.nextSibling}Pa=null}}else Pa=xa?Pn(t.stateNode.nextSibling):null;return 1}}function Ta(){Pa=xa=null,Ea=!1}var ja=Q.ReactCurrentOwner,Ra=!1;function Ia(t,e,n,i){e.child=null===t?Oo(e,null,n,i):Co(e,t.child,n,i)}function Na(t,e,n,i,r){n=n.render;var o=e.ref;return oo(e,r),i=Yo(t,e,n,i,o,r),null===t||Ra?(e.effectTag|=1,Ia(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Ja(t,e,r))}function Aa(t,e,n,i,r,o){if(null!==t)return a=t.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Ui)(r,i)&&t.ref===e.ref)?Ja(t,e,o):(e.effectTag|=1,(t=Nl(a,i)).ref=e.ref,(t.return=e).child=t);var a=n.type;return"function"!=typeof a||Il(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Al(n.type,null,i,null,e.mode,o)).ref=e.ref,(t.return=e).child=t):(e.tag=15,e.type=a,Ba(t,e,a,i,r,o))}function Ba(t,e,n,i,r,o){return null!==t&&Ui(t.memoizedProps,i)&&t.ref===e.ref&&(Ra=!1,r<o)?(e.expirationTime=t.expirationTime,Ja(t,e,o)):Ha(t,e,n,i,o)}function za(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Ha(t,e,n,i,r){var o=_r(n)?yr:pr.current;return o=vr(e,o),oo(e,r),n=Yo(t,e,n,i,o,r),null===t||Ra?(e.effectTag|=1,Ia(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Ja(t,e,r))}function Da(t,e,n,i,r){if(_r(n)){var o=!0;kr(e)}else o=!1;if(oo(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),wo(e,n,i),xo(e,n,i,r),i=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?ao(u):vr(e,u=_r(n)?yr:pr.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||s===i&&l===u||ko(e,a,i,u),so=!1;var f=e.memoizedState;a.state=f,po(e,i,a,r),l=e.memoizedState,i=s!==i||f!==l||mr.current||so?("function"==typeof c&&(_o(e,n,c,i),l=e.memoizedState),(s=so||bo(e,n,s,i,f,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=u,s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),!1)}else a=e.stateNode,uo(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Yr(e.type,s),l=a.context,u="object"==typeof(u=n.contextType)&&null!==u?ao(u):vr(e,u=_r(n)?yr:pr.current),(h="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s===i&&l===u||ko(e,a,i,u)),so=!1,l=e.memoizedState,a.state=l,po(e,i,a,r),f=e.memoizedState,i=s!==i||l!==f||mr.current||so?("function"==typeof c&&(_o(e,n,c,i),f=e.memoizedState),(c=so||bo(e,n,s,i,l,f,u))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,u)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=f),a.props=i,a.state=f,a.context=u,c):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),!1);return Fa(t,e,n,i,o,r)}function Fa(t,e,n,i,r,o){za(t,e);var a=0!=(64&e.effectTag);if(!i&&!a)return r&&xr(e,n,!1),Ja(t,e,o);i=e.stateNode,ja.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return e.effectTag|=1,null!==t&&a?(e.child=Co(e,t.child,null,o),e.child=Co(e,null,s,o)):Ia(t,e,s,o),e.memoizedState=i.state,r&&xr(e,n,!0),e.child}function Ua(t){var e=t.stateNode;e.pendingContext?br(0,e.pendingContext,e.pendingContext!==e.context):e.context&&br(0,e.context,!1),No(t,e.containerInfo)}var Za,Va,qa,Wa,Ga={dehydrated:null,retryTime:0};function Ka(t,e,n){var i,r=e.mode,o=e.pendingProps,a=Ho.current,s=!1;if((i=0!=(64&e.effectTag))||(i=0!=(2&a)&&(null===t||null!==t.memoizedState)),i?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),fr(Ho,1&a),null===t){if(void 0!==o.fallback&&Ca(e),s){if(s=o.fallback,0==(2&((o=Bl(null,r,0,null)).return=e).mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Bl(s,r,n,null)).return=e,o.sibling=n,e.memoizedState=Ga,e.child=o,n}return r=o.children,e.memoizedState=null,e.child=Oo(e,null,r,n)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,s){if(o=o.fallback,0==(2&((n=Nl(t,t.pendingProps)).return=e).mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Nl(r,o)).return=e,n.sibling=r,n.childExpirationTime=0,e.memoizedState=Ga,e.child=n,r}return n=Co(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Bl(null,r,0,null)).return=e,null!==(o.child=t)&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Bl(s,r,n,null)).return=e,(o.sibling=n).effectTag|=2,o.childExpirationTime=0,e.memoizedState=Ga,e.child=o,n}return e.memoizedState=null,e.child=Co(e,t,o.children,n)}function $a(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ro(t.return,e)}function Qa(t,e,n,i,r,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function Ya(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Ia(t,e,i.children,n),0!=(2&(i=Ho.current)))i=1&i|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&$a(t,n);else if(19===t.tag)$a(t,n);else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(fr(Ho,i),0==(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===Do(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Qa(e,!1,r,n,o,e.lastEffect);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===Do(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Qa(e,!0,n,null,o,e.lastEffect);break;case"together":Qa(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ja(t,e,n){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&vl(i),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(E(153));if(null!==e.child){for(n=Nl(t=e.child,t.pendingProps),(e.child=n).return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Nl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Xa(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ts(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return _r(e.type)&&gr(),null;case 3:return Ao(),hr(mr),hr(pr),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!La(e)||(e.effectTag|=4),Va(e),null;case 5:zo(e),n=Io(Ro.current);var r=e.type;if(null!==t&&null!=e.stateNode)qa(t,e,r,i,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(E(166));return null}if(t=Io(To.current),La(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[Sn]=e,i[Cn]=o,r){case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(t=0;t<Yt.length;t++)Ke(Yt[t],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"form":Ke("reset",i),Ke("submit",i);break;case"details":Ke("toggle",i);break;case"input":xt(i,o),Ke("invalid",i),sn(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",i),sn(n,"onChange");break;case"textarea":Tt(i,o),Ke("invalid",i),sn(n,"onChange")}for(var a in rn(r,o),t=null,o)if(o.hasOwnProperty(a)){var s=o[a];"children"===a?"string"==typeof s?i.textContent!==s&&(t=["children",s]):"number"==typeof s&&i.textContent!==""+s&&(t=["children",""+s]):k.hasOwnProperty(a)&&null!=s&&sn(n,a)}switch(r){case"input":bt(i),Mt(i,o,!0);break;case"textarea":bt(i),Rt(i);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(i.onclick=ln)}n=t,null!==(e.updateQueue=n)&&(e.effectTag|=4)}else{switch(a=9===n.nodeType?n:n.ownerDocument,t===an&&(t=At(r)),t===an?"script"===r?((t=a.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof i.is?t=a.createElement(r,{is:i.is}):(t=a.createElement(r),"select"===r&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,r),t[Sn]=e,t[Cn]=i,Za(t,e,!1,!1),e.stateNode=t,a=on(r,i),r){case"iframe":case"object":case"embed":Ke("load",t),s=i;break;case"video":case"audio":for(s=0;s<Yt.length;s++)Ke(Yt[s],t);s=i;break;case"source":Ke("error",t),s=i;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),s=i;break;case"form":Ke("reset",t),Ke("submit",t),s=i;break;case"details":Ke("toggle",t),s=i;break;case"input":xt(t,i),s=kt(t,i),Ke("invalid",t),sn(n,"onChange");break;case"option":s=Ct(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=v({},i,{value:void 0}),Ke("invalid",t),sn(n,"onChange");break;case"textarea":Tt(t,i),s=Lt(t,i),Ke("invalid",t),sn(n,"onChange");break;default:s=i}rn(r,s);var l=s;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?en(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&Dt(t,u):"children"===o?"string"==typeof u?"textarea"===r&&""===u||Ft(t,u):"number"==typeof u&&Ft(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(k.hasOwnProperty(o)?null!=u&&sn(n,o):null!=u&&Y(t,o,u,a))}switch(r){case"input":bt(t),Mt(t,i,!1);break;case"textarea":bt(t),Rt(t);break;case"option":null!=i.value&&t.setAttribute("value",""+_t(i.value));break;case"select":t.multiple=!!i.multiple,null!=(n=i.value)?Ot(t,!!i.multiple,n,!1):null!=i.defaultValue&&Ot(t,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof s.onClick&&(t.onclick=ln)}bn(r,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Wa(t,e,t.memoizedProps,i);else{if("string"!=typeof i&&null===e.stateNode)throw Error(E(166));n=Io(Ro.current),Io(To.current),La(e)?(n=e.stateNode,i=e.memoizedProps,n[Sn]=e,n.nodeValue!==i&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Sn]=e).stateNode=n}return null;case 13:return(hr(Ho),i=e.memoizedState,0!=(64&e.effectTag))?(e.expirationTime=n,e):(n=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&La(e):(i=null!==(r=t.memoizedState),n||null===r||null!==(r=t.child.sibling)&&(null!==(o=e.firstEffect)?(e.firstEffect=r).nextEffect=o:(e.firstEffect=e.lastEffect=r,r.nextEffect=null),r.effectTag=8)),n&&!i&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Ho.current)?zs===Cs&&(zs=Ts):(zs!==Cs&&zs!==Ts||(zs=js),0!==Zs&&null!==Ns&&(Ul(Ns,Bs),Zl(Ns,Zs)))),(n||i)&&(e.effectTag|=4),null);case 4:return Ao(),Va(e),null;case 10:return io(e),null;case 17:return _r(e.type)&&gr(),null;case 19:if(hr(Ho),null===(i=e.memoizedState))return null;if(r=0!=(64&e.effectTag),null===(o=i.rendering)){if(r)Xa(i,!1);else if(zs!==Cs||null!==t&&0!=(64&t.effectTag))for(o=e.child;null!==o;){if(null!==(t=Do(o))){for(e.effectTag|=64,Xa(i,!1),null!==(r=t.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)o=n,(r=i).effectTag&=2,r.nextEffect=null,r.firstEffect=null,(r.lastEffect=null)===(t=r.alternate)?(r.childExpirationTime=0,r.expirationTime=o,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=t.childExpirationTime,r.expirationTime=t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,o=t.dependencies,r.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),i=i.sibling;return fr(Ho,1&Ho.current|2),e.child}o=o.sibling}}else{if(!r)if(null!==(t=Do(o))){if(e.effectTag|=64,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Xa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*Ur()-i.renderingStartTime>i.tailExpiration&&1<n&&(e.effectTag|=64,Xa(i,!(r=!0)),e.expirationTime=e.childExpirationTime=n-1);i.isBackwards?(o.sibling=e.child,e.child=o):(null!==(n=i.last)?n.sibling=o:e.child=o,i.last=o)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Ur()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=Ur(),n.sibling=null,e=Ho.current,fr(Ho,r?1&e|2:1&e),n):null}throw Error(E(156,e.tag))}function es(t){switch(t.tag){case 1:_r(t.type)&&gr();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ao(),hr(mr),hr(pr),0!=(64&(e=t.effectTag)))throw Error(E(285));return t.effectTag=-4097&e|64,t;case 5:return zo(t),null;case 13:return hr(Ho),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return hr(Ho),null;case 4:return Ao(),null;case 10:return io(t),null;default:return null}}function ns(t,e){return{value:t,source:e,stack:vt(e)}}Za=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(){},qa=function(t,e,n,i,r){var o=t.memoizedProps;if(o!==i){var a,s,l=e.stateNode;switch(Io(To.current),t=null,n){case"input":o=kt(l,o),i=kt(l,i),t=[];break;case"option":o=Ct(l,o),i=Ct(l,i),t=[];break;case"select":o=v({},o,{value:void 0}),i=v({},i,{value:void 0}),t=[];break;case"textarea":o=Lt(l,o),i=Lt(l,i),t=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(l.onclick=ln)}for(a in rn(n,i),n=null,o)if(!i.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(s in l=o[a])l.hasOwnProperty(s)&&((n=n||{})[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(k.hasOwnProperty(a)?t=t||[]:(t=t||[]).push(a,null));for(a in i){var u=i[a];if(l=null!=o?o[a]:void 0,i.hasOwnProperty(a)&&u!==l&&(null!=u||null!=l))if("style"===a)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||((n=n||{})[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&((n=n||{})[s]=u[s])}else n||(t=t||[]).push(a,n),n=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(t=t||[]).push(a,u)):"children"===a?l===u||"string"!=typeof u&&"number"!=typeof u||(t=t||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(k.hasOwnProperty(a)?(null!=u&&sn(r,a),t||l===u||(t=[])):(t=t||[]).push(a,u))}n&&(t=t||[]).push("style",n),r=t,(e.updateQueue=r)&&(e.effectTag|=4)}},Wa=function(t,e,n,i){n!==i&&(e.effectTag|=4)};var is="function"==typeof WeakSet?WeakSet:Set;function rs(t,e){var n=e.source,i=e.stack;null===i&&null!==n&&(i=vt(n)),null!==n&&yt(n.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(t){setTimeout(function(){throw t})}}function os(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Cl(e,t)}else t.current=null}function as(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Yr(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(E(163))}function ss(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.destroy;(n.destroy=void 0)!==i&&i()}n=n.next}while(n!==e)}}function ls(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function us(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ls(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var i=n.elementType===n.type?e.memoizedProps:Yr(n.type,e.memoizedProps);t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&mo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if((t=null)!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}mo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(null!==(n=n.alternate)&&(null!==(n=n.memoizedState)&&(null!==(n=n.dehydrated)&&Be(n)))));case 19:case 17:case 20:case 21:return}throw Error(E(163))}function cs(t,i,e){switch("function"==typeof Tl&&Tl(i),i.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=i.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;qr(97<e?97:e,function(){var t=r;do{var e=t.destroy;if(void 0!==e){var n=i;try{e()}catch(t){Cl(n,t)}}t=t.next}while(t!==r)})}break;case 1:os(i),"function"==typeof(e=i.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Cl(e,t)}}(i,e);break;case 5:os(i);break;case 4:ps(t,i,e)}}function hs(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,(t.stateNode=null)!==e&&hs(e)}function fs(t){return 5===t.tag||3===t.tag||4===t.tag}function ds(t){t:{for(var e=t.return;null!==e;){if(fs(e)){var n=e;break t}e=e.return}throw Error(E(160))}switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(E(161))}16&n.effectTag&&(Ft(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||fs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n=(n.child.return=n).child}if(!(2&n.effectTag)){n=n.stateNode;break t}}(i?function t(e,n,i){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(8===i.nodeType?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,null!=i||null!==n.onclick||(n.onclick=ln));else if(4!==r&&(e=e.child,null!==e))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling}:function t(e,n,i){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,n?i.insertBefore(e,n):i.appendChild(e);else if(4!==r&&(e=e.child,null!==e))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling})(t,n,e)}function ps(t,e,n){for(var i,r,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(E(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break t;case 3:case 4:i=i.containerInfo,r=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var s=t,l=o,u=n,c=l;;)if(cs(s,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break t;for(;null===c.sibling;){if(null===c.return||c.return===l)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=i,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o=(o.child.return=o).child;continue}}else if(cs(t,o,n),null!==o.child){o=(o.child.return=o).child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ms(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps,r=null!==t?t.memoizedProps:i;t=e.type;var o=e.updateQueue;if((e.updateQueue=null)!==o){for(n[Cn]=i,"input"===t&&"radio"===i.type&&null!=i.name&&Pt(n,i),on(t,r),e=on(t,i),r=0;r<o.length;r+=2){var a=o[r],s=o[r+1];"style"===a?en(n,s):"dangerouslySetInnerHTML"===a?Dt(n,s):"children"===a?Ft(n,s):Y(n,a,s,e)}switch(t){case"input":Et(n,i);break;case"textarea":jt(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(t=i.value)?Ot(n,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?Ot(n,!!i.multiple,i.defaultValue,!0):Ot(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(E(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Be(e.containerInfo)));case 12:return;case 13:if(null===(n=e).memoizedState?i=!1:(i=!0,n=e.child,qs=Ur()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,r=null!=(r=t.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=tn("display",r));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t=(t.child.return=t).child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ys(e);case 19:return void ys(e);case 17:return}throw Error(E(163))}function ys(n){var t=n.updateQueue;if(null!==t){n.updateQueue=null;var i=n.stateNode;null===i&&(i=n.stateNode=new is),t.forEach(function(t){var e=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),(e=0)===e&&(e=ol(e=rl(),t,null)),null!==(t=sl(t,e))&&ul(t)}.bind(null,n,t);i.has(t)||(i.add(t),t.then(e,e))})}}var vs="function"==typeof WeakMap?WeakMap:Map;function _s(t,e,n){(n=co(n,null)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ks||(Ks=!0,$s=i),rs(t,e)},n}function gs(e,n,t){(t=co(t,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=n.value;t.payload=function(){return rs(e,n),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(t.callback=function(){"function"!=typeof i&&(null===Qs?Qs=new Set([this]):Qs.add(this),rs(e,n));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}var bs,ws=Math.ceil,ks=Q.ReactCurrentDispatcher,xs=Q.ReactCurrentOwner,Ps=0,Es=8,Ms=16,Ss=32,Cs=0,Os=1,Ls=2,Ts=3,js=4,Rs=5,Is=Ps,Ns=null,As=null,Bs=0,zs=Cs,Hs=null,Ds=1073741823,Fs=1073741823,Us=null,Zs=0,Vs=!1,qs=0,Ws=500,Gs=null,Ks=!1,$s=null,Qs=null,Ys=!1,Js=null,Xs=90,tl=null,el=0,nl=null,il=0;function rl(){return(Is&(Ms|Ss))!==Ps?1073741821-(Ur()/10|0):0!==il?il:il=1073741821-(Ur()/10|0)}function ol(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var i=Zr();if(0==(4&e))return 99===i?1073741823:1073741822;if((Is&Ms)!==Ps)return Bs;if(null!==n)t=Qr(t,0|n.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=Qr(t,150,100);break;case 97:case 96:t=Qr(t,5e3,250);break;case 95:t=2;break;default:throw Error(E(326))}return null!==Ns&&t===Bs&&--t,t}function al(t,e){if(50<el)throw el=0,nl=null,Error(E(185));if(null!==(t=sl(t,e))){var n=Zr();1073741823===e?(Is&Es)!==Ps&&(Is&(Ms|Ss))===Ps?cl(t):(ul(t),Is===Ps&&Kr()):ul(t),(4&Is)===Ps||98!==n&&99!==n||(null===tl?tl=new Map([[t,e]]):(void 0===(n=tl.get(t))||e<n)&&tl.set(t,e))}}function sl(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var i=t.return,r=null;if(null===i&&3===t.tag)r=t.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<e&&(i.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Ns===r&&(vl(e),zs===js&&Ul(r,Bs)),Zl(r,e)),r}function ll(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Fl(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return(t=(t=t.nextKnownPendingLevel)<n?n:t)<=2&&e!==t?0:t}function ul(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Gr(cl.bind(null,t));else{var e=ll(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var i=rl();if(i=1073741823===e?99:1===e||2===e?95:(i=10*(1073741821-e)-10*(1073741821-i))<=0?99:i<=250?98:i<=5250?97:95,null!==n){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&i<=r)return;n!==Nr&&Mr(n)}t.callbackExpirationTime=e,t.callbackPriority=i,e=1073741823===e?Gr(cl.bind(null,t)):Wr(i,function t(e,n){il=0;if(n)return n=rl(),Vl(e,n),ul(e),null;var i=ll(e);if(0!==i){if(n=e.callbackNode,(Is&(Ms|Ss))!==Ps)throw Error(E(327));if(El(),e===Ns&&i===Bs||dl(e,i),null!==As){var r=Is;Is|=Ms;for(var o=ml();;)try{gl();break}catch(t){pl(e,t)}if(no(),Is=r,ks.current=o,zs===Os)throw n=Hs,dl(e,i),Ul(e,i),ul(e),n;if(null===As)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=i,r=zs,Ns=null,r){case Cs:case Os:throw Error(E(345));case Ls:Vl(e,2<i?2:i);break;case Ts:if(Ul(e,i),r=e.lastSuspendedTime,i===r&&(e.nextKnownPendingLevel=kl(o)),1073741823===Ds&&10<(o=qs+Ws-Ur())){if(Vs){var a=e.lastPingedTime;if(0===a||i<=a){e.lastPingedTime=i,dl(e,i);break}}if(0!==(a=ll(e))&&a!==i)break;if(0!==r&&r!==i){e.lastPingedTime=r;break}e.timeoutHandle=kn(xl.bind(null,e),o);break}xl(e);break;case js:if(Ul(e,i),r=e.lastSuspendedTime,i===r&&(e.nextKnownPendingLevel=kl(o)),Vs&&(0===(o=e.lastPingedTime)||i<=o)){e.lastPingedTime=i,dl(e,i);break}if(0!==(o=ll(e))&&o!==i)break;if(0!==r&&r!==i){e.lastPingedTime=r;break}if(1073741823!==Fs?r=10*(1073741821-Fs)-Ur():1073741823===Ds?r=0:(r=10*(1073741821-Ds)-5e3,o=Ur(),i=10*(1073741821-i)-o,(r=o-r)<0&&(r=0),r=(r<120?120:r<480?480:r<1080?1080:r<1920?1920:r<3e3?3e3:r<4320?4320:1960*ws(r/1960))-r,i<r&&(r=i)),10<r){e.timeoutHandle=kn(xl.bind(null,e),r);break}xl(e);break;case Rs:if(1073741823!==Ds&&null!==Us){a=Ds;var s=Us;if(10<(r=(r=0|s.busyMinDurationMs)<=0?0:(o=0|s.busyDelayMs,(a=Ur()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=o?0:o+r-a))){Ul(e,i),e.timeoutHandle=kn(xl.bind(null,e),r);break}}xl(e);break;default:throw Error(E(329))}if(ul(e),e.callbackNode===n)return t.bind(null,e)}}return null}.bind(null,t),{timeout:10*(1073741821-e)-Ur()}),t.callbackNode=e}}}function cl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Is&(Ms|Ss))!==Ps)throw Error(E(327));if(El(),e===Ns&&t===Bs||dl(e,t),null!==As){var n=Is;Is|=Ms;for(var i=ml();;)try{_l();break}catch(t){pl(e,t)}if(no(),Is=n,ks.current=i,zs===Os)throw n=Hs,dl(e,t),Ul(e,t),ul(e),n;if(null!==As)throw Error(E(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ns=null,xl(e),ul(e)}return null}function hl(t,e){var n=Is;Is|=1;try{return t(e)}finally{(Is=n)===Ps&&Kr()}}function fl(t,e){var n=Is;Is&=-2,Is|=Es;try{return t(e)}finally{(Is=n)===Ps&&Kr()}}function dl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,xn(n)),null!==As)for(n=As.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&gr();break;case 3:Ao(),hr(mr),hr(pr);break;case 5:zo(i);break;case 4:Ao();break;case 13:case 19:hr(Ho);break;case 10:io(i)}n=n.return}As=Nl((Ns=t).current,null),Bs=e,zs=Cs,Fs=Ds=1073741823,Us=Hs=null,Zs=0,Vs=!1}function pl(t,e){for(;;){try{if(no(),Uo.current=ga,Ko)for(var n=qo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Vo=0,Go=Wo=qo=null,Ko=!1,null===As||null===As.return)return zs=Os,Hs=e,As=null;t:{var r=t,o=As.return,a=As,s=e;if(e=Bs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Ho.current),h=o;do{var f;if(f=13===h.tag){var d=h.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var p=h.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var m=h.updateQueue;if(null===m){var y=new Set;y.add(l),h.updateQueue=y}else m.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=co(1073741823,null);v.tag=2,ho(a,v)}a.expirationTime=1073741823;break t}s=void 0,a=e;var _=r.pingCache;if(null===_?(_=r.pingCache=new vs,s=new Set,_.set(l,s)):void 0===(s=_.get(l))&&(s=new Set,_.set(l,s)),!s.has(a)){s.add(a);var g=Ol.bind(null,r,l,a);l.then(g,g)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((yt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+vt(a))}zs!==Rs&&(zs=Ls),s=ns(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=e,fo(h,_s(h,l,e));break t;case 1:l=s;var b=h.type,w=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Qs||!Qs.has(w)))){h.effectTag|=4096,h.expirationTime=e,fo(h,gs(h,l,e));break t}}h=h.return}while(null!==h)}As=wl(As)}catch(t){e=t;continue}break}}function ml(){var t=ks.current;return ks.current=ga,null===t?ga:t}function yl(t,e){t<Ds&&2<t&&(Ds=t),null!==e&&t<Fs&&2<t&&(Fs=t,Us=e)}function vl(t){Zs<t&&(Zs=t)}function _l(){for(;null!==As;)As=bl(As)}function gl(){for(;null!==As&&!Ar();)As=bl(As)}function bl(t){var e=bs(t.alternate,t,Bs);return t.memoizedProps=t.pendingProps,null===e&&(e=wl(t)),xs.current=null,e}function wl(t){As=t;do{var e=As.alternate;if(t=As.return,0==(2048&As.effectTag)){if(e=ts(e,As,Bs),1===Bs||1!==As.childExpirationTime){for(var n=0,i=As.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;n<r&&(n=r),n<o&&(n=o),i=i.sibling}As.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=As.firstEffect),null!==As.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=As.firstEffect),t.lastEffect=As.lastEffect),1<As.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=As:t.firstEffect=As,t.lastEffect=As))}else{if(null!==(e=es(As)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=As.sibling))return e;As=t}while(null!==As);return zs===Cs&&(zs=Rs),null}function kl(t){var e=t.expirationTime;return(t=t.childExpirationTime)<e?e:t}function xl(t){var e=Zr();return qr(99,function(t,e){for(;El(),null!==Js;);if((Is&(Ms|Ss))!==Ps)throw Error(E(327));var n=t.finishedWork,i=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=kl(n);if(t.firstPendingTime=r,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ns&&(As=Ns=null,Bs=0),r=1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,n.firstEffect):n:n.firstEffect,null!==r){var o=Is;Is|=Ss,xs.current=null,_n=Ge;var a=fn();if(dn(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else t:{var l=(s=(s=a.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var u=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{s.nodeType,c.nodeType}catch(t){s=null;break t}var h=0,f=-1,d=-1,p=0,m=0,y=a,v=null;e:for(;;){for(var _;y!==s||0!==u&&3!==y.nodeType||(f=h+u),y!==c||0!==l&&3!==y.nodeType||(d=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(_=y.firstChild);)v=y,y=_;for(;;){if(y===a)break e;if(v===s&&++p===u&&(f=h),v===c&&++m===l&&(d=h),null!==(_=y.nextSibling))break;v=(y=v).parentNode}y=_}s=-1===f||-1===d?null:{start:f,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;Ge=!(gn={activeElementDetached:null,focusedElem:a,selectionRange:s}),Gs=r;do{try{Pl()}catch(t){if(null===Gs)throw Error(E(330));Cl(Gs,t),Gs=Gs.nextEffect}}while(null!==Gs);Gs=r;do{try{for(a=t,s=e;null!==Gs;){var g=Gs.effectTag;if(16&g&&Ft(Gs.stateNode,""),128&g){var b=Gs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&g){case 2:ds(Gs),Gs.effectTag&=-3;break;case 6:ds(Gs),Gs.effectTag&=-3,ms(Gs.alternate,Gs);break;case 1024:Gs.effectTag&=-1025;break;case 1028:Gs.effectTag&=-1025,ms(Gs.alternate,Gs);break;case 4:ms(Gs.alternate,Gs);break;case 8:ps(a,u=Gs,s),hs(u)}Gs=Gs.nextEffect}}catch(t){if(null===Gs)throw Error(E(330));Cl(Gs,t),Gs=Gs.nextEffect}}while(null!==Gs);if(w=gn,b=fn(),g=w.focusedElem,s=w.selectionRange,b!==g&&g&&g.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(g.ownerDocument.documentElement,g)){null!==s&&dn(g)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in g?(g.selectionStart=b,g.selectionEnd=Math.min(w,g.value.length)):(w=(b=g.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=g.textContent.length,a=Math.min(s.start,u),s=void 0===s.end?a:Math.min(s.end,u),!w.extend&&s<a&&(u=s,s=a,a=u),u=hn(g,a),c=hn(g,s),u&&c&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==c.node||w.focusOffset!==c.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s<a?(w.addRange(b),w.extend(c.node,c.offset)):(b.setEnd(c.node,c.offset),w.addRange(b))))),b=[];for(w=g;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof g.focus&&g.focus(),g=0;g<b.length;g++)(w=b[g]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ge=!!_n,gn=_n=null,t.current=n,Gs=r;do{try{for(g=t;null!==Gs;){var k=Gs.effectTag;if(36&k&&us(g,Gs.alternate,Gs),128&k){b=void 0;var x=Gs.ref;if(null!==x){var P=Gs.stateNode;switch(Gs.tag){case 5:b=P;break;default:b=P}"function"==typeof x?x(b):x.current=b}}Gs=Gs.nextEffect}}catch(t){if(null===Gs)throw Error(E(330));Cl(Gs,t),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Br(),Is=o}else t.current=n;if(Ys)Ys=!1,Js=t,Xs=e;else for(Gs=r;null!==Gs;)e=Gs.nextEffect,Gs.nextEffect=null,Gs=e;if(0===(e=t.firstPendingTime)&&(Qs=null),1073741823===e?t===nl?el++:(el=0,nl=t):el=0,"function"==typeof Ll&&Ll(n.stateNode,i),ul(t),Ks)throw Ks=!1,t=$s,$s=null,t;return(Is&Es)!==Ps||Kr(),null}.bind(null,t,e)),null}function Pl(){for(;null!==Gs;){var t=Gs.effectTag;0!=(256&t)&&as(Gs.alternate,Gs),0==(512&t)||Ys||(Ys=!0,Wr(97,function(){return El(),null})),Gs=Gs.nextEffect}}function El(){if(90!==Xs){var t=97<Xs?97:Xs;return Xs=90,qr(t,Ml)}}function Ml(){if(null===Js)return!1;var e=Js;if(Js=null,(Is&(Ms|Ss))!==Ps)throw Error(E(331));var t=Is;for(Is|=Ss,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ss(5,n),ls(5,n)}}catch(t){if(null===e)throw Error(E(330));Cl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Is=t,Kr(),!0}function Sl(t,e,n){ho(t,e=_s(t,e=ns(n,e),1073741823)),null!==(t=sl(t,1073741823))&&ul(t)}function Cl(t,e){if(3===t.tag)Sl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Sl(n,t,e);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Qs||!Qs.has(i))){ho(n,t=gs(n,t=ns(e,t),1073741823)),null!==(n=sl(n,1073741823))&&ul(n);break}}n=n.return}}function Ol(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),Ns===t&&Bs===n?zs===js||zs===Ts&&1073741823===Ds&&Ur()-qs<Ws?dl(t,Bs):Vs=!0:Fl(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,ul(t)))}bs=function(t,e,n){var i=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||mr.current)Ra=!0;else{if(i<n){switch(Ra=!1,e.tag){case 3:Ua(e),Ta();break;case 5:if(Bo(e),4&e.mode&&1!==n&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:_r(e.type)&&kr(e);break;case 4:No(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,r=e.type._context,fr(Jr,r._currentValue),r._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&n<=i?Ka(t,e,n):(fr(Ho,1&Ho.current),null!==(e=Ja(t,e,n))?e.sibling:null);fr(Ho,1&Ho.current);break;case 19:if(i=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(i)return Ya(t,e,n);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),fr(Ho,Ho.current),!i)return null}return Ja(t,e,n)}Ra=!1}}else Ra=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=vr(e,pr.current),oo(e,n),r=Yo(null,e,i,t,r,n),e.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(i)){var o=!0;kr(e)}else o=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,lo(e);var a=i.getDerivedStateFromProps;"function"==typeof a&&_o(e,i,a,t),r.updater=go,xo((e.stateNode=r)._reactInternalFiber=e,i,t,n),e=Fa(null,e,i,!0,o,n)}else e.tag=0,Ia(null,e,r,n),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),(e._result=t).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,o=e.tag=function(t){if("function"==typeof t)return Il(t)?1:0;if(null!=t){if((t=t.$$typeof)===lt)return 11;if(t===ht)return 14}return 2}(r),t=Yr(r,t),o){case 0:e=Ha(null,e,r,t,n);break t;case 1:e=Da(null,e,r,t,n);break t;case 11:e=Na(null,e,r,t,n);break t;case 14:e=Aa(null,e,r,Yr(r.type,t),i,n);break t}throw Error(E(306,r,""))}return e;case 0:return i=e.type,r=e.pendingProps,Ha(t,e,i,r=e.elementType===i?r:Yr(i,r),n);case 1:return i=e.type,r=e.pendingProps,Da(t,e,i,r=e.elementType===i?r:Yr(i,r),n);case 3:if(Ua(e),i=e.updateQueue,null===t||null===i)throw Error(E(282));if(i=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,uo(t,e),po(e,i,null,n),(i=e.memoizedState.element)===r)Ta(),e=Ja(t,e,n);else{if((r=e.stateNode.hydrate)&&(Pa=Pn(e.stateNode.containerInfo.firstChild),xa=e,r=Ea=!0),r)for(n=Oo(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ia(t,e,i,n),Ta();e=e.child}return e;case 5:return Bo(e),null===t&&Ca(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,wn(i,r)?a=null:null!==o&&wn(i,o)&&(e.effectTag|=16),za(t,e),e=4&e.mode&&1!==n&&r.hidden?(e.expirationTime=e.childExpirationTime=1,null):(Ia(t,e,a,n),e.child);case 6:return null===t&&Ca(e),null;case 13:return Ka(t,e,n);case 4:return No(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Co(e,null,i,n):Ia(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Na(t,e,i,r=e.elementType===i?r:Yr(i,r),n);case 7:return Ia(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ia(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value;var s=e.type._context;if(fr(Jr,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=Di(s,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(s,o):1073741823))){if(a.children===r.children&&!mr.current){e=Ja(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&o)){1===s.tag&&((u=co(n,null)).tag=2,ho(s,u)),s.expirationTime<n&&(s.expirationTime=n),null!==(u=s.alternate)&&u.expirationTime<n&&(u.expirationTime=n),ro(s.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else a=10===s.tag&&s.type===e.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ia(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=(o=e.pendingProps).children,oo(e,n),i=i(r=ao(r,o.unstable_observedBits)),e.effectTag|=1,Ia(t,e,i,n),e.child;case 14:return o=Yr(r=e.type,e.pendingProps),Aa(t,e,r,o=Yr(r.type,o),i,n);case 15:return Ba(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Yr(i,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,_r(i)?(t=!0,kr(e)):t=!1,oo(e,n),wo(e,i,r),xo(e,i,r,n),Fa(null,e,i,!0,t,n);case 19:return Ya(t,e,n)}throw Error(E(156,e.tag))};var Ll=null,Tl=null;function jl(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Rl(t,e,n,i){return new jl(t,e,n,i)}function Il(t){return(t=t.prototype)&&t.isReactComponent}function Nl(t,e){var n=t.alternate;return null===n?((n=Rl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,(n.alternate=t).alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Al(t,e,n,i,r,o){var a=2;if("function"==typeof(i=t))Il(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case nt:return Bl(n.children,r,o,e);case st:a=8,r|=7;break;case it:a=8,r|=1;break;case rt:return(t=Rl(12,n,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=o,t;case ut:return(t=Rl(13,n,e,r)).type=ut,t.elementType=ut,t.expirationTime=o,t;case ct:return(t=Rl(19,n,e,r)).elementType=ct,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case ot:a=10;break t;case at:a=9;break t;case lt:a=11;break t;case ht:a=14;break t;case ft:a=16,i=null;break t;case dt:a=22;break t}throw Error(E(130,null==t?t:typeof t,""))}return(e=Rl(a,n,e,r)).elementType=t,e.type=i,e.expirationTime=o,e}function Bl(t,e,n,i){return(t=Rl(7,t,i,e)).expirationTime=n,t}function zl(t,e,n){return(t=Rl(6,t,null,e)).expirationTime=n,t}function Hl(t,e,n){return(e=Rl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dl(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Fl(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&e<=n&&t<=e}function Ul(t,e){var n=t.firstSuspendedTime,i=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(e<i||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Zl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(n<=e?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Vl(t,e){var n=t.lastExpiredTime;(0===n||e<n)&&(t.lastExpiredTime=e)}function ql(t,e,n,i){var r=e.current,o=rl(),a=yo.suspense;o=ol(o,r,a);t:if(n){e:{if(te(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(E(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(_r(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(E(171))}if(1===n.tag){var l=n.type;if(_r(l)){n=wr(n,l,s);break t}}n=s}else n=dr;return null===e.context?e.context=n:e.pendingContext=n,(e=co(o,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),ho(r,e),al(r,o),o}function Wl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Gl(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Kl(t,e){Gl(t,e),(t=t.alternate)&&Gl(t,e)}function $l(t,e,n){var i,r,o=new Dl(t,e,n=null!=n&&!0===n.hydrate),a=Rl(3,null,null,2===e?7:1===e?3:0);(o.current=a).stateNode=o,lo(a),t[On]=o.current,n&&0!==e&&(i=9===t.nodeType?t:t.ownerDocument,r=Xt(i),Se.forEach(function(t){me(t,i,r)}),Ce.forEach(function(t){me(t,i,r)})),this._internalRoot=o}function Ql(t){return t&&(1===t.nodeType||9===t.nodeType||11===t.nodeType||8===t.nodeType&&" react-mount-point-unstable "===t.nodeValue)}function Yl(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof r){var s=r;r=function(){var t=Wl(a);s.call(t)}}ql(e,a,t,r)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new $l(t,0,e?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"==typeof r){var l=r;r=function(){var t=Wl(a);l.call(t)}}fl(function(){ql(e,a,t,r)})}return Wl(a)}function Jl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(e))throw Error(E(200));return function(t,e,n,i){var r=3<arguments.length&&void 0!==i?i:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}$l.prototype.render=function(t){ql(t,this._internalRoot,null,null)},$l.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;ql(null,t,null,function(){e[On]=null})},ye=function(t){if(13===t.tag){var e=Qr(rl(),150,100);al(t,e),Kl(t,e)}},ve=function(t){13===t.tag&&(al(t,3),Kl(t,3))},_e=function(t){if(13===t.tag){var e=rl();al(t,e=ol(e,t,null)),Kl(t,e)}},S=function(t,e,n){switch(e){case"input":if(Et(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Rn(i);if(!r)throw Error(E(90));wt(i),Et(i,r)}}}break;case"textarea":jt(t,n);break;case"select":null!=(e=n.value)&&Ot(t,!!n.multiple,e,!1)}},R=hl,I=function(t,e,n,i,r){var o=Is;Is|=4;try{return qr(98,t.bind(null,e,n,i,r))}finally{(Is=o)===Ps&&Kr()}},N=function(){(Is&(1|Ms|Ss))===Ps&&(function(){if(null!==tl){var t=tl;tl=null,t.forEach(function(t,e){Vl(e,t),ul(e)}),Kr()}}(),El())};var Xl,tu,eu={Events:[Tn,jn,Rn,P,w,Dn,function(t){oe(t,Hn)},T,j,Qe,le,El,{current:!(A=function(t,e){var n=Is;Is|=2;try{return t(e)}finally{(Is=n)===Ps&&Kr()}})}]};tu=(Xl={findFiberByHostInstance:Ln,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return;try{var n=e.inject(t);Ll=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},Tl=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}}(v({},Xl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return tu?tu(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,n.createPortal=Jl,n.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0!==e)return t=null===(t=ie(e))?null:t.stateNode;if("function"==typeof t.render)throw Error(E(188));throw Error(E(268,Object.keys(t)))},n.flushSync=function(t,e){if((Is&(Ms|Ss))!==Ps)throw Error(E(187));var n=Is;Is|=1;try{return qr(99,t.bind(null,e))}finally{Is=n,Kr()}},n.hydrate=function(t,e,n){if(!Ql(e))throw Error(E(200));return Yl(null,t,e,!0,n)},n.render=function(t,e,n){if(!Ql(e))throw Error(E(200));return Yl(null,t,e,!1,n)},n.unmountComponentAtNode=function(t){if(!Ql(t))throw Error(E(40));return!!t._reactRootContainer&&(fl(function(){Yl(null,null,t,!1,function(){t._reactRootContainer=null,t[On]=null})}),!0)},n.unstable_batchedUpdates=hl,n.unstable_createPortal=function(t,e){return Jl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},n.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ql(n))throw Error(E(200));if(null==t||void 0===t._reactInternalFiber)throw Error(E(38));return Yl(t,e,n,!1,i)},n.version="16.14.0"},{"object-assign":43,react:73,scheduler:89}],57:[function(t,e,n){"use strict";(function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}})(),e.exports=t("./cjs/react-dom.production.min.js")},{"./cjs/react-dom.development.js":55,"./cjs/react-dom.production.min.js":56}],58:[function(t,e,A){(function(N){(function(){"use strict";function e(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:var n=t.type;switch(n){case h:case f:case a:case l:case s:case p:return n;default:var i=n&&n.$$typeof;switch(i){case c:case d:case y:case m:case u:return i;default:return e}}case o:return e}}}function n(t){return e(t)===f}var t,r,o,a,s,l,u,c,h,f,d,p,i,m,y,v,_,g,b,w,k,x,P,E,M,S,C,O,L,T,j,R,I;"production"!==N.env.NODE_ENV&&(t="function"==typeof Symbol&&Symbol.for,r=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,h=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,i=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,_=t?Symbol.for("react.fundamental"):60117,g=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119,w=h,k=f,x=c,P=u,E=r,M=d,S=a,C=y,O=m,L=o,T=l,j=s,R=p,I=!1,A.AsyncMode=w,A.ConcurrentMode=k,A.ContextConsumer=x,A.ContextProvider=P,A.Element=E,A.ForwardRef=M,A.Fragment=S,A.Lazy=C,A.Memo=O,A.Portal=L,A.Profiler=T,A.StrictMode=j,A.Suspense=R,A.isAsyncMode=function(t){return I||(I=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),n(t)||e(t)===h},A.isConcurrentMode=n,A.isContextConsumer=function(t){return e(t)===c},A.isContextProvider=function(t){return e(t)===u},A.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},A.isForwardRef=function(t){return e(t)===d},A.isFragment=function(t){return e(t)===a},A.isLazy=function(t){return e(t)===y},A.isMemo=function(t){return e(t)===m},A.isPortal=function(t){return e(t)===o},A.isProfiler=function(t){return e(t)===l},A.isStrictMode=function(t){return e(t)===s},A.isSuspense=function(t){return e(t)===p},A.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===f||t===l||t===s||t===p||t===i||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===u||t.$$typeof===c||t.$$typeof===d||t.$$typeof===_||t.$$typeof===g||t.$$typeof===b||t.$$typeof===v)},A.typeOf=e)}).call(this)}).call(this,t("_process"))},{_process:46}],59:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,y=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,_=i?Symbol.for("react.block"):60121,g=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function k(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case h:case f:case a:case l:case s:case p:return t;default:switch(t=t&&t.$$typeof){case c:case d:case v:case y:case u:return t;default:return e}}case o:return e}}}function x(t){return k(t)===f}n.AsyncMode=h,n.ConcurrentMode=f,n.ContextConsumer=c,n.ContextProvider=u,n.Element=r,n.ForwardRef=d,n.Fragment=a,n.Lazy=v,n.Memo=y,n.Portal=o,n.Profiler=l,n.StrictMode=s,n.Suspense=p,n.isAsyncMode=function(t){return x(t)||k(t)===h},n.isConcurrentMode=x,n.isContextConsumer=function(t){return k(t)===c},n.isContextProvider=function(t){return k(t)===u},n.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},n.isForwardRef=function(t){return k(t)===d},n.isFragment=function(t){return k(t)===a},n.isLazy=function(t){return k(t)===v},n.isMemo=function(t){return k(t)===y},n.isPortal=function(t){return k(t)===o},n.isProfiler=function(t){return k(t)===l},n.isStrictMode=function(t){return k(t)===s},n.isSuspense=function(t){return k(t)===p},n.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===f||t===l||t===s||t===p||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===y||t.$$typeof===u||t.$$typeof===c||t.$$typeof===d||t.$$typeof===g||t.$$typeof===b||t.$$typeof===w||t.$$typeof===_)},n.typeOf=k},{}],60:[function(e,n,t){(function(t){(function(){"use strict";"production"===t.env.NODE_ENV?n.exports=e("./cjs/react-is.production.min.js"):n.exports=e("./cjs/react-is.development.js")}).call(this)}).call(this,e("_process"))},{"./cjs/react-is.development.js":58,"./cjs/react-is.production.min.js":59,_process:46}],61:[function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var P=t("react-router"),E=i(t("react")),o=t("history"),r=i(t("prop-types")),a=i(t("tiny-warning")),M=i(t("tiny-invariant"));function S(){return(S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function s(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function C(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||(r[n]=t[n]);return r}var l=function(r){function t(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=r.call.apply(r,[this].concat(n))||this).history=o.createBrowserHistory(t.props),t}return s(t,r),t.prototype.render=function(){return E.createElement(P.Router,{history:this.history,children:this.props.children})},t}(E.Component);l.propTypes={basename:r.string,children:r.node,forceRefresh:r.bool,getUserConfirmation:r.func,keyLength:r.number},l.prototype.componentDidMount=function(){a(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")};var u=function(r){function t(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=r.call.apply(r,[this].concat(n))||this).history=o.createHashHistory(t.props),t}return s(t,r),t.prototype.render=function(){return E.createElement(P.Router,{history:this.history,children:this.props.children})},t}(E.Component);u.propTypes={basename:r.string,children:r.node,getUserConfirmation:r.func,hashType:r.oneOf(["hashbang","noslash","slash"])},u.prototype.componentDidMount=function(){a(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")};function O(t,e){return"function"==typeof t?t(e):t}function L(t,e){return"string"==typeof t?o.createLocation(t,null,null,e):t}function h(t){return t}var f=E.forwardRef;void 0===f&&(f=h);var d=f(function(t,e){var n=t.innerRef,i=t.navigate,r=t.onClick,o=C(t,["innerRef","navigate","onClick"]),a=o.target,s=S({},o,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}var t;e.defaultPrevented||0!==e.button||a&&"_self"!==a||((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)||(e.preventDefault(),i())}});return s.ref=h!==f&&e||n,E.createElement("a",s)});d.displayName="LinkAnchor";var T=f(function(t,o){var e=t.component,a=void 0===e?d:e,s=t.replace,l=t.to,u=t.innerRef,c=C(t,["component","replace","to","innerRef"]);return E.createElement(P.__RouterContext.Consumer,null,function(e){e||M(!1,"You should not use <Link> outside a <Router>");var n=e.history,t=L(O(l,e.location),e.location),i=t?n.createHref(t):"",r=S({},c,{href:i,navigate:function(){var t=O(l,e.location);(s?n.replace:n.push)(t)}});return h!==f?r.ref=o||u:r.innerRef=u,E.createElement(a,r)})}),c=r.oneOfType([r.string,r.object,r.func]),p=r.oneOfType([r.string,r.func,r.shape({current:r.any})]);T.displayName="Link",T.propTypes={innerRef:p,onClick:r.func,replace:r.bool,target:r.string,to:c.isRequired};function j(t){return t}var R=E.forwardRef;void 0===R&&(R=j);var m=R(function(t,c){var e=t["aria-current"],h=void 0===e?"page":e,n=t.activeClassName,f=void 0===n?"active":n,d=t.activeStyle,p=t.className,m=t.exact,y=t.isActive,v=t.location,_=t.sensitive,g=t.strict,b=t.style,w=t.to,k=t.innerRef,x=C(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return E.createElement(P.__RouterContext.Consumer,null,function(t){t||M(!1,"You should not use <NavLink> outside a <Router>");var e=v||t.location,n=L(O(w,e),e),i=n.pathname,r=i&&i.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),o=r?P.matchPath(e.pathname,{path:r,exact:m,sensitive:_,strict:g}):null,a=!!(y?y(o,e):o),s=a?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return t}).join(" ")}(p,f):p,l=a?S({},b,{},d):b,u=S({"aria-current":a&&h||null,className:s,style:l,to:n},x);return j!==R?u.ref=c||k:u.innerRef=k,E.createElement(T,u)})});m.displayName="NavLink";var y=r.oneOf(["page","step","location","date","time","true"]);m.propTypes=S({},T.propTypes,{"aria-current":y,activeClassName:r.string,activeStyle:r.object,className:r.string,exact:r.bool,isActive:r.func,location:r.object,sensitive:r.bool,strict:r.bool,style:r.object}),Object.defineProperty(n,"MemoryRouter",{enumerable:!0,get:function(){return P.MemoryRouter}}),Object.defineProperty(n,"Prompt",{enumerable:!0,get:function(){return P.Prompt}}),Object.defineProperty(n,"Redirect",{enumerable:!0,get:function(){return P.Redirect}}),Object.defineProperty(n,"Route",{enumerable:!0,get:function(){return P.Route}}),Object.defineProperty(n,"Router",{enumerable:!0,get:function(){return P.Router}}),Object.defineProperty(n,"StaticRouter",{enumerable:!0,get:function(){return P.StaticRouter}}),Object.defineProperty(n,"Switch",{enumerable:!0,get:function(){return P.Switch}}),Object.defineProperty(n,"generatePath",{enumerable:!0,get:function(){return P.generatePath}}),Object.defineProperty(n,"matchPath",{enumerable:!0,get:function(){return P.matchPath}}),Object.defineProperty(n,"useHistory",{enumerable:!0,get:function(){return P.useHistory}}),Object.defineProperty(n,"useLocation",{enumerable:!0,get:function(){return P.useLocation}}),Object.defineProperty(n,"useParams",{enumerable:!0,get:function(){return P.useParams}}),Object.defineProperty(n,"useRouteMatch",{enumerable:!0,get:function(){return P.useRouteMatch}}),Object.defineProperty(n,"withRouter",{enumerable:!0,get:function(){return P.withRouter}}),n.BrowserRouter=l,n.HashRouter=u,n.Link=T,n.NavLink=m},{history:66,"prop-types":53,react:73,"react-router":70,"tiny-invariant":92,"tiny-warning":93}],62:[function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(n,"__esModule",{value:!0});var P=t("react-router"),E=i(t("react")),r=t("history");t("prop-types"),t("tiny-warning");var M=i(t("tiny-invariant"));function S(){return(S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function o(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function C(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||(r[n]=t[n]);return r}function O(t,e){return"function"==typeof t?t(e):t}function L(t,e){return"string"==typeof t?r.createLocation(t,null,null,e):t}function h(t){return t}var a,s,l=(o(d,s=E.Component),d.prototype.render=function(){return E.createElement(P.Router,{history:this.history,children:this.props.children})},d),u=(o(c,a=E.Component),c.prototype.render=function(){return E.createElement(P.Router,{history:this.history,children:this.props.children})},c),f=E.forwardRef;function c(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=a.call.apply(a,[this].concat(n))||this).history=r.createHashHistory(t.props),t}function d(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=s.call.apply(s,[this].concat(n))||this).history=r.createBrowserHistory(t.props),t}void 0===f&&(f=h);function T(t){return t}var p=f(function(t,e){var n=t.innerRef,i=t.navigate,r=t.onClick,o=C(t,["innerRef","navigate","onClick"]),a=o.target,s=S({},o,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}var t;e.defaultPrevented||0!==e.button||a&&"_self"!==a||((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)||(e.preventDefault(),i())}});return s.ref=h!==f&&e||n,E.createElement("a",s)}),j=f(function(t,o){var e=t.component,a=void 0===e?p:e,s=t.replace,l=t.to,u=t.innerRef,c=C(t,["component","replace","to","innerRef"]);return E.createElement(P.__RouterContext.Consumer,null,function(e){e||M(!1);var n=e.history,t=L(O(l,e.location),e.location),i=t?n.createHref(t):"",r=S({},c,{href:i,navigate:function(){var t=O(l,e.location);(s?n.replace:n.push)(t)}});return h!==f?r.ref=o||u:r.innerRef=u,E.createElement(a,r)})}),R=E.forwardRef;void 0===R&&(R=T);var m=R(function(t,c){var e=t["aria-current"],h=void 0===e?"page":e,n=t.activeClassName,f=void 0===n?"active":n,d=t.activeStyle,p=t.className,m=t.exact,y=t.isActive,v=t.location,_=t.sensitive,g=t.strict,b=t.style,w=t.to,k=t.innerRef,x=C(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return E.createElement(P.__RouterContext.Consumer,null,function(t){t||M(!1);var e=v||t.location,n=L(O(w,e),e),i=n.pathname,r=i&&i.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),o=r?P.matchPath(e.pathname,{path:r,exact:m,sensitive:_,strict:g}):null,a=!!(y?y(o,e):o),s=a?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return t}).join(" ")}(p,f):p,l=a?S({},b,{},d):b,u=S({"aria-current":a&&h||null,className:s,style:l,to:n},x);return T!==R?u.ref=c||k:u.innerRef=k,E.createElement(j,u)})});Object.defineProperty(n,"MemoryRouter",{enumerable:!0,get:function(){return P.MemoryRouter}}),Object.defineProperty(n,"Prompt",{enumerable:!0,get:function(){return P.Prompt}}),Object.defineProperty(n,"Redirect",{enumerable:!0,get:function(){return P.Redirect}}),Object.defineProperty(n,"Route",{enumerable:!0,get:function(){return P.Route}}),Object.defineProperty(n,"Router",{enumerable:!0,get:function(){return P.Router}}),Object.defineProperty(n,"StaticRouter",{enumerable:!0,get:function(){return P.StaticRouter}}),Object.defineProperty(n,"Switch",{enumerable:!0,get:function(){return P.Switch}}),Object.defineProperty(n,"generatePath",{enumerable:!0,get:function(){return P.generatePath}}),Object.defineProperty(n,"matchPath",{enumerable:!0,get:function(){return P.matchPath}}),Object.defineProperty(n,"useHistory",{enumerable:!0,get:function(){return P.useHistory}}),Object.defineProperty(n,"useLocation",{enumerable:!0,get:function(){return P.useLocation}}),Object.defineProperty(n,"useParams",{enumerable:!0,get:function(){return P.useParams}}),Object.defineProperty(n,"useRouteMatch",{enumerable:!0,get:function(){return P.useRouteMatch}}),Object.defineProperty(n,"withRouter",{enumerable:!0,get:function(){return P.withRouter}}),n.BrowserRouter=l,n.HashRouter=u,n.Link=j,n.NavLink=m},{history:66,"prop-types":53,react:73,"react-router":70,"tiny-invariant":92,"tiny-warning":93}],63:[function(t,e,n){"use strict";e.exports=t("./cjs/react-router-dom.min.js")},{"./cjs/react-router-dom.js":61,"./cjs/react-router-dom.min.js":62}],64:[function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(n,"__esModule",{value:!0});var o=i(t("resolve-pathname")),r=i(t("value-equal")),C=i(t("tiny-warning")),O=i(t("tiny-invariant"));function L(){return(L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function T(t){return"/"===t.charAt(0)?t:"/"+t}function a(t){return"/"===t.charAt(0)?t.substr(1):t}function j(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}function R(t,e){return j(t,e)?t.substr(e.length):t}function I(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function s(t){var e=t||"/",n="",i="",r=e.indexOf("#");-1!==r&&(i=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===i?"":i}}function N(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function A(t,e,n,i){var r;"string"==typeof t?(r=s(t)).state=e:(void 0===(r=L({},t)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==e&&void 0===r.state&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(r.key=n),i?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=o(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function B(){var o=null;var i=[];return{setPrompt:function(t){return C(null==o,"A history supports only one prompt at a time"),o=t,function(){o===t&&(o=null)}},confirmTransitionTo:function(t,e,n,i){if(null!=o){var r="function"==typeof o?o(t,e):o;"string"==typeof r?"function"==typeof n?n(r,i):(C(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==r)}else i(!0)},appendListener:function(t){var e=!0;function n(){e&&t.apply(void 0,arguments)}return i.push(n),function(){e=!1,i=i.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.forEach(function(t){return t.apply(void 0,e)})}}}var z=!("undefined"==typeof window||!window.document||!window.document.createElement);function H(t,e){e(window.confirm(t))}var D="hashchange";function F(){try{return window.history.state||{}}catch(t){return{}}}var M="hashchange",S={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+a(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:a,decodePath:T},slash:{encodePath:T,decodePath:T}};function U(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function Z(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function V(t){window.location.replace(U(window.location.href)+"#"+t)}function y(t,e,n){return Math.min(Math.max(t,e),n)}n.createBrowserHistory=function(t){void 0===t&&(t={}),z||O(!1,"Browser history needs a DOM");var e,s=window.history,l=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,n=!(-1===window.navigator.userAgent.indexOf("Trident")),i=t.forceRefresh,u=void 0!==i&&i,r=t.getUserConfirmation,c=void 0===r?H:r,o=t.keyLength,a=void 0===o?6:o,h=t.basename?I(T(t.basename)):"";function f(t){var e=t||{},n=e.key,i=e.state,r=window.location,o=r.pathname+r.search+r.hash;return C(!h||j(o,h),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+o+'" to begin with "'+h+'".'),h&&(o=R(o,h)),A(o,i,n)}function d(){return Math.random().toString(36).substr(2,a)}var p=B();function m(t){L(S,t),S.length=s.length,p.notifyListeners(S.location,S.action)}function y(t){void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")||g(f(t.state))}function v(){g(f(F()))}var _=!1;function g(e){if(_)_=!1,m();else{p.confirmTransitionTo(e,"POP",c,function(t){t?m({action:"POP",location:e}):function(t){var e=S.location,n=w.indexOf(e.key);-1===n&&(n=0);var i=w.indexOf(t.key);-1===i&&(i=0);var r=n-i;r&&(_=!0,x(r))}(e)})}}var b=f(F()),w=[b.key];function k(t){return h+N(t)}function x(t){s.go(t)}var P=0;function E(t){1===(P+=t)&&1===t?(window.addEventListener("popstate",y),n&&window.addEventListener(D,v)):0===P&&(window.removeEventListener("popstate",y),n&&window.removeEventListener(D,v))}var M=!1,S={length:s.length,action:"POP",location:b,createHref:k,push:function(t,e){C(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=A(t,e,d(),S.location);p.confirmTransitionTo(a,"PUSH",c,function(t){if(t){var e=k(a),n=a.key,i=a.state;if(l)if(s.pushState({key:n,state:i},null,e),u)window.location.href=e;else{var r=w.indexOf(S.location.key),o=w.slice(0,r+1);o.push(a.key),w=o,m({action:"PUSH",location:a})}else C(void 0===i,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},replace:function(t,e){C(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=A(t,e,d(),S.location);p.confirmTransitionTo(o,"REPLACE",c,function(t){if(t){var e=k(o),n=o.key,i=o.state;if(l)if(s.replaceState({key:n,state:i},null,e),u)window.location.replace(e);else{var r=w.indexOf(S.location.key);-1!==r&&(w[r]=o.key),m({action:"REPLACE",location:o})}else C(void 0===i,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(t){void 0===t&&(t=!1);var e=p.setPrompt(t);return M||(E(1),M=!0),function(){return M&&(M=!1,E(-1)),e()}},listen:function(t){var e=p.appendListener(t);return E(1),function(){E(-1),e()}}};return S},n.createHashHistory=function(t){void 0===t&&(t={}),z||O(!1,"Hash history needs a DOM");var e=window.history,n=-1===window.navigator.userAgent.indexOf("Firefox"),i=t.getUserConfirmation,s=void 0===i?H:i,r=t.hashType,o=void 0===r?"slash":r,l=t.basename?I(T(t.basename)):"",a=S[o],u=a.encodePath,c=a.decodePath;function h(){var t=c(Z());return C(!l||j(t,l),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+l+'".'),l&&(t=R(t,l)),A(t)}var f=B();function d(t){L(E,t),E.length=e.length,f.notifyListeners(E.location,E.action)}var p=!1,m=null;function y(){var t,e,n=Z(),i=u(n);if(n!==i)V(i);else{var r=h(),o=E.location;if(!p&&(e=r,(t=o).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(m===N(r))return;m=null,function(e){if(p)p=!1,d();else{f.confirmTransitionTo(e,"POP",s,function(t){t?d({action:"POP",location:e}):function(t){var e=E.location,n=b.lastIndexOf(N(e));-1===n&&(n=0);var i=b.lastIndexOf(N(t));-1===i&&(i=0);var r=n-i;r&&(p=!0,w(r))}(e)})}}(r)}}var v=Z(),_=u(v);v!==_&&V(_);var g=h(),b=[N(g)];function w(t){C(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)}var k=0;function x(t){1===(k+=t)&&1===t?window.addEventListener(M,y):0===k&&window.removeEventListener(M,y)}var P=!1,E={length:e.length,action:"POP",location:g,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=U(window.location.href)),n+"#"+u(l+N(t))},push:function(t,e){C(void 0===e,"Hash history cannot push state; it is ignored");var a=A(t,void 0,void 0,E.location);f.confirmTransitionTo(a,"PUSH",s,function(t){if(t){var e,n=N(a),i=u(l+n);if(Z()!==i){m=n,e=i,window.location.hash=e;var r=b.lastIndexOf(N(E.location)),o=b.slice(0,r+1);o.push(n),b=o,d({action:"PUSH",location:a})}else C(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),d()}})},replace:function(t,e){C(void 0===e,"Hash history cannot replace state; it is ignored");var r=A(t,void 0,void 0,E.location);f.confirmTransitionTo(r,"REPLACE",s,function(t){if(t){var e=N(r),n=u(l+e);Z()!==n&&(m=e,V(n));var i=b.indexOf(N(E.location));-1!==i&&(b[i]=e),d({action:"REPLACE",location:r})}})},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(t){void 0===t&&(t=!1);var e=f.setPrompt(t);return P||(x(1),P=!0),function(){return P&&(P=!1,x(-1)),e()}},listen:function(t){var e=f.appendListener(t);return x(1),function(){x(-1),e()}}};return E},n.createMemoryHistory=function(t){void 0===t&&(t={});var r=t.getUserConfirmation,e=t.initialEntries,n=void 0===e?["/"]:e,i=t.initialIndex,o=void 0===i?0:i,a=t.keyLength,s=void 0===a?6:a,l=B();function u(t){L(m,t),m.length=m.entries.length,l.notifyListeners(m.location,m.action)}function c(){return Math.random().toString(36).substr(2,s)}var h=y(o,0,n.length-1),f=n.map(function(t){return A(t,void 0,"string"==typeof t?c():t.key||c())}),d=N;function p(t){var e=y(m.index+t,0,m.entries.length-1),n=m.entries[e];l.confirmTransitionTo(n,"POP",r,function(t){t?u({action:"POP",location:n,index:e}):u()})}var m={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:d,push:function(t,e){C(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=A(t,e,c(),m.location);l.confirmTransitionTo(i,"PUSH",r,function(t){if(t){var e=m.index+1,n=m.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),u({action:"PUSH",location:i,index:e,entries:n})}})},replace:function(t,e){C(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var n=A(t,e,c(),m.location);l.confirmTransitionTo(n,"REPLACE",r,function(t){t&&u({action:"REPLACE",location:m.entries[m.index]=n})})},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(t){var e=m.index+t;return 0<=e&&e<m.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return m},n.createLocation=A,n.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&r(t.state,e.state)},n.parsePath=s,n.createPath=N},{"resolve-pathname":76,"tiny-invariant":92,"tiny-warning":93,"value-equal":97}],65:[function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(n,"__esModule",{value:!0});var o=i(t("resolve-pathname")),r=i(t("value-equal"));t("tiny-warning");var C=i(t("tiny-invariant"));function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function L(t){return"/"===t.charAt(0)?t:"/"+t}function a(t){return"/"===t.charAt(0)?t.substr(1):t}function T(t,e){return i=e,0===(n=t).toLowerCase().indexOf(i.toLowerCase())&&-1!=="/?#".indexOf(n.charAt(i.length))?t.substr(e.length):t;var n,i}function j(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function s(t){var e=t||"/",n="",i="",r=e.indexOf("#");-1!==r&&(i=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===i?"":i}}function R(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function I(t,e,n,i){var r;"string"==typeof t?(r=s(t)).state=e:(void 0===(r=O({},t)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==e&&void 0===r.state&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(r.key=n),i?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=o(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function N(){var o=null,i=[];return{setPrompt:function(t){return o=t,function(){o===t&&(o=null)}},confirmTransitionTo:function(t,e,n,i){if(null!=o){var r="function"==typeof o?o(t,e):o;"string"==typeof r?"function"==typeof n?n(r,i):i(!0):i(!1!==r)}else i(!0)},appendListener:function(t){var e=!0;function n(){e&&t.apply(void 0,arguments)}return i.push(n),function(){e=!1,i=i.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.forEach(function(t){return t.apply(void 0,e)})}}}var A=!("undefined"==typeof window||!window.document||!window.document.createElement);function B(t,e){e(window.confirm(t))}var z="hashchange";function H(){try{return window.history.state||{}}catch(t){return{}}}var M="hashchange",S={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+a(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:a,decodePath:L},slash:{encodePath:L,decodePath:L}};function D(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function F(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function U(t){window.location.replace(D(window.location.href)+"#"+t)}function y(t,e,n){return Math.min(Math.max(t,e),n)}n.createBrowserHistory=function(t){void 0===t&&(t={}),A||C(!1);var e,s=window.history,l=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,n=!(-1===window.navigator.userAgent.indexOf("Trident")),i=t.forceRefresh,u=void 0!==i&&i,r=t.getUserConfirmation,c=void 0===r?B:r,o=t.keyLength,a=void 0===o?6:o,h=t.basename?j(L(t.basename)):"";function f(t){var e=t||{},n=e.key,i=e.state,r=window.location,o=r.pathname+r.search+r.hash;return h&&(o=T(o,h)),I(o,i,n)}function d(){return Math.random().toString(36).substr(2,a)}var p=N();function m(t){O(S,t),S.length=s.length,p.notifyListeners(S.location,S.action)}function y(t){void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")||g(f(t.state))}function v(){g(f(H()))}var _=!1;function g(e){_?(_=!1,m()):p.confirmTransitionTo(e,"POP",c,function(t){t?m({action:"POP",location:e}):function(t){var e=S.location,n=w.indexOf(e.key);-1===n&&(n=0);var i=w.indexOf(t.key);-1===i&&(i=0);var r=n-i;r&&(_=!0,x(r))}(e)})}var b=f(H()),w=[b.key];function k(t){return h+R(t)}function x(t){s.go(t)}var P=0;function E(t){1===(P+=t)&&1===t?(window.addEventListener("popstate",y),n&&window.addEventListener(z,v)):0===P&&(window.removeEventListener("popstate",y),n&&window.removeEventListener(z,v))}var M=!1,S={length:s.length,action:"POP",location:b,createHref:k,push:function(t,e){var a=I(t,e,d(),S.location);p.confirmTransitionTo(a,"PUSH",c,function(t){if(t){var e=k(a),n=a.key,i=a.state;if(l)if(s.pushState({key:n,state:i},null,e),u)window.location.href=e;else{var r=w.indexOf(S.location.key),o=w.slice(0,r+1);o.push(a.key),w=o,m({action:"PUSH",location:a})}else window.location.href=e}})},replace:function(t,e){var o=I(t,e,d(),S.location);p.confirmTransitionTo(o,"REPLACE",c,function(t){if(t){var e=k(o),n=o.key,i=o.state;if(l)if(s.replaceState({key:n,state:i},null,e),u)window.location.replace(e);else{var r=w.indexOf(S.location.key);-1!==r&&(w[r]=o.key),m({action:"REPLACE",location:o})}else window.location.replace(e)}})},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(t){void 0===t&&(t=!1);var e=p.setPrompt(t);return M||(E(1),M=!0),function(){return M&&(M=!1,E(-1)),e()}},listen:function(t){var e=p.appendListener(t);return E(1),function(){E(-1),e()}}};return S},n.createHashHistory=function(t){void 0===t&&(t={}),A||C(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?B:i,r=n.hashType,a=void 0===r?"slash":r,s=t.basename?j(L(t.basename)):"",l=S[a],u=l.encodePath,c=l.decodePath;function h(){var t=c(F());return s&&(t=T(t,s)),I(t)}var f=N();function d(t){O(E,t),E.length=e.length,f.notifyListeners(E.location,E.action)}var p=!1,m=null;function y(){var e,t=F(),n=u(t);if(t!==n)U(n);else{var i=h(),r=E.location;if(!p&&r.pathname===i.pathname&&r.search===i.search&&r.hash===i.hash)return;if(m===R(i))return;m=null,e=i,p?(p=!1,d()):f.confirmTransitionTo(e,"POP",o,function(t){t?d({action:"POP",location:e}):function(t){var e=E.location,n=b.lastIndexOf(R(e));-1===n&&(n=0);var i=b.lastIndexOf(R(t));-1===i&&(i=0);var r=n-i;r&&(p=!0,w(r))}(e)})}}var v=F(),_=u(v);v!==_&&U(_);var g=h(),b=[R(g)];function w(t){e.go(t)}var k=0;function x(t){1===(k+=t)&&1===t?window.addEventListener(M,y):0===k&&window.removeEventListener(M,y)}var P=!1,E={length:e.length,action:"POP",location:g,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=D(window.location.href)),n+"#"+u(s+R(t))},push:function(t,e){var a=I(t,void 0,void 0,E.location);f.confirmTransitionTo(a,"PUSH",o,function(t){if(t){var e=R(a),n=u(s+e);if(F()!==n){m=e,o=n,window.location.hash=o;var i=b.lastIndexOf(R(E.location)),r=b.slice(0,i+1);r.push(e),b=r,d({action:"PUSH",location:a})}else d()}var o})},replace:function(t,e){var r=I(t,void 0,void 0,E.location);f.confirmTransitionTo(r,"REPLACE",o,function(t){if(t){var e=R(r),n=u(s+e);F()!==n&&(m=e,U(n));var i=b.indexOf(R(E.location));-1!==i&&(b[i]=e),d({action:"REPLACE",location:r})}})},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(t){void 0===t&&(t=!1);var e=f.setPrompt(t);return P||(x(1),P=!0),function(){return P&&(P=!1,x(-1)),e()}},listen:function(t){var e=f.appendListener(t);return x(1),function(){x(-1),e()}}};return E},n.createMemoryHistory=function(t){void 0===t&&(t={});var r=t.getUserConfirmation,e=t.initialEntries,n=void 0===e?["/"]:e,i=t.initialIndex,o=void 0===i?0:i,a=t.keyLength,s=void 0===a?6:a,l=N();function u(t){O(m,t),m.length=m.entries.length,l.notifyListeners(m.location,m.action)}function c(){return Math.random().toString(36).substr(2,s)}var h=y(o,0,n.length-1),f=n.map(function(t){return I(t,void 0,"string"==typeof t?c():t.key||c())}),d=R;function p(t){var e=y(m.index+t,0,m.entries.length-1),n=m.entries[e];l.confirmTransitionTo(n,"POP",r,function(t){t?u({action:"POP",location:n,index:e}):u()})}var m={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:d,push:function(t,e){var i=I(t,e,c(),m.location);l.confirmTransitionTo(i,"PUSH",r,function(t){if(t){var e=m.index+1,n=m.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),u({action:"PUSH",location:i,index:e,entries:n})}})},replace:function(t,e){var n=I(t,e,c(),m.location);l.confirmTransitionTo(n,"REPLACE",r,function(t){t&&u({action:"REPLACE",location:m.entries[m.index]=n})})},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(t){var e=m.index+t;return 0<=e&&e<m.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return m},n.createLocation=I,n.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&r(t.state,e.state)},n.parsePath=s,n.createPath=R},{"resolve-pathname":76,"tiny-invariant":92,"tiny-warning":93,"value-equal":97}],66:[function(t,e,n){"use strict";e.exports=t("./cjs/history.min.js")},{"./cjs/history.js":64,"./cjs/history.min.js":65}],67:[function(t,e,n){"use strict";var i=t("react-is"),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},h={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function f(t){return i.isMemo(t)?o:a[t.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=o;var d=Object.defineProperty,p=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,_=Object.prototype;e.exports=function t(e,n,i){if("string"!=typeof n){if(_){var r=v(n);r&&r!==_&&t(e,r,i)}var o=p(n);m&&(o=o.concat(m(n)));for(var a=f(e),s=f(n),l=0;l<o.length;++l){var u=o[l];if(!(h[u]||i&&i[u]||s&&s[u]||a&&a[u])){var c=y(n,u);try{d(e,u,c)}catch(t){}}}}return e}},{"react-is":60}],68:[function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var u=i(t("react")),o=i(t("prop-types")),c=t("history"),r=i(t("tiny-warning")),a=i(t("mini-create-react-context")),l=i(t("tiny-invariant")),d=i(t("path-to-regexp")),s=t("react-is"),h=i(t("hoist-non-react-statics"));function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function p(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function m(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||(r[n]=t[n]);return r}var y=function(t){var e=a();return e.displayName=t,e}("Router-History"),v=function(t){var e=a();return e.displayName=t,e}("Router"),_=function(n){function t(t){var e;return(e=n.call(this,t)||this).state={location:t.history.location},e._isMounted=!1,e._pendingLocation=null,t.staticContext||(e.unlisten=t.history.listen(function(t){e._isMounted?e.setState({location:t}):e._pendingLocation=t})),e}p(t,n),t.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var e=t.prototype;return e.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},e.componentWillUnmount=function(){this.unlisten&&this.unlisten()},e.render=function(){return u.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},u.createElement(y.Provider,{children:this.props.children||null,value:this.props.history}))},t}(u.Component);_.propTypes={children:o.node,history:o.object.isRequired,staticContext:o.object},_.prototype.componentDidUpdate=function(t){r(t.history===this.props.history,"You cannot change <Router history>")};var g=function(r){function t(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=r.call.apply(r,[this].concat(n))||this).history=c.createMemoryHistory(t.props),t}return p(t,r),t.prototype.render=function(){return u.createElement(_,{history:this.history,children:this.props.children})},t}(u.Component);g.propTypes={initialEntries:o.array,initialIndex:o.number,getUserConfirmation:o.func,keyLength:o.number,children:o.node},g.prototype.componentDidMount=function(){r(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")};var b=function(t){function e(){return t.apply(this,arguments)||this}p(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(u.Component);function w(t){var i=t.message,e=t.when,r=void 0===e||e;return u.createElement(v.Consumer,null,function(t){if(t||l(!1,"You should not use <Prompt> outside a <Router>"),!r||t.staticContext)return null;var n=t.history.block;return u.createElement(b,{onMount:function(t){t.release=n(i)},onUpdate:function(t,e){e.message!==i&&(t.release(),t.release=n(i))},onUnmount:function(t){t.release()},message:i})})}var k=o.oneOfType([o.func,o.string]);w.propTypes={when:o.bool,message:k.isRequired};var x={},P=1e4,E=0;function M(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(x[t])return x[t];var e=d.compile(t);return E<P&&(x[t]=e,E++),e}(t)(e,{pretty:!0})}function S(t){var o=t.computedMatch,a=t.to,e=t.push,s=void 0!==e&&e;return u.createElement(v.Consumer,null,function(t){t||l(!1,"You should not use <Redirect> outside a <Router>");var e=t.history,n=t.staticContext,i=s?e.push:e.replace,r=c.createLocation(o?"string"==typeof a?M(a,o.params):f({},a,{pathname:M(a.pathname,o.params)}):a);return n?(i(r),null):u.createElement(b,{onMount:function(){i(r)},onUpdate:function(t,e){var n=c.createLocation(e.to);c.locationsAreEqual(n,f({},r,{key:n.key}))||i(r)},to:a})})}S.propTypes={push:o.bool,from:o.string,to:o.oneOfType([o.string,o.object]).isRequired};var C={},O=1e4,L=0;function T(u,t){void 0===t&&(t={}),"string"!=typeof t&&!Array.isArray(t)||(t={path:t});var e=t.path,n=t.exact,c=void 0!==n&&n,i=t.strict,h=void 0!==i&&i,r=t.sensitive,f=void 0!==r&&r;return[].concat(e).reduce(function(t,e){if(!e&&""!==e)return null;if(t)return t;var n=function(t,e){var n=""+e.end+e.strict+e.sensitive,i=C[n]||(C[n]={});if(i[t])return i[t];var r=[],o={regexp:d(t,r,e),keys:r};return L<O&&(i[t]=o,L++),o}(e,{end:c,strict:h,sensitive:f}),i=n.regexp,r=n.keys,o=i.exec(u);if(!o)return null;var a=o[0],s=o.slice(1),l=u===a;return c&&!l?null:{path:e,url:"/"===e&&""===a?"/":a,isExact:l,params:r.reduce(function(t,e,n){return t[e.name]=s[n],t},{})}},null)}function j(t){return 0===u.Children.count(t)}function R(t,e,n){var i=t(e);return r(void 0!==i,"You returned `undefined` from the `children` function of <Route"+(n?' path="'+n+'"':"")+">, but you should have returned a React element or `null`"),i||null}var I=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.render=function(){var s=this;return u.createElement(v.Consumer,null,function(t){t||l(!1,"You should not use <Route> outside a <Router>");var e=s.props.location||t.location,n=f({},t,{location:e,match:s.props.computedMatch?s.props.computedMatch:s.props.path?T(e.pathname,s.props):t.match}),i=s.props,r=i.children,o=i.component,a=i.render;return Array.isArray(r)&&0===r.length&&(r=null),u.createElement(v.Provider,{value:n},n.match?r?"function"==typeof r?R(r,n,s.props.path):r:o?u.createElement(o,n):a?a(n):null:"function"==typeof r?R(r,n,s.props.path):null)})},e}(u.Component);function N(t){return"/"===t.charAt(0)?t:"/"+t}function A(t){return"string"==typeof t?t:c.createPath(t)}function B(t){return function(){l(!1,"You cannot %s with <StaticRouter>",t)}}function z(){}I.propTypes={children:o.oneOfType([o.func,o.node]),component:function(t,e){if(t[e]&&!s.isValidElementType(t[e]))return new Error("Invalid prop 'component' supplied to 'Route': the prop is not a valid React component")},exact:o.bool,location:o.object,path:o.oneOfType([o.string,o.arrayOf(o.string)]),render:o.func,sensitive:o.bool,strict:o.bool},I.prototype.componentDidMount=function(){r(!(this.props.children&&!j(this.props.children)&&this.props.component),"You should not use <Route component> and <Route children> in the same route; <Route component> will be ignored"),r(!(this.props.children&&!j(this.props.children)&&this.props.render),"You should not use <Route render> and <Route children> in the same route; <Route render> will be ignored"),r(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored")},I.prototype.componentDidUpdate=function(t){r(!(this.props.location&&!t.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),r(!(!this.props.location&&t.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')};var H=function(r){function t(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))||this).handlePush=function(t){return e.navigateTo(t,"PUSH")},e.handleReplace=function(t){return e.navigateTo(t,"REPLACE")},e.handleListen=function(){return z},e.handleBlock=function(){return z},e}p(t,r);var e=t.prototype;return e.navigateTo=function(t,e){var n,i,r=this.props,o=r.basename,a=void 0===o?"":o,s=r.context,l=void 0===s?{}:s;l.action=e,l.location=(n=a,i=c.createLocation(t),n?f({},i,{pathname:N(n)+i.pathname}):i),l.url=A(l.location)},e.render=function(){var t=this.props,e=t.basename,n=void 0===e?"":e,i=t.context,r=void 0===i?{}:i,o=t.location,a=void 0===o?"/":o,s=m(t,["basename","context","location"]),l={createHref:function(t){return N(n+A(t))},action:"POP",location:function(t,e){if(!t)return e;var n=N(t);return 0!==e.pathname.indexOf(n)?e:f({},e,{pathname:e.pathname.substr(n.length)})}(n,c.createLocation(a)),push:this.handlePush,replace:this.handleReplace,go:B("go"),goBack:B("goBack"),goForward:B("goForward"),listen:this.handleListen,block:this.handleBlock};return u.createElement(_,f({},s,{history:l,staticContext:r}))},t}(u.Component);H.propTypes={basename:o.string,context:o.object,location:o.oneOfType([o.string,o.object])},H.prototype.componentDidMount=function(){r(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")};var D=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.render=function(){var t=this;return u.createElement(v.Consumer,null,function(n){n||l(!1,"You should not use <Switch> outside a <Router>");var i,r,o=t.props.location||n.location;return u.Children.forEach(t.props.children,function(t){if(null==r&&u.isValidElement(t)){var e=(i=t).props.path||t.props.from;r=e?T(o.pathname,f({},t.props,{path:e})):n.match}}),r?u.cloneElement(i,{location:o,computedMatch:r}):null})},e}(u.Component);D.propTypes={children:o.node,location:o.object},D.prototype.componentDidUpdate=function(t){r(!(this.props.location&&!t.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),r(!(!this.props.location&&t.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')};var F=u.useContext;function U(){return"function"!=typeof F&&l(!1,"You must use React >= 16.8 in order to use useLocation()"),F(v).location}if("undefined"!=typeof window){var Z=window,V="__react_router_build__",q={cjs:"CommonJS",esm:"ES modules",umd:"UMD"};if(Z[V]&&"cjs"!==Z[V]){var W=q[Z[V]];throw new Error("You are loading the "+q.cjs+" build of React Router on a page that is already running the "+W+" build, so things won't work right.")}Z[V]="cjs"}n.MemoryRouter=g,n.Prompt=w,n.Redirect=S,n.Route=I,n.Router=_,n.StaticRouter=H,n.Switch=D,n.__HistoryContext=y,n.__RouterContext=v,n.generatePath=M,n.matchPath=T,n.useHistory=function(){return"function"!=typeof F&&l(!1,"You must use React >= 16.8 in order to use useHistory()"),F(y)},n.useLocation=U,n.useParams=function(){"function"!=typeof F&&l(!1,"You must use React >= 16.8 in order to use useParams()");var t=F(v).match;return t?t.params:{}},n.useRouteMatch=function(t){"function"!=typeof F&&l(!1,"You must use React >= 16.8 in order to use useRouteMatch()");var e=U(),n=F(v).match;return t?T(e.pathname,t):n},n.withRouter=function(i){function t(t){var e=t.wrappedComponentRef,n=m(t,["wrappedComponentRef"]);return u.createElement(v.Consumer,null,function(t){return t||l(!1,"You should not use <"+r+" /> outside a <Router>"),u.createElement(i,f({},n,t,{ref:e}))})}var r="withRouter("+(i.displayName||i.name)+")";return t.displayName=r,t.WrappedComponent=i,t.propTypes={wrappedComponentRef:o.oneOfType([o.string,o.func,o.object])},h(t,i)}},{history:66,"hoist-non-react-statics":67,"mini-create-react-context":42,"path-to-regexp":44,"prop-types":53,react:73,"react-is":60,"tiny-invariant":92,"tiny-warning":93}],69:[function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(n,"__esModule",{value:!0});var u=i(t("react"));t("prop-types");var c=t("history");t("tiny-warning");var r=i(t("mini-create-react-context")),l=i(t("tiny-invariant")),d=i(t("path-to-regexp"));t("react-is");var o=i(t("hoist-non-react-statics"));function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function a(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function f(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||(r[n]=t[n]);return r}var s,p,m,y,v,_=(y="Router-History",(v=r()).displayName=y,v),g=(p="Router",(m=r()).displayName=p,m),b=function(n){function t(t){var e;return(e=n.call(this,t)||this).state={location:t.history.location},e._isMounted=!1,e._pendingLocation=null,t.staticContext||(e.unlisten=t.history.listen(function(t){e._isMounted?e.setState({location:t}):e._pendingLocation=t})),e}a(t,n),t.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var e=t.prototype;return e.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},e.componentWillUnmount=function(){this.unlisten&&this.unlisten()},e.render=function(){return u.createElement(g.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},u.createElement(_.Provider,{children:this.props.children||null,value:this.props.history}))},t}(u.Component),w=(a(x,s=u.Component),x.prototype.render=function(){return u.createElement(b,{history:this.history,children:this.props.children})},x),k=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(u.Component);function x(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=s.call.apply(s,[this].concat(n))||this).history=c.createMemoryHistory(t.props),t}var P={},E=1e4,M=0;function S(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(P[t])return P[t];var e=d.compile(t);return M<E&&(P[t]=e,M++),e}(t)(e,{pretty:!0})}var C={},O=1e4,L=0;function T(u,t){void 0===t&&(t={}),"string"!=typeof t&&!Array.isArray(t)||(t={path:t});var e=t.path,n=t.exact,c=void 0!==n&&n,i=t.strict,h=void 0!==i&&i,r=t.sensitive,f=void 0!==r&&r;return[].concat(e).reduce(function(t,e){if(!e&&""!==e)return null;if(t)return t;var n=function(t,e){var n=""+e.end+e.strict+e.sensitive,i=C[n]||(C[n]={});if(i[t])return i[t];var r=[],o={regexp:d(t,r,e),keys:r};return L<O&&(i[t]=o,L++),o}(e,{end:c,strict:h,sensitive:f}),i=n.regexp,r=n.keys,o=i.exec(u);if(!o)return null;var a=o[0],s=o.slice(1),l=u===a;return c&&!l?null:{path:e,url:"/"===e&&""===a?"/":a,isExact:l,params:r.reduce(function(t,e,n){return t[e.name]=s[n],t},{})}},null)}var j,R=(a(I,j=u.Component),I.prototype.render=function(){var s=this;return u.createElement(g.Consumer,null,function(t){t||l(!1);var e=s.props.location||t.location,n=h({},t,{location:e,match:s.props.computedMatch?s.props.computedMatch:s.props.path?T(e.pathname,s.props):t.match}),i=s.props,r=i.children,o=i.component,a=i.render;return Array.isArray(r)&&0===r.length&&(r=null),u.createElement(g.Provider,{value:n},n.match?r?"function"==typeof r?r(n):r:o?u.createElement(o,n):a?a(n):null:"function"==typeof r?r(n):null)})},I);function I(){return j.apply(this,arguments)||this}function N(t){return"/"===t.charAt(0)?t:"/"+t}function A(t){return"string"==typeof t?t:c.createPath(t)}function B(){return function(){l(!1)}}function z(){}var H,D=function(r){function t(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))||this).handlePush=function(t){return e.navigateTo(t,"PUSH")},e.handleReplace=function(t){return e.navigateTo(t,"REPLACE")},e.handleListen=function(){return z},e.handleBlock=function(){return z},e}a(t,r);var e=t.prototype;return e.navigateTo=function(t,e){var n,i,r=this.props,o=r.basename,a=void 0===o?"":o,s=r.context,l=void 0===s?{}:s;l.action=e,l.location=(n=a,i=c.createLocation(t),n?h({},i,{pathname:N(n)+i.pathname}):i),l.url=A(l.location)},e.render=function(){var t=this.props,e=t.basename,n=void 0===e?"":e,i=t.context,r=void 0===i?{}:i,o=t.location,a=void 0===o?"/":o,s=f(t,["basename","context","location"]),l={createHref:function(t){return N(n+A(t))},action:"POP",location:function(t,e){if(!t)return e;var n=N(t);return 0!==e.pathname.indexOf(n)?e:h({},e,{pathname:e.pathname.substr(n.length)})}(n,c.createLocation(a)),push:this.handlePush,replace:this.handleReplace,go:B(),goBack:B(),goForward:B(),listen:this.handleListen,block:this.handleBlock};return u.createElement(b,h({},s,{history:l,staticContext:r}))},t}(u.Component),F=(a(U,H=u.Component),U.prototype.render=function(){var t=this;return u.createElement(g.Consumer,null,function(n){n||l(!1);var i,r,o=t.props.location||n.location;return u.Children.forEach(t.props.children,function(t){if(null==r&&u.isValidElement(t)){var e=(i=t).props.path||t.props.from;r=e?T(o.pathname,h({},t.props,{path:e})):n.match}}),r?u.cloneElement(i,{location:o,computedMatch:r}):null})},U);function U(){return H.apply(this,arguments)||this}var Z=u.useContext;function V(){return Z(g).location}n.MemoryRouter=w,n.Prompt=function(t){var i=t.message,e=t.when,r=void 0===e||e;return u.createElement(g.Consumer,null,function(t){if(t||l(!1),!r||t.staticContext)return null;var n=t.history.block;return u.createElement(k,{onMount:function(t){t.release=n(i)},onUpdate:function(t,e){e.message!==i&&(t.release(),t.release=n(i))},onUnmount:function(t){t.release()},message:i})})},n.Redirect=function(t){var o=t.computedMatch,a=t.to,e=t.push,s=void 0!==e&&e;return u.createElement(g.Consumer,null,function(t){t||l(!1);var e=t.history,n=t.staticContext,i=s?e.push:e.replace,r=c.createLocation(o?"string"==typeof a?S(a,o.params):h({},a,{pathname:S(a.pathname,o.params)}):a);return n?(i(r),null):u.createElement(k,{onMount:function(){i(r)},onUpdate:function(t,e){var n=c.createLocation(e.to);c.locationsAreEqual(n,h({},r,{key:n.key}))||i(r)},to:a})})},n.Route=R,n.Router=b,n.StaticRouter=D,n.Switch=F,n.__HistoryContext=_,n.__RouterContext=g,n.generatePath=S,n.matchPath=T,n.useHistory=function(){return Z(_)},n.useLocation=V,n.useParams=function(){var t=Z(g).match;return t?t.params:{}},n.useRouteMatch=function(t){var e=V(),n=Z(g).match;return t?T(e.pathname,t):n},n.withRouter=function(i){function t(t){var e=t.wrappedComponentRef,n=f(t,["wrappedComponentRef"]);return u.createElement(g.Consumer,null,function(t){return t||l(!1),u.createElement(i,h({},n,t,{ref:e}))})}var e="withRouter("+(i.displayName||i.name)+")";return t.displayName=e,t.WrappedComponent=i,o(t,i)}},{history:66,"hoist-non-react-statics":67,"mini-create-react-context":42,"path-to-regexp":44,"prop-types":53,react:73,"react-is":60,"tiny-invariant":92,"tiny-warning":93}],70:[function(t,e,n){"use strict";e.exports=t("./cjs/react-router.min.js")},{"./cjs/react-router.js":68,"./cjs/react-router.min.js":69}],71:[function(t,e,n){"use strict"},{"object-assign":43,"prop-types/checkPropTypes":50}],72:[function(t,e,n){"use strict";var c=t("object-assign"),i="function"==typeof Symbol&&Symbol.for,h=i?Symbol.for("react.element"):60103,u=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,s=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function b(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||_}function w(){}function k(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||_}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var x=k.prototype=new w;x.constructor=k,c(x,b.prototype),x.isPureReactComponent=!0;var P={current:null},E=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var i,r={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,i)&&!M.hasOwnProperty(i)&&(r[i]=e[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in s=t.defaultProps)void 0===r[i]&&(r[i]=s[i]);return{$$typeof:h,type:t,key:o,ref:a,props:r,_owner:P.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===h}var O=/\/+/g,L=[];function T(t,e,n,i){if(L.length){var r=L.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function j(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,L.length<10&&L.push(t)}function R(t,e,n){return null==t?0:function t(e,n,i,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case h:case u:a=!0}}if(a)return i(r,e,""===n?"."+I(e,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=n+I(o=e[s],s);a+=t(o,l,i,r)}else if("function"==typeof(l=null===e||"object"!=typeof e?null:"function"==typeof(l=y&&e[y]||e["@@iterator"])?l:null))for(e=l.call(e),s=0;!(o=e.next()).done;)a+=t(o=o.value,l=n+I(o,s++),i,r);else if("object"===o)throw i=""+e,Error(v(31,"[object Object]"===i?"object with keys {"+Object.keys(e).join(", ")+"}":i,""));return a}(t,"",e,n)}function I(t,e){return"object"==typeof t&&null!==t&&null!=t.key?(n=t.key,i={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(t){return i[t]})):e.toString(36);var n,i}function N(t,e){t.func.call(t.context,e,t.count++)}function A(t,e,n){var i,r,o=t.result,a=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?B(t,o,n,function(t){return t}):null!=t&&(C(t)&&(r=a+(!(i=t).key||e&&e.key===t.key?"":(""+t.key).replace(O,"$&/")+"/")+n,t={$$typeof:h,type:i.type,key:r,ref:i.ref,props:i.props,_owner:i._owner}),o.push(t))}function B(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),R(t,A,e=T(e,o,i,r)),j(e)}var z={current:null};function H(){var t=z.current;if(null===t)throw Error(v(321));return t}var D={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:c};n.Children={map:function(t,e,n){if(null==t)return t;var i=[];return B(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;R(t,N,e=T(null,null,e,n)),j(e)},count:function(t){return R(t,function(){return null},null)},toArray:function(t){var e=[];return B(t,e,null,function(t){return t}),e},only:function(t){if(!C(t))throw Error(v(143));return t}},n.Component=b,n.Fragment=r,n.Profiler=a,n.PureComponent=k,n.StrictMode=o,n.Suspense=d,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,n.cloneElement=function(t,e,n){if(null==t)throw Error(v(267,t));var i=c({},t.props),r=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=P.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)E.call(e,l)&&!M.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==s?s[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}return{$$typeof:h,type:t.type,key:r,ref:o,props:i,_owner:a}},n.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:l,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},n.createElement=S,n.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},n.createRef=function(){return{current:null}},n.forwardRef=function(t){return{$$typeof:f,render:t}},n.isValidElement=C,n.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},n.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},n.useCallback=function(t,e){return H().useCallback(t,e)},n.useContext=function(t,e){return H().useContext(t,e)},n.useDebugValue=function(){},n.useEffect=function(t,e){return H().useEffect(t,e)},n.useImperativeHandle=function(t,e,n){return H().useImperativeHandle(t,e,n)},n.useLayoutEffect=function(t,e){return H().useLayoutEffect(t,e)},n.useMemo=function(t,e){return H().useMemo(t,e)},n.useReducer=function(t,e,n){return H().useReducer(t,e,n)},n.useRef=function(t){return H().useRef(t)},n.useState=function(t){return H().useState(t)},n.version="16.14.0"},{"object-assign":43}],73:[function(t,e,n){"use strict";e.exports=t("./cjs/react.production.min.js")},{"./cjs/react.development.js":71,"./cjs/react.production.min.js":72}],74:[function(t,e,n){"use strict";function d(t){return"/"===t.charAt(0)}function p(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}e.exports=function(t,e){void 0===e&&(e="");var n,i=t&&t.split("/")||[],r=e&&e.split("/")||[],o=t&&d(t),a=e&&d(e),s=o||a;if(t&&d(t)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";if(r.length){var l=r[r.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,c=r.length;0<=c;c--){var h=r[c];"."===h?p(r,c):".."===h?(p(r,c),u++):u&&(p(r,c),u--)}if(!s)for(;u--;)r.unshift("..");!s||""===r[0]||r[0]&&d(r[0])||r.unshift("");var f=r.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}},{}],75:[function(t,e,n){"use strict";function d(t){return"/"===t.charAt(0)}function p(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}e.exports=function(t,e){void 0===e&&(e="");var n,i=t&&t.split("/")||[],r=e&&e.split("/")||[],o=t&&d(t),a=e&&d(e),s=o||a;if(t&&d(t)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";if(r.length){var l=r[r.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,c=r.length;0<=c;c--){var h=r[c];"."===h?p(r,c):".."===h?(p(r,c),u++):u&&(p(r,c),u--)}if(!s)for(;u--;)r.unshift("..");!s||""===r[0]||r[0]&&d(r[0])||r.unshift("");var f=r.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}},{}],76:[function(e,n,t){(function(t){(function(){"use strict";"production"===t.env.NODE_ENV?n.exports=e("./cjs/resolve-pathname.min.js"):n.exports=e("./cjs/resolve-pathname.js")}).call(this)}).call(this,e("_process"))},{"./cjs/resolve-pathname.js":74,"./cjs/resolve-pathname.min.js":75,_process:46}],77:[function(t,e,n){"use strict";var i=t("./lib/route");e.exports=i},{"./lib/route":78}],78:[function(t,e,n){"use strict";var i=t("./route/parser"),r=t("./route/visitors/regexp"),o=t("./route/visitors/reverse");function a(t){var e;if(e=this?this:Object.create(a.prototype),void 0===t)throw new Error("A route spec is required");return e.spec=t,e.ast=i.parse(t),e}(a.prototype=Object.create(null)).match=function(t){var e=r.visit(this.ast).match(t);return e||!1},a.prototype.reverse=function(t){return o.visit(this.ast,t)},e.exports=a},{"./route/parser":81,"./route/visitors/regexp":83,"./route/visitors/reverse":84}],79:[function(t,e,n){var i,r,o,a,s,l,u,c=(l={trace:function(){},yy:{},symbols_:{error:2,root:3,expressions:4,EOF:5,expression:6,optional:7,literal:8,splat:9,param:10,"(":11,")":12,LITERAL:13,SPLAT:14,PARAM:15,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"(",12:")",13:"LITERAL",14:"SPLAT",15:"PARAM"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,1],[6,1],[7,3],[8,1],[9,1],[10,1]],performAction:function(t,e,n,i,r,o){var a=o.length-1;switch(r){case 1:return new i.Root({},[o[a-1]]);case 2:return new i.Root({},[new i.Literal({value:""})]);case 3:this.$=new i.Concat({},[o[a-1],o[a]]);break;case 4:case 5:this.$=o[a];break;case 6:this.$=new i.Literal({value:o[a]});break;case 7:this.$=new i.Splat({name:o[a]});break;case 8:this.$=new i.Param({name:o[a]});break;case 9:this.$=new i.Optional({},[o[a-1]]);break;case 10:this.$=t;break;case 11:case 12:this.$=t.slice(1)}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:8,11:i=[1,9],13:r=[1,10],14:o=[1,11],15:a=[1,12]},{1:[3]},{5:[1,13],6:14,7:5,8:6,9:7,10:8,11:i,13:r,14:o,15:a},{1:[2,2]},h(s=[5,11,12,13,14,15],[2,4]),h(s,[2,5]),h(s,[2,6]),h(s,[2,7]),h(s,[2,8]),{4:15,6:4,7:5,8:6,9:7,10:8,11:i,13:r,14:o,15:a},h(s,[2,10]),h(s,[2,11]),h(s,[2,12]),{1:[2,1]},h(s,[2,3]),{6:14,7:5,8:6,9:7,10:8,11:i,12:[1,16],13:r,14:o,15:a},h(s,[2,9])],defaultActions:{3:[2,2],13:[2,1]},parseError:function(t,e){if(!e.recoverable){function n(t,e){this.message=t,this.hash=e}throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],i=[null],r=[],o=this.table,a="",s=0,l=0,u=0,c=r.slice.call(arguments,1),h=Object.create(this.lexer),f={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(f.yy[d]=this.yy[d]);h.setInput(t,f.yy),f.yy.lexer=h,f.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var p=h.yylloc;r.push(p);var m=h.options&&h.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,_,g,b,w,k,x,P,E=function(){var t;return"number"!=typeof(t=h.lex()||1)&&(t=e.symbols_[t]||t),t},M={};;){if(_=n[n.length-1],void 0===(g=this.defaultActions[_]?this.defaultActions[_]:(null==y&&(y=E()),o[_]&&o[_][y]))||!g.length||!g[0]){var S="";for(w in P=[],o[_])this.terminals_[w]&&2<w&&P.push("'"+this.terminals_[w]+"'");S=h.showPosition?"Parse error on line "+(s+1)+":\n"+h.showPosition()+"\nExpecting "+P.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==y?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(S,{text:h.match,token:this.terminals_[y]||y,line:h.yylineno,loc:p,expected:P})}if(g[0]instanceof Array&&1<g.length)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+y);switch(g[0]){case 1:n.push(y),i.push(h.yytext),r.push(h.yylloc),n.push(g[1]),y=null,v?(y=v,v=null):(l=h.yyleng,a=h.yytext,s=h.yylineno,p=h.yylloc,0<u&&u--);break;case 2:if(k=this.productions_[g[1]][1],M.$=i[i.length-k],M._$={first_line:r[r.length-(k||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(k||1)].first_column,last_column:r[r.length-1].last_column},m&&(M._$.range=[r[r.length-(k||1)].range[0],r[r.length-1].range[1]]),void 0!==(b=this.performAction.apply(M,[a,l,s,f.yy,g[1],i,r].concat(c))))return b;k&&(n=n.slice(0,-1*k*2),i=i.slice(0,-1*k),r=r.slice(0,-1*k)),n.push(this.productions_[g[1]][0]),i.push(M.$),r.push(M._$),x=o[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},u={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return 0<=(t=this.conditionStack.length-1-Math.abs(t||0))?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n){switch(n){case 0:return"(";case 1:return")";case 2:return"SPLAT";case 3:return"PARAM";case 4:case 5:return"LITERAL";case 6:return"EOF"}},rules:[/^(?:\()/,/^(?:\))/,/^(?:\*+\w+)/,/^(?::+\w+)/,/^(?:[\w%\-~\n]+)/,/^(?:.)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6],inclusive:!0}}},l.lexer=u,new((f.prototype=l).Parser=f));function h(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n}function f(){this.yy={}}void 0!==t&&void 0!==n&&(n.parser=c,n.Parser=c.Parser,n.parse=function(){return c.parse.apply(c,arguments)})},{}],80:[function(t,e,n){"use strict";function i(n){return function(t,e){return{displayName:n,props:t,children:e||[]}}}e.exports={Root:i("Root"),Concat:i("Concat"),Literal:i("Literal"),Splat:i("Splat"),Param:i("Param"),Optional:i("Optional")}},{}],81:[function(t,e,n){"use strict";var i=t("./compiled-grammar").parser;i.yy=t("./nodes"),e.exports=i},{"./compiled-grammar":79,"./nodes":80}],82:[function(t,e,n){"use strict";var i=Object.keys(t("../nodes"));e.exports=function(e){return i.forEach(function(t){if(void 0===e[t])throw new Error("No handler defined for "+t.displayName)}),{visit:function(t,e){return this.handlers[t.displayName].call(this,t,e)},handlers:e}}},{"../nodes":80}],83:[function(t,e,n){"use strict";var i=t("./create_visitor"),r=/[\-{}\[\]+?.,\\\^$|#\s]/g;function o(t){this.captures=t.captures,this.re=t.re}o.prototype.match=function(t){var n=this.re.exec(t),i={};if(n)return this.captures.forEach(function(t,e){void 0===n[e+1]?i[t]=void 0:i[t]=decodeURIComponent(n[e+1])}),i};var a=i({Concat:function(t){return t.children.reduce(function(t,e){var n=this.visit(e);return{re:t.re+n.re,captures:t.captures.concat(n.captures)}}.bind(this),{re:"",captures:[]})},Literal:function(t){return{re:t.props.value.replace(r,"\\$&"),captures:[]}},Splat:function(t){return{re:"([^?]*?)",captures:[t.props.name]}},Param:function(t){return{re:"([^\\/\\?]+)",captures:[t.props.name]}},Optional:function(t){var e=this.visit(t.children[0]);return{re:"(?:"+e.re+")?",captures:e.captures}},Root:function(t){var e=this.visit(t.children[0]);return new o({re:new RegExp("^"+e.re+"(?=\\?|$)"),captures:e.captures})}});e.exports=a},{"./create_visitor":82}],84:[function(t,e,n){"use strict";var i=t("./create_visitor")({Concat:function(t,e){var n=t.children.map(function(t){return this.visit(t,e)}.bind(this));return!n.some(function(t){return!1===t})&&n.join("")},Literal:function(t){return decodeURI(t.props.value)},Splat:function(t,e){return!!e[t.props.name]&&e[t.props.name]},Param:function(t,e){return!!e[t.props.name]&&e[t.props.name]},Optional:function(t,e){var n=this.visit(t.children[0],e);return n||""},Root:function(t,e){e=e||{};var n=this.visit(t.children[0],e);return!!n&&encodeURI(n)}});e.exports=i},{"./create_visitor":82}],85:[function(t,e,n){"use strict"},{}],86:[function(t,e,n){"use strict";var i=0;n.__interactionsRef=null,n.__subscriberRef=null,n.unstable_clear=function(t){return t()},n.unstable_getCurrent=function(){return null},n.unstable_getThreadID=function(){return++i},n.unstable_subscribe=function(){},n.unstable_trace=function(t,e,n){return n()},n.unstable_unsubscribe=function(){},n.unstable_wrap=function(t){return t}},{}],87:[function(t,e,n){"use strict"},{}],88:[function(t,e,s){"use strict";var o,l,u,c,n;if("undefined"==typeof window||"function"!=typeof MessageChannel){var i=null,r=null,a=function(){if(null!==i)try{var t=s.unstable_now();i(!0,t),i=null}catch(t){throw setTimeout(a,0),t}},h=Date.now();s.unstable_now=function(){return Date.now()-h},o=function(t){null!==i?setTimeout(o,0,t):(i=t,setTimeout(a,0))},l=function(t,e){r=setTimeout(t,e)},u=function(){clearTimeout(r)},c=function(){return!1},n=s.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var y=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)s.unstable_now=function(){return f.now()};else{var v=d.now();s.unstable_now=function(){return d.now()-v}}var _=!1,g=null,b=-1,w=5,k=0;c=function(){return s.unstable_now()>=k},n=function(){},s.unstable_forceFrameRate=function(t){t<0||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,P=x.port2;x.port1.onmessage=function(){if(null!==g){var t=s.unstable_now();k=t+w;try{g(!0,t)?P.postMessage(null):(_=!1,g=null)}catch(t){throw P.postMessage(null),t}}else _=!1},o=function(t){g=t,_||(_=!0,P.postMessage(null))},l=function(t,e){b=p(function(){t(s.unstable_now())},e)},u=function(){m(b),b=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var i=n-1>>>1,r=t[i];if(!(void 0!==r&&0<C(r,e)))break t;t[i]=e,t[n]=r,n=i}}function M(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length;i<r;){var o=2*(i+1)-1,a=t[o],s=1+o,l=t[s];if(void 0!==a&&C(a,n)<0)i=void 0!==l&&C(l,a)<0?(t[i]=l,t[s]=n,s):(t[i]=a,t[o]=n,o);else{if(!(void 0!==l&&C(l,n)<0))break t;t[i]=l,t[s]=n,i=s}}}return e}}function C(t,e){var n=t.sortIndex-e.sortIndex;return 0!=n?n:t.id-e.id}var O=[],L=[],T=1,j=null,R=3,I=!1,N=!1,A=!1;function B(t){for(var e=M(L);null!==e;){if(null===e.callback)S(L);else{if(!(e.startTime<=t))break;S(L),e.sortIndex=e.expirationTime,E(O,e)}e=M(L)}}function z(t){if(A=!1,B(t),!N)if(null!==M(O))N=!0,o(H);else{var e=M(L);null!==e&&l(z,e.startTime-t)}}function H(t,e){N=!1,A&&(A=!1,u()),I=!0;var n=R;try{for(B(e),j=M(O);null!==j&&(!(j.expirationTime>e)||t&&!c());){var i=j.callback;if(null!==i){j.callback=null,R=j.priorityLevel;var r=i(j.expirationTime<=e);e=s.unstable_now(),"function"==typeof r?j.callback=r:j===M(O)&&S(O),B(e)}else S(O);j=M(O)}if(null!==j)var o=!0;else{var a=M(L);null!==a&&l(z,a.startTime-e),o=!1}return o}finally{j=null,R=n,I=!1}}function D(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var F=n;s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(t){t.callback=null},s.unstable_continueExecution=function(){N||I||(N=!0,o(H))},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_getFirstCallbackNode=function(){return M(O)},s.unstable_next=function(t){switch(R){case 1:case 2:case 3:var e=3;break;default:e=R}var n=R;R=e;try{return t()}finally{R=n}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=F,s.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=R;R=t;try{return e()}finally{R=n}},s.unstable_scheduleCallback=function(t,e,n){var i=s.unstable_now();if("object"==typeof n&&null!==n){var r=n.delay;r="number"==typeof r&&0<r?i+r:i,n="number"==typeof n.timeout?n.timeout:D(t)}else n=D(t),r=i;return t={id:T++,callback:e,priorityLevel:t,startTime:r,expirationTime:n=r+n,sortIndex:-1},i<r?(t.sortIndex=r,E(L,t),null===M(O)&&t===M(L)&&(A?u():A=!0,l(z,r-i))):(t.sortIndex=n,E(O,t),N||I||(N=!0,o(H))),t},s.unstable_shouldYield=function(){var t=s.unstable_now();B(t);var e=M(O);return e!==j&&null!==j&&null!==e&&null!==e.callback&&e.startTime<=t&&e.expirationTime<j.expirationTime||c()},s.unstable_wrapCallback=function(e){var n=R;return function(){var t=R;R=n;try{return e.apply(this,arguments)}finally{R=t}}}},{}],89:[function(t,e,n){"use strict";e.exports=t("./cjs/scheduler.production.min.js")},{"./cjs/scheduler.development.js":87,"./cjs/scheduler.production.min.js":88}],90:[function(t,e,n){"use strict";e.exports=t("./cjs/scheduler-tracing.production.min.js")},{"./cjs/scheduler-tracing.development.js":85,"./cjs/scheduler-tracing.production.min.js":86}],91:[function(l,t,u){(function(n,s){(function(){var i=l("process/browser.js").nextTick,t=Function.prototype.apply,r=Array.prototype.slice,o={},a=0;function e(t,e){this._id=t,this._clearFn=e}u.setTimeout=function(){return new e(t.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new e(t.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(t){t.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},u.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},u._unrefActive=u.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},u.setImmediate="function"==typeof n?n:function(t){var e=a++,n=!(arguments.length<2)&&r.call(arguments,1);return o[e]=!0,i(function(){o[e]&&(n?t.apply(null,n):t.call(null),u.clearImmediate(e))}),e},u.clearImmediate="function"==typeof s?s:function(t){delete o[t]}}).call(this)}).call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":46,timers:91}],92:[function(t,e,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="production"===t.env.NODE_ENV,i="Invariant failed";r.default=function(t,e){if(!t){if(n)throw new Error(i);throw new Error(i+": "+(e||""))}}}).call(this)}).call(this,t("_process"))},{_process:46}],93:[function(t,e,n){(function(t){(function(){"use strict";var i="production"===t.env.NODE_ENV;e.exports=function(t,e){if(!i){if(t)return;var n="Warning: "+e;"undefined"!=typeof console&&console.warn(n);try{throw Error(n)}catch(t){}}}}).call(this)}).call(this,t("_process"))},{_process:46}],94:[function(t,r,o){(function(Qe){(function(){var t,e,n,i;t=this,e=function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof Qe&&Qe.global===Qe&&Qe||Function("return this")()||{},i=Array.prototype,a=Object.prototype,d="undefined"!=typeof Symbol?Symbol.prototype:null,r=i.push,l=i.slice,p=a.toString,n=a.hasOwnProperty,e="undefined"!=typeof ArrayBuffer,o="undefined"!=typeof DataView,s=Array.isArray,u=Object.keys,c=Object.create,h=e&&ArrayBuffer.isView,f=isNaN,m=isFinite,y=!{toString:null}.propertyIsEnumerable("toString"),v=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_=Math.pow(2,53)-1;function g(r,o){return o=null==o?r.length-1:+o,function(){for(var t=Math.max(arguments.length-o,0),e=Array(t),n=0;n<t;n++)e[n]=arguments[n+o];switch(o){case 0:return r.call(this,e);case 1:return r.call(this,arguments[0],e);case 2:return r.call(this,arguments[0],arguments[1],e)}var i=Array(o+1);for(n=0;n<o;n++)i[n]=arguments[n];return i[o]=e,r.apply(this,i)}}function b(t){var e=typeof t;return"function"==e||"object"==e&&!!t}function w(t){return void 0===t}function k(t){return!0===t||!1===t||"[object Boolean]"===p.call(t)}function x(t){var e="[object "+t+"]";return function(t){return p.call(t)===e}}var P=x("String"),E=x("Number"),M=x("Date"),S=x("RegExp"),C=x("Error"),O=x("Symbol"),L=x("ArrayBuffer"),T=x("Function"),j=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof j&&(T=function(t){return"function"==typeof t||!1});var R=T,I=x("Object"),N=o&&I(new DataView(new ArrayBuffer(8))),A="undefined"!=typeof Map&&I(new Map),B=x("DataView");var z=N?function(t){return null!=t&&R(t.getInt8)&&L(t.buffer)}:B,H=s||x("Array");function D(t,e){return null!=t&&n.call(t,e)}var F=x("Arguments");!function(){F(arguments)||(F=function(t){return D(t,"callee")})}();var U=F;function Z(t){return E(t)&&f(t)}function V(t){return function(){return t}}function q(n){return function(t){var e=n(t);return"number"==typeof e&&0<=e&&e<=_}}function W(e){return function(t){return null==t?void 0:t[e]}}var G=W("byteLength"),K=q(G),$=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Q=e?function(t){return h?h(t)&&!z(t):K(t)&&$.test(p.call(t))}:V(!1),Y=W("length");function J(t,e){e=function(e){for(var n={},t=e.length,i=0;i<t;++i)n[e[i]]=!0;return{contains:function(t){return n[t]},push:function(t){return n[t]=!0,e.push(t)}}}(e);var n=v.length,i=t.constructor,r=R(i)&&i.prototype||a,o="constructor";for(D(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=v[n])in t&&t[o]!==r[o]&&!e.contains(o)&&e.push(o)}function X(t){if(!b(t))return[];if(u)return u(t);var e=[];for(var n in t)D(t,n)&&e.push(n);return y&&J(t,e),e}function tt(t,e){var n=X(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0}function et(t){return t instanceof et?t:this instanceof et?void(this._wrapped=t):new et(t)}function nt(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,G(t))}et.VERSION="1.12.0",et.prototype.valueOf=et.prototype.toJSON=et.prototype.value=function(){return this._wrapped},et.prototype.toString=function(){return String(this._wrapped)};var it="[object DataView]";function rt(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"==r||"object"==r||"object"==typeof e)&&function t(e,n,i,r){e instanceof et&&(e=e._wrapped);n instanceof et&&(n=n._wrapped);var o=p.call(e);if(o!==p.call(n))return!1;if(N&&"[object Object]"==o&&z(e)){if(!z(n))return!1;o=it}switch(o){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return d.valueOf.call(e)===d.valueOf.call(n);case"[object ArrayBuffer]":case it:return t(nt(e),nt(n),i,r)}var a="[object Array]"===o;if(!a&&Q(e)){var s=G(e);if(s!==G(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var l=e.constructor,u=n.constructor;if(l!==u&&!(R(l)&&l instanceof l&&R(u)&&u instanceof u)&&"constructor"in e&&"constructor"in n)return!1}i=i||[];r=r||[];var c=i.length;for(;c--;)if(i[c]===e)return r[c]===n;i.push(e);r.push(n);if(a){if((c=e.length)!==n.length)return!1;for(;c--;)if(!rt(e[c],n[c],i,r))return!1}else{var h,f=X(e);if(c=f.length,X(n).length!==c)return!1;for(;c--;)if(h=f[c],!D(n,h)||!rt(e[h],n[h],i,r))return!1}i.pop();r.pop();return!0}(t,e,n,i)}function ot(t){if(!b(t))return[];var e=[];for(var n in t)e.push(n);return y&&J(t,e),e}function at(i){var r=Y(i);return function(t){if(null==t)return!1;var e=ot(t);if(Y(e))return!1;for(var n=0;n<r;n++)if(!R(t[i[n]]))return!1;return i!==ht||!R(t[st])}}var st="forEach",lt=["clear","delete"],ut=["get","has","set"],ct=lt.concat(st,ut),ht=lt.concat(ut),ft=["add"].concat(lt,st,"has"),dt=A?at(ct):x("Map"),pt=A?at(ht):x("WeakMap"),mt=A?at(ft):x("Set"),yt=x("WeakSet");function vt(t){for(var e=X(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function _t(t){for(var e={},n=X(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function gt(t){var e=[];for(var n in t)R(t[n])&&e.push(n);return e.sort()}function bt(l,u){return function(t){var e=arguments.length;if(u&&(t=Object(t)),e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=l(i),o=r.length,a=0;a<o;a++){var s=r[a];u&&void 0!==t[s]||(t[s]=i[s])}return t}}var wt=bt(ot),kt=bt(X),xt=bt(ot,!0);function Pt(t){if(!b(t))return{};if(c)return c(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Et(t){return b(t)?H(t)?t.slice():wt({},t):t}function Mt(t){return H(t)?t:[t]}function St(t){return et.toPath(t)}function Ct(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0}function Ot(t,e,n){var i=Ct(t,St(e));return w(i)?n:i}function Lt(t){return t}function Tt(e){return e=kt({},e),function(t){return tt(t,e)}}function jt(e){return e=St(e),function(t){return Ct(t,e)}}function Rt(r,o,t){if(void 0===o)return r;switch(null==t?3:t){case 1:return function(t){return r.call(o,t)};case 3:return function(t,e,n){return r.call(o,t,e,n)};case 4:return function(t,e,n,i){return r.call(o,t,e,n,i)}}return function(){return r.apply(o,arguments)}}function It(t,e,n){return null==t?Lt:R(t)?Rt(t,e,n):(b(t)&&!H(t)?Tt:jt)(t)}function Nt(t,e){return It(t,e,1/0)}function At(t,e,n){return et.iteratee!==Nt?et.iteratee(t,e):It(t,e,n)}function Bt(){}function zt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}et.toPath=Mt,et.iteratee=Nt;var Ht=Date.now||function(){return(new Date).getTime()};function Dt(e){function n(t){return e[t]}var t="(?:"+X(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}}var Ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ut=Dt(Ft),Zt=Dt(_t(Ft)),Vt=et.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},qt=/(.)^/,Wt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Gt=/\\|'|\r|\n|\u2028|\u2029/g;function Kt(t){return"\\"+Wt[t]}var $t=0;function Qt(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=Pt(t.prototype),a=t.apply(o,r);return b(a)?a:o}var Yt=g(function(r,o){var a=Yt.placeholder,s=function(){for(var t=0,e=o.length,n=Array(e),i=0;i<e;i++)n[i]=o[i]===a?arguments[t++]:o[i];for(;t<arguments.length;)n.push(arguments[t++]);return Qt(r,s,this,this,n)};return s});Yt.placeholder=et;var Jt=g(function(e,n,i){if(!R(e))throw new TypeError("Bind must be called on a function");var r=g(function(t){return Qt(e,r,n,this,i.concat(t))});return r}),Xt=q(Y);function te(t,e,n,i){if(i=i||[],e||0===e){if(e<=0)return i.concat(t)}else e=1/0;for(var r=i.length,o=0,a=Y(t);o<a;o++){var s=t[o];if(Xt(s)&&(H(s)||U(s)))if(1<e)te(s,e-1,n,i),r=i.length;else for(var l=0,u=s.length;l<u;)i[r++]=s[l++];else n||(i[r++]=s)}return i}var ee=g(function(t,e){var n=(e=te(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=Jt(t[i],t)}return t});var ne=g(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),ie=Yt(ne,et,1);function re(t){return function(){return!t.apply(this,arguments)}}function oe(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var ae=Yt(oe,2);function se(t,e,n){e=At(e,n);for(var i,r=X(t),o=0,a=r.length;o<a;o++)if(e(t[i=r[o]],i,t))return i}function le(o){return function(t,e,n){e=At(e,n);for(var i=Y(t),r=0<o?0:i-1;0<=r&&r<i;r+=o)if(e(t[r],r,t))return r;return-1}}var ue=le(1),ce=le(-1);function he(t,e,n,i){for(var r=(n=At(n,i,1))(e),o=0,a=Y(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o}function fe(o,a,s){return function(t,e,n){var i=0,r=Y(t);if("number"==typeof n)0<o?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(s&&n&&r)return t[n=s(t,e)]===e?n:-1;if(e!=e)return 0<=(n=a(l.call(t,i,r),Z))?n+i:-1;for(n=0<o?i:r-1;0<=n&&n<r;n+=o)if(t[n]===e)return n;return-1}}var de=fe(1,ue,he),pe=fe(-1,ce);function me(t,e,n){var i=(Xt(t)?ue:se)(t,e,n);if(void 0!==i&&-1!==i)return t[i]}function ye(t,e,n){var i,r;if(e=Rt(e,n),Xt(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=X(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t}function ve(t,e,n){e=At(e,n);for(var i=!Xt(t)&&X(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o}function _e(l){return function(t,e,n,i){var r=3<=arguments.length;return function(t,e,n,i){var r=!Xt(t)&&X(t),o=(r||t).length,a=0<l?0:o-1;for(i||(n=t[r?r[a]:a],a+=l);0<=a&&a<o;a+=l){var s=r?r[a]:a;n=e(n,t[s],s,t)}return n}(t,Rt(e,i,4),n,r)}}var ge=_e(1),be=_e(-1);function we(t,i,e){var r=[];return i=At(i,e),ye(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r}function ke(t,e,n){e=At(e,n);for(var i=!Xt(t)&&X(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0}function xe(t,e,n){e=At(e,n);for(var i=!Xt(t)&&X(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1}function Pe(t,e,n,i){return Xt(t)||(t=vt(t)),"number"==typeof n&&!i||(n=0),0<=de(t,e,n)}var Ee=g(function(t,n,i){var r,o;return R(n)?o=n:(n=St(n),r=n.slice(0,-1),n=n[n.length-1]),ve(t,function(t){var e=o;if(!e){if(r&&r.length&&(t=Ct(t,r)),null==t)return;e=t[n]}return null==e?e:e.apply(t,i)})});function Me(t,e){return ve(t,jt(e))}function Se(t,i,e){var n,r,o=-1/0,a=-1/0;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=Xt(t)?t:vt(t)).length;s<l;s++)null!=(n=t[s])&&o<n&&(o=n);else i=At(i,e),ye(t,function(t,e,n){r=i(t,e,n),(a<r||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o}function Ce(t,e,n){if(null==e||n)return Xt(t)||(t=vt(t)),t[zt(t.length-1)];var i=(Xt(t)?Et:vt)(t),r=Y(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,a=0;a<e;a++){var s=zt(a,o),l=i[a];i[a]=i[s],i[s]=l}return i.slice(0,e)}function Oe(a,e){return function(i,r,t){var o=e?[[],[]]:{};return r=At(r,t),ye(i,function(t,e){var n=r(t,e,i);a(o,t,n)}),o}}var Le=Oe(function(t,e,n){D(t,n)?t[n].push(e):t[n]=[e]}),Te=Oe(function(t,e,n){t[n]=e}),je=Oe(function(t,e,n){D(t,n)?t[n]++:t[n]=1}),Re=Oe(function(t,e,n){t[n?0:1].push(e)},!0),Ie=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ne(t,e,n){return e in n}var Ae=g(function(t,e){var n={},i=e[0];if(null==t)return n;R(i)?(1<e.length&&(i=Rt(i,e[1])),e=ot(t)):(i=Ne,e=te(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var a=e[r],s=t[a];i(s,a,t)&&(n[a]=s)}return n}),Be=g(function(t,n){var e,i=n[0];return R(i)?(i=re(i),1<n.length&&(e=n[1])):(n=ve(te(n,!1,!1),String),i=function(t,e){return!Pe(n,e)}),Ae(t,i,e)});function ze(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function He(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:ze(t,t.length-e)}function De(t,e,n){return l.call(t,null==e||n?1:e)}var Fe=g(function(t,e){return e=te(e,!0,!0),we(t,function(t){return!Pe(e,t)})}),Ue=g(function(t,e){return Fe(t,e)});function Ze(t,e,n,i){k(e)||(i=n,n=e,e=!1),null!=n&&(n=At(n,i));for(var r=[],o=[],a=0,s=Y(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e&&!n?(a&&o===u||r.push(l),o=u):n?Pe(o,u)||(o.push(u),r.push(l)):Pe(r,l)||r.push(l)}return r}var Ve=g(function(t){return Ze(te(t,!0,!0))});function qe(t){for(var e=t&&Se(t,Y).length||0,n=Array(e),i=0;i<e;i++)n[i]=Me(t,i);return n}var We=g(qe);function Ge(t,e){return t._chain?et(e).chain():e}function Ke(n){return ye(gt(n),function(t){var e=et[t]=n[t];et.prototype[t]=function(){var t=[this._wrapped];return r.apply(t,arguments),Ge(this,e.apply(et,t))}}),et}ye(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=i[e];et.prototype[e]=function(){var t=this._wrapped;return null!=t&&(n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0]),Ge(this,t)}}),ye(["concat","join","slice"],function(t){var e=i[t];et.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Ge(this,t)}});var $e=Ke({__proto__:null,VERSION:"1.12.0",restArguments:g,isObject:b,isNull:function(t){return null===t},isUndefined:w,isBoolean:k,isElement:function(t){return!(!t||1!==t.nodeType)},isString:P,isNumber:E,isDate:M,isRegExp:S,isError:C,isSymbol:O,isArrayBuffer:L,isDataView:z,isArray:H,isFunction:R,isArguments:U,isFinite:function(t){return!O(t)&&m(t)&&!isNaN(parseFloat(t))},isNaN:Z,isTypedArray:Q,isEmpty:function(t){if(null==t)return!0;var e=Y(t);return"number"==typeof e&&(H(t)||P(t)||U(t))?0===e:0===Y(X(t))},isMatch:tt,isEqual:function(t,e){return rt(t,e)},isMap:dt,isWeakMap:pt,isSet:mt,isWeakSet:yt,keys:X,allKeys:ot,values:vt,pairs:function(t){for(var e=X(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},invert:_t,functions:gt,methods:gt,extend:wt,extendOwn:kt,assign:kt,defaults:xt,create:function(t,e){var n=Pt(t);return e&&kt(n,e),n},clone:Et,tap:function(t,e){return e(t),t},get:Ot,has:function(t,e){for(var n=(e=St(e)).length,i=0;i<n;i++){var r=e[i];if(!D(t,r))return!1;t=t[r]}return!!n},mapObject:function(t,e,n){e=At(e,n);for(var i=X(t),r=i.length,o={},a=0;a<r;a++){var s=i[a];o[s]=e(t[s],s,t)}return o},identity:Lt,constant:V,noop:Bt,toPath:Mt,property:jt,propertyOf:function(e){return null==e?Bt:function(t){return Ot(e,t)}},matcher:Tt,matches:Tt,times:function(t,e,n){var i=Array(Math.max(0,t));e=Rt(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},random:zt,now:Ht,escape:Ut,unescape:Zt,templateSettings:Vt,template:function(o,t,e){!t&&e&&(t=e),t=xt({},t,et.templateSettings);var n,i=RegExp([(t.escape||qt).source,(t.interpolate||qt).source,(t.evaluate||qt).source].join("|")+"|$","g"),a=0,s="__p+='";o.replace(i,function(t,e,n,i,r){return s+=o.slice(a,r).replace(Gt,Kt),a=r+t.length,e?s+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(t.variable||"obj","_",s)}catch(t){throw t.source=s,t}function r(t){return n.call(this,t,et)}var l=t.variable||"obj";return r.source="function("+l+"){\n"+s+"}",r},result:function(t,e,n){var i=(e=St(e)).length;if(!i)return R(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=R(o)?o.call(t):o}return t},uniqueId:function(t){var e=++$t+"";return t?t+e:e},chain:function(t){var e=et(t);return e._chain=!0,e},iteratee:Nt,partial:Yt,bind:Jt,bindAll:ee,memoize:function(i,r){var o=function(t){var e=o.cache,n=""+(r?r.apply(this,arguments):t);return D(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return o.cache={},o},delay:ne,defer:ie,throttle:function(n,i,r){var o,a,s,l,u=0;function c(){u=!1===r.leading?0:Ht(),o=null,l=n.apply(a,s),o||(a=s=null)}function t(){var t=Ht();u||!1!==r.leading||(u=t);var e=i-(t-u);return a=this,s=arguments,e<=0||i<e?(o&&(clearTimeout(o),o=null),u=t,l=n.apply(a,s),o||(a=s=null)):o||!1===r.trailing||(o=setTimeout(c,e)),l}return r=r||{},t.cancel=function(){clearTimeout(o),u=0,o=a=s=null},t},debounce:function(n,i,r){function o(t,e){a=null,e&&(s=n.apply(t,e))}var a,s,t=g(function(t){if(a&&clearTimeout(a),r){var e=!a;a=setTimeout(o,i),e&&(s=n.apply(this,t))}else a=ne(o,i,this,t);return s});return t.cancel=function(){clearTimeout(a),a=null},t},wrap:function(t,e){return Yt(e,t)},negate:re,compose:function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:oe,once:ae,findKey:se,findIndex:ue,findLastIndex:ce,sortedIndex:he,indexOf:de,lastIndexOf:pe,find:me,detect:me,findWhere:function(t,e){return me(t,Tt(e))},each:ye,forEach:ye,map:ve,collect:ve,reduce:ge,foldl:ge,inject:ge,reduceRight:be,foldr:be,filter:we,select:we,reject:function(t,e,n){return we(t,re(At(e)),n)},every:ke,all:ke,some:xe,any:xe,contains:Pe,includes:Pe,include:Pe,invoke:Ee,pluck:Me,where:function(t,e){return we(t,Tt(e))},max:Se,min:function(t,i,e){var n,r,o=1/0,a=1/0;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=Xt(t)?t:vt(t)).length;s<l;s++)null!=(n=t[s])&&n<o&&(o=n);else i=At(i,e),ye(t,function(t,e,n){((r=i(t,e,n))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},shuffle:function(t){return Ce(t,1/0)},sample:Ce,sortBy:function(t,i,e){var r=0;return i=At(i,e),Me(ve(t,function(t,e,n){return{value:t,index:r++,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")},groupBy:Le,indexBy:Te,countBy:je,partition:Re,toArray:function(t){return t?H(t)?l.call(t):P(t)?t.match(Ie):Xt(t)?ve(t,Lt):vt(t):[]},size:function(t){return null==t?0:Xt(t)?t.length:X(t).length},pick:Ae,omit:Be,first:He,head:He,take:He,initial:ze,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:De(t,Math.max(0,t.length-e))},rest:De,tail:De,drop:De,compact:function(t){return we(t,Boolean)},flatten:function(t,e){return te(t,e,!1)},without:Ue,uniq:Ze,unique:Ze,union:Ve,intersection:function(t){for(var e=[],n=arguments.length,i=0,r=Y(t);i<r;i++){var o=t[i];if(!Pe(e,o)){var a;for(a=1;a<n&&Pe(arguments[a],o);a++);a===n&&e.push(o)}}return e},difference:Fe,unzip:qe,transpose:qe,zip:We,object:function(t,e){for(var n={},i=0,r=Y(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n=n||(e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(l.call(t,i,i+=e));return n},mixin:Ke,default:et});return $e._=$e},"object"==typeof o&&void 0!==r?r.exports=e():"function"==typeof define&&define.amd?define("underscore",e):(t=t||self,n=t._,(i=t._=e()).noConflict=function(){return t._=n,i})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],95:[function(t,e,n){"use strict";function o(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}e.exports=function n(e,i){if(e===i)return!0;if(null==e||null==i)return!1;if(Array.isArray(e))return Array.isArray(i)&&e.length===i.length&&e.every(function(t,e){return n(t,i[e])});if("object"!=typeof e&&"object"!=typeof i)return!1;var t=o(e),r=o(i);return t!==e||r!==i?n(t,r):Object.keys(Object.assign({},e,i)).every(function(t){return n(e[t],i[t])})}},{}],96:[function(t,e,n){"use strict";function o(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}e.exports=function n(e,i){if(e===i)return!0;if(null==e||null==i)return!1;if(Array.isArray(e))return Array.isArray(i)&&e.length===i.length&&e.every(function(t,e){return n(t,i[e])});if("object"!=typeof e&&"object"!=typeof i)return!1;var t=o(e),r=o(i);return t!==e||r!==i?n(t,r):Object.keys(Object.assign({},e,i)).every(function(t){return n(e[t],i[t])})}},{}],97:[function(e,n,t){(function(t){(function(){"use strict";"production"===t.env.NODE_ENV?n.exports=e("./cjs/value-equal.min.js"):n.exports=e("./cjs/value-equal.js")}).call(this)}).call(this,e("_process"))},{"./cjs/value-equal.js":95,"./cjs/value-equal.min.js":96,_process:46}],98:[function(t,e,n){var i,r;i=this,r=function(s){"use strict";var l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==l&&l,i="URLSearchParams"in l,n="Symbol"in l&&"iterator"in Symbol,u="FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(t){return!1}}(),r="FormData"in l,c="ArrayBuffer"in l;if(c)var e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&-1<e.indexOf(Object.prototype.toString.call(t))};function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function t(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:u&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():c&&u&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="";var n=this.headers.get("content-type");n?0<=n.indexOf("json")&&"string"!=typeof this._bodyInit&&(this._bodyInit=this._bodyText):"string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")},u&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=d(this);return t?t:ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)}return this.blob().then(m)}),this.text=function(){var t,e,n,i=d(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=p(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=a(t),e=h(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[a(t)]},f.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},f.prototype.set=function(t,e){this.map[a(t)]=h(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),t(n)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),t(e)},f.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),t(n)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t,e){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,r=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),-1<_.indexOf(i)?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function b(t){var r=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),i=e.join("=").replace(/\+/g," ");r.append(decodeURIComponent(n),decodeURIComponent(i))}}),r}function w(t,e){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},v.call(g.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];w.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},s.DOMException=l.DOMException;try{new s.DOMException}catch(t){s.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function x(r,a){return new Promise(function(i,t){var e=new g(r,a);if(e.signal&&e.signal.aborted)return t(new s.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function n(){o.abort()}o.onload=function(){var t,r,e={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",r=new f,t.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t}).forEach(function(t){var e=t.split(":"),n=e.shift().trim();if(n){var i=e.join(":").trim();r.append(n,i)}}),r)};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var n="response"in o?o.response:o.responseText;setTimeout(function(){i(new w(n,e))},0)},o.onerror=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){t(new s.DOMException("Aborted","AbortError"))},0)},o.open(e.method,function(e){try{return""===e&&l.location.href?l.location.href:e}catch(t){return e}}(e.url),!0),"include"===e.credentials?o.withCredentials=!0:"omit"===e.credentials&&(o.withCredentials=!1),"responseType"in o&&(u?o.responseType="blob":c&&e.headers.get("Content-Type")&&-1!==e.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!a||"object"!=typeof a.headers||a.headers instanceof f?e.headers.forEach(function(t,e){o.setRequestHeader(e,t)}):Object.getOwnPropertyNames(a.headers).forEach(function(t){o.setRequestHeader(t,h(a.headers[t]))}),e.signal&&(e.signal.addEventListener("abort",n),o.onreadystatechange=function(){4===o.readyState&&e.signal.removeEventListener("abort",n)}),o.send(void 0===e._bodyInit?null:e._bodyInit)})}x.polyfill=!0,l.fetch||(l.fetch=x,l.Headers=f,l.Request=g,l.Response=w),s.Headers=f,s.Request=g,s.Response=w,s.fetch=x,Object.defineProperty(s,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(i.WHATWGFetch={})},{}],99:[function(t,e,n){"use strict";var i=h(t("react")),r=h(t("react-dom")),o=t("react-router-dom"),a=h(t("./components/Application")),s=h(t("./components/views/RecordListWrapper")),l=h(t("./utils/routeHelper"));t("whatwg-fetch");var u=h(t("promise-polyfill")),c=h(t("./../ISOF-React-modules/lang/Lang"));function h(t){return t&&t.__esModule?t:{default:t}}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}console.log("PublikUtforska running React.js version ".concat(i.default.version," and ReactDOM version ").concat(r.default.version)),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),window.Promise||(window.Promise=u.default),c.default.setCurrentLang("sv"),window.Lang=c.default,window.l=c.default.get,r.default.render(i.default.createElement(o.HashRouter,null,i.default.createElement(o.Route,{exact:!0,path:"/"},i.default.createElement(o.Redirect,{to:"/places/recordtype/one_accession_row"})),i.default.createElement(o.Route,{exact:!0,path:"/places"},i.default.createElement(o.Redirect,{to:"/places/recordtype/one_accession_row"})),i.default.createElement(o.Route,{path:["/places/:place_id([0-9]+)?","/records/:record_id","/person/:person_id"],render:function(t){return i.default.createElement(a.default,f({popup:i.default.createElement(s.default,f({manuallyOpenPopup:!0,openButtonLabel:"Visa sökträffar som lista",disableRouterPagination:!0,searchParams:l.default.createParamsFromSearchRoute(t.location.pathname.split(t.match.url)[1])},t))},t))}})),document.getElementById("app"))},{"./../ISOF-React-modules/lang/Lang":26,"./components/Application":100,"./components/views/RecordListWrapper":110,"./utils/routeHelper":114,"promise-polyfill":49,react:73,"react-dom":57,"react-router-dom":63,"whatwg-fetch":98}],100:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=t("react-router-dom"),u=i(t("react-dom")),c=i(t("./MapMenu")),h=i(t("./views/MapView")),f=i(t("./views/PlaceView")),d=i(t("./views/PersonView")),p=i(t("./views/RecordView")),m=i(t("./../../ISOF-React-modules/components/controls/RoutePopupWindow")),y=i(t("./../../ISOF-React-modules/components/views/LocalLibraryView")),v=i(t("./../../ISOF-React-modules/components/views/ImageOverlay")),_=i(t("./../../ISOF-React-modules/components/views/FeedbackOverlay")),g=(i(t("./../../ISOF-React-modules/components/views/HelpOverlay")),i(t("./../../ISOF-React-modules/components/views/ContributeInfoOverlay"))),b=i(t("./../../ISOF-React-modules/components/views/TranscriptionHelpOverlay")),w=i(t("./../../ISOF-React-modules/components/views/TranscriptionOverlay")),k=i(t("./../../ISOF-React-modules/components/controls/PopupNotificationMessage")),x=i(t("./../utils/routeHelper")),P=i(t("eventbusjs"));function i(t){return t&&t.__esModule?t:{default:t}}function E(){return(E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function M(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=L(o);if(a){var r=L(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?O(e):n}}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(r,o["default"].Component);var t,e,n,i=C(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).mapMenu=o.default.createRef(),window.eventBus=P.default,window.applicationSettings={includeNordic:!0},e.mapMarkerClick=e.mapMarkerClick.bind(O(e)),e.popupCloseHandler=e.popupCloseHandler.bind(O(e)),e.popupWindowHideHandler=e.popupWindowHideHandler.bind(O(e)),e.popupWindowShowHandler=e.popupWindowShowHandler.bind(O(e)),e.introOverlayCloseButtonClickHandler=e.introOverlayCloseButtonClickHandler.bind(O(e)),e.languageChangedHandler=e.languageChangedHandler.bind(O(e)),e.languageChangedHandler=e.languageChangedHandler.bind(O(e)),e.state={selectedCategory:null,searchValue:"",searchField:"",match:{},popupVisible:!1,menuExpanded:!1},e}return t=r,(e=[{key:"mapMarkerClick",value:function(t){this.props.history.push(x.default.createPlacePathFromPlaces(t,this.props.location.pathname))}},{key:"popupCloseHandler",value:function(){-1<this.props.location.pathname.indexOf("records/")?this.props.history.push("/places"+x.default.createSearchRoute(x.default.createParamsFromRecordRoute(this.props.location.pathname))):-1<this.props.location.pathname.indexOf("places/")?this.props.history.push("/places"+x.default.createSearchRoute(x.default.createParamsFromPlacesRoute(this.props.location.pathname))):this.props.history.push("/places"+x.default.createSearchRoute(x.default.createParamsFromSearchRoute(this.props.location.pathname.split(this.props.match.url)[1])))}},{key:"popupWindowShowHandler",value:function(){setTimeout(function(){this.setState({popupVisible:!0})}.bind(this),10)}},{key:"popupWindowHideHandler",value:function(){setTimeout(function(){this.setState({popupVisible:!1})}.bind(this),10)}},{key:"introOverlayCloseButtonClickHandler",value:function(){eventBus.dispatch("overlay.hide"),this.state.neverShowIntro&&localStorage.setItem("neverShowIntro",!0)}},{key:"languageChangedHandler",value:function(){this.forceUpdate()}},{key:"componentDidMount",value:function(){document.getElementById("app").addEventListener("click",this.windowClickHandler.bind(this)),window.eventBus,setTimeout(function(){document.body.classList.add("app-initialized")}.bind(this),1e3)}},{key:"shouldComponentUpdate",value:function(t,e){return JSON.stringify(e)!=JSON.stringify(this.state)}},{key:"windowClickHandler",value:function(t){var e=u.default.findDOMNode(this.mapMenu.current);e&&!e.contains(t.target)?this.setState({menuExpanded:!1}):this.setState({menuExpanded:!0})}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"app-container"+(this.state.popupVisible?" has-overlay":"")},o.default.createElement(a.Switch,null,o.default.createElement(a.Route,{path:["/person/:person_id"],render:function(t){return o.default.createElement(m.default,{onShow:e.popupWindowShowHandler,onHide:e.popupWindowHideHandler,onClose:e.popupCloseHandler,router:e.context.router},o.default.createElement(d.default,E({key:"Application-PersonView-".concat(t.match.params.person_id)},t)))}}),o.default.createElement(a.Route,{path:["/places/:place_id([0-9]+)"],render:function(t){return o.default.createElement(m.default,{onShow:e.popupWindowShowHandler,onHide:e.popupWindowHideHandler,onClose:e.popupCloseHandler,router:e.context.router},o.default.createElement(f.default,E({},t,{key:"Application-Place-View-".concat(x.default.createParamsFromPlacesRoute(t.location.pathname).place_id),searchParams:x.default.createParamsFromPlacesRoute(t.location.pathname),showOnlyResults:Object.values(x.default.createParamsFromPlacesRoute(t.location.pathname)).filter(function(t){return t}).length<=2})))}}),o.default.createElement(a.Route,{path:"/places",render:function(){return o.default.createElement(m.default,{onShow:e.popupWindowShowHandler,onHide:e.popupWindowHideHandler,onClose:e.popupCloseHandler,router:e.context.router},e.props.popup)}}),o.default.createElement(a.Route,{path:"/records",render:function(t){return o.default.createElement(m.default,{onShow:e.popupWindowShowHandler,onHide:e.popupWindowHideHandler,onClose:e.popupCloseHandler,router:e.context.router},o.default.createElement(p.default,E({key:"Application-RecordView-".concat(x.default.createParamsFromRecordRoute(e.props.location.pathname).record_id)},t)))}})),o.default.createElement(a.Route,{path:["/places/:place_id([0-9]+)?","/records/:record_id","/person/:person_id"],render:function(t){return o.default.createElement(h.default,E({searchParams:x.default.createParamsFromSearchRoute(t.location.pathname.split(t.match.url)[1]),onMarkerClick:e.mapMarkerClick,defaultMarkerIcon:e.defaultMarkerIcon,hideMapmodeMenu:!0},t),o.default.createElement(c.default,E({ref:e.mapMenu,searchParams:x.default.createParamsFromSearchRoute(t.location.pathname.split(t.match.url)[1])},t,{expanded:e.state.menuExpanded})),o.default.createElement(y.default,{headerText:l("Mina sägner"),history:e.props.history}))}}),o.default.createElement("div",{className:"map-progress"},o.default.createElement("div",{className:"indicator"})),o.default.createElement(v.default,null),o.default.createElement(_.default,null),o.default.createElement(g.default,null),o.default.createElement(w.default,this.props),o.default.createElement(b.default,null),o.default.createElement(k.default,null))}}])&&M(t.prototype,e),n&&M(t,n),r}();n.default=r},{"./../../ISOF-React-modules/components/controls/PopupNotificationMessage":6,"./../../ISOF-React-modules/components/controls/RoutePopupWindow":7,"./../../ISOF-React-modules/components/views/ContributeInfoOverlay":11,"./../../ISOF-React-modules/components/views/FeedbackOverlay":13,"./../../ISOF-React-modules/components/views/HelpOverlay":14,"./../../ISOF-React-modules/components/views/ImageOverlay":16,"./../../ISOF-React-modules/components/views/LocalLibraryView":18,"./../../ISOF-React-modules/components/views/TranscriptionHelpOverlay":24,"./../../ISOF-React-modules/components/views/TranscriptionOverlay":25,"./../utils/routeHelper":114,"./MapMenu":103,"./views/MapView":105,"./views/PersonView":106,"./views/PlaceView":107,"./views/RecordView":111,eventbusjs:38,react:73,"react-dom":57,"react-router-dom":63}],101:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=(i(t("react-dom")),i(t("underscore")),i(t("./../../ISOF-React-modules/utils/utforskaCategories.js")));i(t("./../utils/routeHelper"));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=f(o);if(a){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?h(e):n}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,o["default"].Component);var t,e,n,i=c(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).itemKeyUpHandler=e.itemKeyUpHandler.bind(h(e)),e}return t=r,(e=[{key:"itemKeyUpHandler",value:function(t){13==t.keyCode&&this.itemClickHandler(t)}},{key:"render",value:function(){var t=a.default.categories.map(function(t,e){return window.currentLang&&"no"==window.currentLang&&(t.label=t.label_no),this.props.multipleSelect?o.default.createElement("a",{tabIndex:0,key:e,"data-index":e,className:"item"+(this.props.searchParams.category&&this.props.searchParams.category.split(",").includes(t.letter)?" selected":""),onClick:this.props.itemClickHandler,onKeyUp:this.itemKeyUpHandler},t.label):o.default.createElement("a",{tabIndex:0,key:e,"data-index":e,className:"item"+(t.letter==this.state.selectedCategory?" selected":""),onClick:this.props.itemClickHandler,onKeyUp:this.itemKeyUpHandler},t.label)}.bind(this));return o.default.createElement("div",null,t)}}])&&l(t.prototype,e),n&&l(t,n),r}();n.default=r},{"./../../ISOF-React-modules/utils/utforskaCategories.js":32,"./../utils/routeHelper":114,react:73,"react-dom":57,underscore:94}],102:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../utils/routeHelper"));function i(t){return t&&t.__esModule?t:{default:t}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=m(o);if(a){var r=m(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?p(e):n}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(r,o["default"].Component);var t,e,n,i=d(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).menuButtonClick=e.menuButtonClick.bind(p(e)),e}return t=r,(e=[{key:"menuButtonClick",value:function(t){var e=t.currentTarget.dataset.value,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props.searchParams);"one_accession_row"===(n.recordtype=e)?(n.category=void 0,n.transcriptionstatus=void 0):"one_record"===e&&(n.has_media=void 0),this.props.history.push("/places"+a.default.createSearchRoute(n))}},{key:"render",value:function(){return o.default.createElement("div",{className:"nordic-switch-wrapper map-floating-control"},o.default.createElement("a",{onClick:this.menuButtonClick,"data-value":"one_accession_row",className:"one_accession_row"==this.props.searchParams.recordtype?"selected":""},l("Accession")),o.default.createElement("a",{onClick:this.menuButtonClick,"data-value":"one_record",className:"one_record"==this.props.searchParams.recordtype?"selected":""},l("Uppteckning")))}}])&&h(t.prototype,e),n&&h(t,n),r}();n.default=r},{"./../utils/routeHelper":114,react:73}],103:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=t("react-router-dom"),l=i(t("./../utils/routeHelper")),u=i(t("./SearchBox")),c=i(t("./FilterSwitch"));function i(t){return t&&t.__esModule?t:{default:t}}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=m(o);if(a){var r=m(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(r,o["default"].Component);var t,e,n,i=p(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).state={selectedCategory:null,advanced:!1},e}return t=r,(e=[{key:"searchBoxSearchHandler",value:function(t){this.setState({searchValue:t.searchValue,searchField:t.searchField},function(){this.updateRoute()}.bind(this))}},{key:"render",value:function(){var e=this;return o.default.createElement(a.Route,{path:["/places/:place_id([0-9]+)?","/records/:record_id","/person/:person_id"],render:function(t){return o.default.createElement("div",{className:"menu-wrapper"+(e.props.expanded?" menu-expanded":"")+(e.state.advanced?" advanced-menu-view":"")},o.default.createElement(c.default,h({searchParams:l.default.createParamsFromSearchRoute(t.location.pathname.split(t.match.url)[1])},t)),o.default.createElement(u.default,h({key:t.location.pathname.split(t.match.url)[1],searchParams:l.default.createParamsFromSearchRoute(t.location.pathname.split(t.match.url)[1]),expanded:e.props.expanded},t)))}})}}])&&f(t.prototype,e),n&&f(t,n),r}();n.default=r},{"./../utils/routeHelper":114,"./FilterSwitch":102,"./SearchBox":104,react:73,"react-router-dom":63}],104:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./CategoryList")),u=t("react-router-dom"),c=i(t("./../utils/routeHelper")),h=i(t("./../../ISOF-React-modules/utils/utforskaCategories.js"));function i(t){return t&&t.__esModule?t:{default:t}}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=g(o);if(a){var r=g(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?_(e):n}}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(r,o["default"].Component);var t,e,n,i=v(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).inputKeyPressHandler=e.inputKeyPressHandler.bind(_(e)),e.searchValueChangeHandler=e.searchValueChangeHandler.bind(_(e)),e.executeSearch=e.executeSearch.bind(_(e)),e.searchBoxClickHandler=e.searchBoxClickHandler.bind(_(e)),e.checkboxChangeHandler=e.checkboxChangeHandler.bind(_(e)),e.categoryItemClickHandler=e.categoryItemClickHandler.bind(_(e)),e.languageChangedHandler=e.languageChangedHandler.bind(_(e)),e.state={searchParams:{search:"",search_field:"record"}},window.searchBox=_(e),e}return t=r,(e=[{key:"inputKeyPressHandler",value:function(t){"Enter"==t.key&&this.executeSearch()}},{key:"categoryItemClickHandler",value:function(t){var e=h.default.categories[t.target.dataset.index].letter,n=this.props.searchParams.category&&this.props.searchParams.category.split(","),i=[];n&&n.includes(e)?i=n.filter(function(t){return t!==e}):n?(i=n).push(e):i=[e];var r=d({},this.state.searchParams);r.category=i.join(",");var o="/places"+c.default.createSearchRoute(r);this.props.history.push(o)}},{key:"executeSearch",value:function(){var t=d({},this.props.searchParams);Object.assign(t,this.state.searchParams),this.props.history.push("/places"+c.default.createSearchRoute(t))}},{key:"searchValueChangeHandler",value:function(t){if(console.log(t.target),t.target.value!=this.state.searchParams.search){var e=d({},this.state.searchParams);e.search=t.target.value,this.setState({searchParams:e})}}},{key:"checkboxChangeHandler",value:function(t){var e=this;if(t.target.value!=this.state.searchParams[t.target.name]){var n=d({},this.state.searchParams);"false"===t.target.value?n[t.target.name]=void 0:n[t.target.name]=t.target.value,this.setState({searchParams:n},function(){return e.executeSearch()})}}},{key:"searchBoxClickHandler",value:function(){this.refs.searchInput.focus()}},{key:"languageChangedHandler",value:function(){this.forceUpdate()}},{key:"componentDidMount",value:function(){window.eventBus&&window.eventBus.addEventListener("Lang.setCurrentLang",this.languageChangedHandler);var t=d({},this.props.searchParams);this.setState({searchParams:t})}},{key:"componentDidUpdate",value:function(t){if(JSON.stringify(t.searchParams)!==JSON.stringify(this.props.searchParams)){var e=d({},this.props.searchParams);this.setState({searchParams:e})}}},{key:"componentWillUnmount",value:function(){window.eventBus&&window.eventBus.removeEventListener("Lang.setCurrentLang",this.languageChangedHandler)}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{onClick:this.searchBoxClickHandler,className:"search-box map-floating-control"+(this.props.expanded?" expanded":"")+("one_record"===this.state.searchParams.recordtype?" advanced":"")},o.default.createElement("input",{ref:"searchInput",type:"text",defaultValue:this.state.searchParams.search,onInput:this.searchValueChangeHandler,onKeyPress:this.inputKeyPressHandler,placeholder:"Sök"}),o.default.createElement("div",{className:"search-label",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:275,display:"block"}},this.state.searchParams.search?"record"==this.state.searchParams.search_field?"Innehåll: ":"person"==this.state.searchParams.search_field?"Person: ":"place"==this.state.searchParams.search_field?"Ort: ":"":l("Sök"),o.default.createElement("strong",null,""!=this.state.searchParams.search?this.state.searchParams.search:""),this.state.searchParams.has_media?" (Med material)":"",this.state.searchParams.transcriptionstatus?"published"==this.state.searchParams.transcriptionstatus?" (Avskrivna)":" (För avskrift)":"",o.default.createElement("br",null),o.default.createElement("small",null,this.state.searchParams.category?this.state.searchParams.category.split(",").map(function(t){return h.default.getCategoryName(t)}).join(", "):"")),o.default.createElement("button",{className:"search-button",onClick:this.executeSearch}),o.default.createElement("div",{className:"expanded-content"},o.default.createElement("div",{className:"radio-group"},o.default.createElement("label",null,o.default.createElement("input",{type:"radio",value:"record",onChange:this.checkboxChangeHandler,name:"search_field",checked:"record"==this.state.searchParams.search_field||!this.state.searchParams.search_field}),"Innehåll"),o.default.createElement("label",null,o.default.createElement("input",{type:"radio",value:"person",onChange:this.checkboxChangeHandler,name:"search_field",checked:"person"==this.state.searchParams.search_field}),"Person"),o.default.createElement("label",null,o.default.createElement("input",{type:"radio",value:"place",onChange:this.checkboxChangeHandler,name:"search_field",checked:"place"==this.state.searchParams.search_field}),"Ort")),"one_accession_row"==this.state.searchParams.recordtype&&o.default.createElement("div",{className:"radio-group"},o.default.createElement("label",null,o.default.createElement("input",{type:"radio",value:"false",onChange:this.checkboxChangeHandler,name:"has_media",checked:"true"!==this.state.searchParams.has_media}),"Allt"),o.default.createElement("label",null,o.default.createElement("input",{type:"radio",value:"true",onChange:this.checkboxChangeHandler,name:"has_media",checked:"true"===this.state.searchParams.has_media}),"Med material")),"one_record"==this.state.searchParams.recordtype&&o.default.createElement("div",{className:"radio-group"},o.default.createElement("label",null,o.default.createElement("input",{type:"radio",value:"false",onChange:this.checkboxChangeHandler,name:"transcriptionstatus",checked:!this.state.searchParams.transcriptionstatus}),"Allt"),o.default.createElement("label",null,o.default.createElement("input",{type:"radio",value:"published",onChange:this.checkboxChangeHandler,name:"transcriptionstatus",checked:"published"==this.state.searchParams.transcriptionstatus}),"Avskrivna"),o.default.createElement("label",null,o.default.createElement("input",{type:"radio",value:"readytotranscribe",onChange:this.checkboxChangeHandler,name:"transcriptionstatus",checked:"readytotranscribe"==this.state.searchParams.transcriptionstatus}),"För avskrift")),o.default.createElement("div",{className:"advanced-content"},o.default.createElement("h4",null,"Kategorier"),o.default.createElement("div",{tabIndex:-1,className:"list-container minimal-scrollbar"},o.default.createElement(u.Route,{path:["/places/:place_id([0-9]+)?","/records/:record_id","/person/:person_id"],render:function(t){return o.default.createElement(a.default,f({multipleSelect:"true",searchParams:c.default.createParamsFromSearchRoute(t.location.pathname.split(t.match.url)[1]),itemClickHandler:e.categoryItemClickHandler},t))}})))))}}])&&m(t.prototype,e),n&&m(t,n),r}();n.default=b},{"./../../ISOF-React-modules/utils/utforskaCategories.js":32,"./../utils/routeHelper":114,"./CategoryList":101,react:73,"react-router-dom":63}],105:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),l=i(t("leaflet"));t("leaflet.markercluster"),t("./../../../ISOF-React-modules/lib/leaflet-heat");var u=i(t("underscore")),a=i(t("./../../../ISOF-React-modules/components/views/MapBase")),c=i(t("./../../../ISOF-React-modules/components/collections/MapCollection")),h=i(t("./../../../ISOF-React-modules/utils/mapHelper")),f=i(t("./../../config.js"));function i(t){return t&&t.__esModule?t:{default:t}}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=g(o);if(a){var r=g(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?_(e):n}}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(r,o["default"].Component);var t,e,n,i=v(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=i.call(this,t),window.mapView=_(e),e.state={viewMode:"clusters",loading:!1},e.mapData=[],e.changeViewMode=e.changeViewMode.bind(_(e)),e.mapBaseLayerChangeHandler=e.mapBaseLayerChangeHandler.bind(_(e)),e.collections=new c.default(function(t){this.mapData=t.data||[],this.updateMap(),this.setState({loading:!1})}.bind(_(e))),e}return t=r,(e=[{key:"componentDidMount",value:function(){this.fetchData(this.props.searchParams),this.mapBase=this.refs.mapView}},{key:"componentDidUpdate",value:function(t){var e=d({},t.searchParams);e.place_id&&delete e.place_id;var n=d({},this.props.searchParams);n.place_id&&delete n.place_id,JSON.stringify(e)!==JSON.stringify(n)&&this.fetchData(n)}},{key:"mapBaseLayerChangeHandler",value:function(){this.updateMap()}},{key:"fetchData",value:function(t){if(this.setState({loading:!0}),t){var e={search:t.search||void 0,search_field:t.search_field||void 0,type:t.type,category:t.category&&t.category+"".concat(t.subcategory?","+t.subcategory:""),year_from:t.year_from||void 0,year_to:t.year_to||void 0,gender:t.gender?t.person_relation?t.person_relation+":"+t.gender:t.gender:void 0,birth_years:t.birth_years?t.person_relation?t.person_relation+":"+(t.gender?t.gender+":":"")+t.birth_years:t.birth_years:void 0,record_ids:t.record_ids||void 0,has_metadata:t.has_metadata||void 0,has_media:t.has_media||void 0,recordtype:t.recordtype||void 0,transcriptionstatus:t.transcriptionstatus||void 0};t.nordic||(e.country=f.default.country),f.default.filterParameterName&&f.default.filterParameterValues&&"filter"in t&&("true"==t.filter||1==t.filter?e[f.default.filterParameterName]=f.default.filterParameterValues[1]:e[f.default.filterParameterName]=f.default.filterParameterValues[0]),this.collections.fetch(e)}}},{key:"changeViewMode",value:function(t){this.setViewmode(t.target.dataset.viewmode)}},{key:"setViewmode",value:function(t){t!=this.state.viewMode&&(this.setState({viewMode:t}),0<this.mapData.length&&setTimeout(function(){this.createLayers(),this.updateMap()}.bind(this),50))}},{key:"setMapFilter",value:function(t){this.setState({mapFilter:t},function(){this.updateMap()}.bind(this))}},{key:"createLayers",value:function(){switch(this.markers&&(this.markers.clearLayers&&this.markers.clearLayers(),this.refs.mapView.map.removeLayer(this.markers)),this.state.viewMode){case"markers":case"circles":this.markers=l.default.featureGroup(),this.refs.mapView.map.addLayer(this.markers);break;case"clusters":this.markers=new l.default.MarkerClusterGroup({showCoverageOnHover:!1,maxClusterRadius:40,iconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=e<10?"small":e<20?"medium":"large",new l.default.DivIcon({html:"<div><span><b>"+e+"</b></span></div>",className:"marker-cluster"+n,iconSize:new l.default.Point(28,28)})}}),this.refs.mapView.map.addLayer(this.markers);break;case"heatmap":this.markers=l.default.heatLayer([],{minOpacity:.35,radius:18,blur:15}),this.markers.addTo(this.refs.mapView.map);case"heatmap-count":this.markers=l.default.heatLayer([],{minOpacity:.35,radius:18,blur:15,maxZoom:4}),this.markers.addTo(this.refs.mapView.map)}}},{key:"updateMap",value:function(){var t=this.state.mapFilter?u.default.filter(this.mapData,function(t){return-1<t.relation_type.indexOf(this.state.mapFilter)}.bind(this)):this.mapData;if(("markers"==this.state.viewMode||"clusters"==this.state.viewMode)&&(this.markers?this.markers.clearLayers():this.createLayers(),0<t.length)){var n=this.refs.mapView.map.getBounds().pad(-.2),i=[],r=!1;u.default.each(t,function(e){if(0<e.location.length){var t=l.default.marker([Number(e.location[0]),Number(e.location[1])],{title:e.name,icon:1==e.has_metadata?this.props.highlightedMarkerIcon||h.default.markerIconHighlighted:this.props.defaultMarkerIcon||h.default.markerIcon});t.on("click",function(t){this.props.onMarkerClick&&this.props.onMarkerClick(e.id)}.bind(this)),this.markers.addLayer(t),i.push(e.location),n.contains(e.location)&&(r=!0)}}.bind(this)),(!r||f.default.siteOptions.mapView&&1==f.default.siteOptions.mapView.alwaysUpdateViewport)&&this.refs.mapView.map.fitBounds(i,{maxZoom:10,padding:[50,50]})}if("circles"==this.state.viewMode&&(this.markers?this.markers.clearLayers():this.createLayers(),0<t.length)){i=[],u.default.min(t,function(t){return Number(t.doc_count)}).doc_count;var o=u.default.max(t,function(t){return Number(t.doc_count)}).doc_count;u.default.each(t,function(e){if(0<e.location.length){var t=l.default.circleMarker(e.location,{radius:e.doc_count/o*20+2,fillColor:"#047bff",fillOpacity:.4,color:"#000",weight:.8});t.on("click",function(t){this.props.onMarkerClick&&this.props.onMarkerClick(e.id)}.bind(this)),this.markers.addLayer(t)}}.bind(this))}if("heatmap"==this.state.viewMode){var e=u.default.map(t,function(t){return[t.location[0],t.location[1],.5]}.bind(this));this.markers.setLatLngs(e)}if("heatmap-count"==this.state.viewMode){this.refs.mapView.map.removeLayer(this.markers);var a=u.default.max(t,function(t){return Number(t.doc_count)}).doc_count;this.markers=l.default.heatLayer([],{minOpacity:.35,radius:18,blur:15,max:a,maxZoom:0}),this.markers.addTo(this.refs.mapView.map);e=u.default.map(t,function(t){return[t.location[0],t.location[1],t.doc_count]}.bind(this));this.markers.setLatLngs(e)}this.props.onMapUpdate&&this.props.onMapUpdate()}},{key:"render",value:function(){return o.default.createElement("div",{className:"map-wrapper"+(this.state.loading?" map-loading":"")},this.props.children,!this.props.hideMapmodeMenu&&o.default.createElement("div",{className:"map-viewmode-menu"},o.default.createElement("a",{className:"icon-marker"+("clusters"==this.state.viewMode?" selected":""),"data-viewmode":"clusters",onClick:this.changeViewMode},o.default.createElement("span",null,"Cluster")),!this.props.disableHeatmapMode&&o.default.createElement("a",{className:"icon-heatmap"+("heatmap-count"==this.state.viewMode?" selected":""),"data-viewmode":"heatmap-count",onClick:this.changeViewMode},o.default.createElement("span",null,"Heatmap")),!this.props.disableCirclesMode&&o.default.createElement("a",{className:"icon-circles"+("circles"==this.state.viewMode?" selected":""),"data-viewmode":"circles",onClick:this.changeViewMode},o.default.createElement("span",null,"Circles"))),o.default.createElement("div",{className:"map-progress"},o.default.createElement("div",{className:"indicator"})),o.default.createElement(a.default,{ref:"mapView",className:"map-view",layersControlPosition:this.props.layersControlPosition||"topleft",zoomControlPosition:this.props.zoomControlPosition||"topleft",disableLocateControl:!0,scrollWheelZoom:!0,zoom:this.props.zoom,center:this.props.center,disableSwedenMap:this.props.disableSwedenMap,onBaseLayerChange:this.mapBaseLayerChangeHandler}))}}])&&m(t.prototype,e),n&&m(t,n),r}();n.default=b},{"./../../../ISOF-React-modules/components/collections/MapCollection":1,"./../../../ISOF-React-modules/components/views/MapBase":19,"./../../../ISOF-React-modules/lib/leaflet-heat":27,"./../../../ISOF-React-modules/utils/mapHelper":31,"./../../config.js":112,leaflet:41,"leaflet.markercluster":40,react:73,underscore:94}],106:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../ISOF-React-modules/components/views/SimpleMap")),u=i(t("./RecordList")),c=i(t("./../../../ISOF-React-modules/components/views/ContributeInfoButton")),h=i(t("./../../../ISOF-React-modules/components/views/FeedbackButton")),f=i(t("./../../../scripts/config.js")),d=t("react-router-dom");i(t("./../../../scripts/utils/routeHelper"));function i(t){return t&&t.__esModule?t:{default:t}}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=_(o);if(a){var r=_(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(r,o["default"].Component);var t,e,n,i=v(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).state={data:{},personId:null},e.url=f.default.restApiUrl+"persons/",e}return t=r,(e=[{key:"componentDidMount",value:function(){this.fetchData(this.props.match.params)}},{key:"fetchData",value:function(t){t.person_id&&fetch(this.url+t.person_id+"/").then(function(t){return t.json()}).then(function(t){this.setState({data:t})}.bind(this)).catch(function(t){console.log("parsing failed",t)})}},{key:"render",value:function(){var t="";if(this.state.data.places&&this.state.data.places[0]){var e=this.state.data.places[0];e&&(t=e.name,e.landskap&&(t=t+", "+e.landskap),e.fylke&&(t=t+", "+e.fylke))}var n="";return window.applicationSettings&&window.applicationSettings.includeNordic&&(n="/nordic/true"),o.default.createElement("div",{className:"container"+(this.state.data.id?"":" loading")},o.default.createElement("div",{className:"container-header"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"twelve columns"},o.default.createElement("h2",null,this.state.data.name||""),o.default.createElement("p",null,(this.state.data.birth_year&&0<this.state.data.birth_year?l("Föddes")+" "+this.state.data.birth_year:"")+(this.state.data.birth_year&&0<this.state.data.birth_year&&this.state.data.places?" i ":""),this.state.data.places&&0<this.state.data.places.length&&o.default.createElement("a",{href:"#places/"+this.state.data.places[0].id+n},t)))),!f.default.siteOptions.hideContactButton&&o.default.createElement(h.default,p({title:this.state.data.name||"",type:"Person"},this.props)),!f.default.siteOptions.hideContactButton&&o.default.createElement(c.default,{title:this.state.data.name||"",type:"Person"})),this.state.data.places&&0<this.state.data.places.length&&this.state.data.places[0].lat&&this.state.data.places[0].lng&&o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"twelve columns"},o.default.createElement(a.default,{marker:{lat:this.state.data.places[0].lat,lng:this.state.data.places[0].lng,label:this.state.data.places[0].name}}))),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:(this.state.data.image?"eight":"twelve")+" columns"},this.state.data.biography&&o.default.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.data.biography.replace(/(?:\r\n|\r|\n)/g,"<br />")}})),this.state.data.image&&o.default.createElement("div",{className:"four columns"},o.default.createElement("img",{className:"archive-image",src:(f.default.personImageUrl||f.default.imageUrl)+this.state.data.image,alt:""}))),o.default.createElement("hr",null),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"twelve columns"},o.default.createElement("h3",null,l("Uppteckningar")),o.default.createElement(d.Route,{path:"/person/:person_id",render:function(t){return o.default.createElement(u.default,{disableRouterPagination:!0,disableAutoFetch:!0,searchParams:{person_id:t.match.params.person_id}})}}))))}}])&&m(t.prototype,e),n&&m(t,n),r}();n.default=r},{"./../../../ISOF-React-modules/components/views/ContributeInfoButton":10,"./../../../ISOF-React-modules/components/views/FeedbackButton":12,"./../../../ISOF-React-modules/components/views/SimpleMap":21,"./../../../scripts/config.js":112,"./../../../scripts/utils/routeHelper":114,"./RecordList":108,react:73,"react-router-dom":63}],107:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=(i(t("underscore")),t("react-router-dom")),u=i(t("./RecordList")),c=i(t("./../../../ISOF-React-modules/components/views/PersonList")),h=i(t("./../../../ISOF-React-modules/components/views/SimpleMap")),f=i(t("./../../../ISOF-React-modules/components/views/ListPlayButton")),d=i(t("./../../../scripts/config.js")),p=i(t("./../../../scripts/utils/routeHelper"));function i(t){return t&&t.__esModule?t:{default:t}}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=k(o);if(a){var r=k(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?w(e):n}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(r,o["default"].Component);var t,e,n,i=b(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=i.call(this,t),window.placeView=w(e),e.state={data:{},placeMarker:{}},e.url=d.default.restApiUrl+"locations/",e}return t=r,(e=[{key:"handleParams",value:function(t){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t);"true"!=t.nordic&&(e.country=d.default.country),d.default.filterParameterName&&d.default.filterParameterValues&&"filter"in t&&("true"==t.filter||1==t.filter?e[d.default.filterParameterName]=d.default.filterParameterValues[1]:e[d.default.filterParameterName]=d.default.filterParameterValues[0]),this.fetchData(e);var n={};t.type&&(n.type=t.type),t.category&&(n.category=t.category),t.place_id&&(n.recordPlace=t.place_id),t.search&&(n.searchQuery=t.search),t.search_field&&(n.searchField=t.search_field),t.record_ids&&(n.record_ids=t.record_ids),t.has_metadata&&(n.has_metadata=t.has_metadata),t.gender&&(n.gender=t.gender),t.person_relation&&(n.person_relation=t.person_relation),t.birth_years&&(n.birth_years=t.birth_years),t.nordic&&(n.nordic=!0),t.recordtype&&(n.recordtype=t.recordtype),t.has_media&&(n.has_media=t.has_media),t.transcriptionstatus&&(n.transcriptionstatus=t.transcriptionstatus),this.setState(n)}},{key:"componentDidMount",value:function(){var t=p.default.createParamsFromPlacesRoute(this.props.location.pathname);this.handleParams(t)}},{key:"fetchData",value:function(t){t.place_id&&fetch(this.url+t.place_id+"/").then(function(t){return t.json()}).then(function(t){this.setState({data:t})}.bind(this)).catch(function(t){console.log("parsing failed",t)})}},{key:"render",value:function(){var t=this.props;this.state.data.informants&&0<this.state.data.informants.length&&this.state.data.informants.map(function(t,e){return o.default.createElement("tr",{key:e},o.default.createElement("td",null,o.default.createElement("a",{href:"#person/"+t.id},t.name)),o.default.createElement("td",null,0<t.birth_year?t.birth_year:""))}.bind(this)),this.state.data.persons&&0<this.state.data.persons.length&&this.state.data.persons.map(function(t,e){return o.default.createElement("tr",{key:e},o.default.createElement("td",null,1==!d.default.siteOptions.disablePersonLinks?1==d.default.siteOptions.disableInformantLinks&&"i"==t.relation?t.name:o.default.createElement("a",{href:"#person/"+t.id},t.name?t.name:""):t.name),o.default.createElement("td",null,0<t.birth_year?t.birth_year:""))}.bind(this)),this.state.data.records&&0<this.state.data.records.length&&this.state.data.records.map(function(t,e){return o.default.createElement("tr",{key:e},o.default.createElement("td",{"data-title":""},o.default.createElement("a",{href:"#records/"+t.id},"inspelning"==t.type&&o.default.createElement(f.default,null),t.title?t.title:"(Untitled)")),o.default.createElement("td",{"data-title":l("Kategori")},t.taxonomy.name),o.default.createElement("td",{"data-title":l("Ort")},t.places&&o.default.createElement("span",null,t.places[0].name+", "+t.places[0].landskap)),o.default.createElement("td",{"data-title":l("År")},0<t.year?t.year:""),o.default.createElement("td",{"data-title":l("Materialtyp")},t.materialtype))}.bind(this));return o.default.createElement("div",{className:"container"+(this.state.data.id?"":" loading")},o.default.createElement("div",{className:"container-header"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"twelve columns"},o.default.createElement("h2",null,this.state.data.name),o.default.createElement("p",null,this.state.data.fylke?o.default.createElement("span",null,o.default.createElement("strong",null,l("Fylke"))," ",this.state.data.fylke):this.state.data.harad?o.default.createElement("span",null,o.default.createElement("strong",null,l("Härad")),": ",this.state.data.harad,", ",o.default.createElement("strong",null,l("Län")),": ",this.state.data.lan,", ",o.default.createElement("strong",null,l("Landskap")),": ",this.state.data.landskap):null)))),!t.hideMap&&o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"twelve columns"},o.default.createElement(h.default,{marker:this.state.data.location&&this.state.data.location.lat&&this.state.data.location.lon?{lat:this.state.data.location.lat,lng:this.state.data.location.lon,label:this.state.data.name}:null}))),o.default.createElement("div",{className:"row search-results-container"},o.default.createElement("div",{className:"twelve columns"},!this.props.showOnlyResults&&o.default.createElement("h3",null,l("Sökträffar")),o.default.createElement(a.Route,{path:"/places/:place_id([0-9]+)",render:function(t){return o.default.createElement(u.default,m({key:"PlaceView-RecordList-".concat(t.location.pathname),disableRouterPagination:!0,highlightRecordsWithMetadataField:t.highlightRecordsWithMetadataField,searchParams:p.default.createParamsFromPlacesRoute(t.location.pathname)},t))}}))),!this.props.showOnlyResults&&o.default.createElement("div",null,this.state.data.records&&0<this.state.data.records.length&&o.default.createElement("hr",null),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"twelve columns"},o.default.createElement("h3",null,"Samtliga ","one_accession_row"===this.props.searchParams.recordtype?"accessioner":"uppteckningar"," från orten"),o.default.createElement(a.Route,{path:"/places/:place_id([0-9]+)",render:function(t){return o.default.createElement(u.default,{disableRouterPagination:!0,highlightRecordsWithMetadataField:t.highlightRecordsWithMetadataField,searchParams:{place_id:p.default.createParamsFromPlacesRoute(t.location.pathname).place_id,recordtype:p.default.createParamsFromPlacesRoute(t.location.pathname).recordtype}})}})))),!d.default.siteOptions.placeView||1==!d.default.siteOptions.placeView.hideInformantPersonList&&o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"twelve columns"},o.default.createElement(c.default,{personType:"informants",title:l("Intervjuade personer"),nordic:this.state.nordic,place:this.state.recordPlace}))))}}])&&_(t.prototype,e),n&&_(t,n),r}();n.default=r},{"./../../../ISOF-React-modules/components/views/ListPlayButton":17,"./../../../ISOF-React-modules/components/views/PersonList":20,"./../../../ISOF-React-modules/components/views/SimpleMap":21,"./../../../scripts/config.js":112,"./../../../scripts/utils/routeHelper":114,"./RecordList":108,react:73,"react-router-dom":63,underscore:94}],108:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./../../../ISOF-React-modules/components/collections/RecordsCollection")),u=i(t("./RecordListItem")),c=i(t("./../../../scripts/config.js")),h=i(t("./../../../scripts/utils/routeHelper"));function i(t){return t&&t.__esModule?t:{default:t}}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=y(o);if(a){var r=y(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?m(e):n}}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(r,o["default"].Component);var t,e,n,i=p(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).state={records:[],fetchingPage:!1,currentPage:1,sort:void 0,order:void 0},e.nextPage=e.nextPage.bind(m(e)),e.prevPage=e.prevPage.bind(m(e)),e.sort=e.sort.bind(m(e)),e.archiveIdClick=e.archiveIdClick.bind(m(e)),e.collections=new a.default(function(t){t.data&&0!=t.data.length||window.eventBus&&window.eventBus.dispatch("popup-notification.notify",null,l("Inga sökträffar")),this.setState({records:t.data,total:t.metadata.total.value||t.metadata.total,totalRelation:t.metadata.total.relation||"eq",fetchingPage:!1});var e="";"eq"!=this.state.totalRelation&&(e="mer än "),this.setState({totalPrefix:e})}.bind(m(e))),e}return t=r,(e=[{key:"componentDidMount",value:function(){this.setState({currentPage:this.props.searchParams.page||1},function(){this.fetchData(this.props.searchParams)}.bind(this))}},{key:"archiveIdClick",value:function(t){var e={search:t.target.dataset.archiveid,recordtype:t.target.dataset.recordtype};this.props.history.push("/places"+h.default.createSearchRoute(e)),window.eventBus.dispatch("routePopup.show")}},{key:"nextPage",value:function(){this.props.disableRouterPagination?this.setState({currentPage:this.state.currentPage+1},function(){this.fetchData(this.props.searchParams)}.bind(this)):this.props.history.push("/places"+h.default.createSearchRoute(this.props.searchParams)+"/page/"+(Number(this.state.currentPage)+1))}},{key:"prevPage",value:function(){this.props.disableRouterPagination?this.setState({currentPage:this.state.currentPage-1},function(){this.fetchData(this.props.searchParams)}.bind(this)):this.props.history.push("/places"+h.default.createSearchRoute(this.props.searchParams)+"/page/"+(Number(this.state.currentPage)-1))}},{key:"sort",value:function(t){this.setState({sort:t.target.name,order:void 0===this.state.order?"asc":this.state.sort===t.target.name&&"asc"===this.state.order?"desc":"asc",currentPage:1},function(){this.fetchData(this.props.searchParams)}.bind(this))}},{key:"fetchData",value:function(t){this.setState({fetchingPage:!0});var e={from:50*(this.state.currentPage-1),size:50,search:t.search||void 0,search_field:t.search_field||void 0,type:t.type,category:t.category&&t.category+"".concat(t.subcategory?","+t.subcategory:""),year_from:t.year_from||void 0,year_to:t.year_to||void 0,gender:t.gender?t.person_relation?t.person_relation+":"+t.gender:t.gender:void 0,birth_years:t.birth_years?t.person_relation?t.person_relation+":"+(t.gender?t.gender+":":"")+t.birth_years:t.birth_years:void 0,record_ids:t.record_ids||void 0,has_metadata:t.has_metadata||void 0,has_media:t.has_media||void 0,recordtype:t.recordtype||void 0,person_id:t.person_id||void 0,socken_id:t.place_id||void 0,transcriptionstatus:t.transcriptionstatus||void 0,sort:this.state.sort||void 0,order:this.state.sort&&this.state.order?this.state.order:void 0};c.default.filterParameterName&&c.default.filterParameterValues&&t&&"filter"in t&&("true"==t.filter||1==t.filter?e[c.default.filterParameterName]=c.default.filterParameterValues[1]:e[c.default.filterParameterName]=c.default.filterParameterValues[0]),this.collections.fetch(e)}},{key:"render",value:function(){var n=h.default.createSearchRoute(this.props.searchParams),t=this.state.records?this.state.records.map(function(t,e){return o.default.createElement(u.default,{key:t._source.id,id:t._source.id,item:t,routeParams:n,highlightRecordsWithMetadataField:this.props.highlightRecordsWithMetadataField,searchParams:this.props.searchParams,archiveIdClick:this.archiveIdClick})}.bind(this)):[];return this.state.records?o.default.createElement("div",{className:"table-wrapper records-list list-container"+(0==this.state.records.length?" loading":this.state.fetchingPage?" loading-page":"")},50<this.state.total&&o.default.createElement("div",{className:""},o.default.createElement("strong",null,l("Visar")+" "+(50*this.state.currentPage-49)+"-"+(50*this.state.currentPage>this.state.total?this.state.total:50*this.state.currentPage)+" "+l("av")+l(this.state.totalPrefix)+" "+this.state.total)),o.default.createElement("table",{width:"100%",className:"table-responsive"},o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{scope:"col"},o.default.createElement("a",{className:"sort",onClick:this.sort,name:"title.raw"},"title.raw"===this.state.sort&&("asc"===this.state.order?"▼":"▲"),l("Titel"))),!c.default.siteOptions.recordList||1==!c.default.siteOptions.recordList.hideAccessionpage&&o.default.createElement("th",{scope:"col"},l("Arkivnummer")),!c.default.siteOptions.recordList||1==!c.default.siteOptions.recordList.hideCategories&&"one_accession_row"!==this.props.searchParams.recordtype&&o.default.createElement("th",{scope:"col"},o.default.createElement("a",{className:"sort",onClick:this.sort,name:"taxonomy.category"},"taxonomy.category"===this.state.sort&&("asc"===this.state.order?"▼":"▲"),l("Kategori"))),o.default.createElement("th",{scope:"col"},l("Ort")),!c.default.siteOptions.recordList||!c.default.siteOptions.recordList.visibleCollecorPersons||1==c.default.siteOptions.recordList.visibleCollecorPersons&&o.default.createElement("th",{scope:"col"},l("Insamlare")),o.default.createElement("th",{scope:"col"},o.default.createElement("a",{className:"sort",onClick:this.sort,name:"year"},"year"===this.state.sort&&("asc"===this.state.order?"▼":"▲"),l("År"))),!c.default.siteOptions.recordList||1==!c.default.siteOptions.recordList.hideMaterialType&&o.default.createElement("th",{scope:"col"},l("Materialtyp")),!c.default.siteOptions.recordList||1==!c.default.siteOptions.recordList.hideTranscriptionStatus&&o.default.createElement("th",{scope:"col"},o.default.createElement("a",{className:"sort",onClick:this.sort,name:"transcriptionstatus.keyword"},"transcriptionstatus.keyword"===this.state.sort&&("asc"===this.state.order?"▼":"▲"),l("Avskriven"))))),o.default.createElement("tbody",null,t)),50<this.state.total&&o.default.createElement("div",{className:"list-pagination"},o.default.createElement("hr",null),o.default.createElement("p",{className:"page-info"},o.default.createElement("strong",null,l("Visar")+" "+(50*this.state.currentPage-49)+"-"+(50*this.state.currentPage>this.state.total?this.state.total:50*this.state.currentPage)+" "+l("av")+l(this.state.totalPrefix)+" "+this.state.total)),o.default.createElement("br",null),o.default.createElement("button",{disabled:1==this.state.currentPage,className:"button prev-button",onClick:this.prevPage},l("Föregående")),o.default.createElement("span",null," "),o.default.createElement("button",{disabled:this.state.total<=50*this.state.currentPage,className:"button next-button",onClick:this.nextPage},l("Nästa")))):o.default.createElement("div",{className:"table-wrapper list-container"},o.default.createElement("h3",null,l("Inga sökträffar")))}}])&&f(t.prototype,e),n&&f(t,n),r}();n.default=r},{"./../../../ISOF-React-modules/components/collections/RecordsCollection":2,"./../../../scripts/config.js":112,"./../../../scripts/utils/routeHelper":114,"./RecordListItem":109,react:73}],109:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=i(t("react")),p=i(t("./../../../ISOF-React-modules/components/views/ListPlayButton")),m=i(t("underscore")),y=i(t("./../../../scripts/config.js")),v=i(t("./../../../scripts/utils/routeHelper"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=c(o);if(a){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(r,d["default"].Component);var t,e,n,i=u(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),i.apply(this,arguments)}return t=r,(e=[{key:"renderFieldArchiveId",value:function(){return"one_accession_row"==this.props.item._source.recordtype?"one_accession_row"==this.props.item._source.recordtype&&this.props.item._source.numberofonerecord&&0<this.props.item._source.numberofonerecord?d.default.createElement("td",{className:"table-buttons","data-title":l("Arkivnummer")+":"},d.default.createElement("a",{"data-archiveid":this.props.item._source.archive.archive_id,"data-recordtype":"one_accession_row"===this.props.searchParams.recordtype?"one_record":"one_accession_row",onClick:this.props.archiveIdClick,title:"Gå till ".concat("one_accession_row"===this.props.searchParams.recordtype?"uppteckningarna":"accessionerna"," (").concat(this.props.item._source.numberofonerecord," stycken)"),style:{cursor:"pointer"}},this.props.item._source.archive.archive_id),this.props.item._source.archive.page&&":"+this.props.item._source.archive.page):d.default.createElement("td",{className:"table-text","data-title":l("Arkivnummer")+":"},this.props.item._source.archive.archive_id,this.props.item._source.archive.page&&":"+this.props.item._source.archive.page):(this.props.item._source.recordtype,d.default.createElement("td",{className:"table-buttons","data-title":l("Arkivnummer")+":"},d.default.createElement("a",{"data-archiveid":this.props.item._source.archive.archive_id,"data-recordtype":"one_accession_row"===this.props.searchParams.recordtype?"one_record":"one_accession_row",onClick:this.props.archiveIdClick,title:"Gå till ".concat("one_accession_row"===this.props.searchParams.recordtype?"uppteckningarna":"accessionerna"),style:{cursor:"pointer"}},this.props.item._source.archive.archive_id),this.props.item._source.archive.page&&":"+this.props.item._source.archive.page))}},{key:"render",value:function(){if(y.default.siteOptions.recordList&&y.default.siteOptions.recordList.displayPlayButton)var t=m.default.find(this.props.item._source.media,function(t){return"audio"==t.type});var e,n,i=!1;if(this.props.highlightRecordsWithMetadataField&&m.default.findWhere(this.props.item._source.metadata,{type:this.props.highlightRecordsWithMetadataField})){i=!0;var r=this.props.item._source.text?300<this.props.item._source.text.length?this.props.item._source.text.substr(0,300)+"...":this.props.item._source.text:""}if(this.props.item._source.taxonomy){if(y.default.siteOptions.recordList&&y.default.siteOptions.recordList.visibleCategories)var o=y.default.siteOptions.recordList.visibleCategories;if(this.props.item._source.taxonomy.name)o?-1<o.indexOf(this.props.item._source.taxonomy.type.toLowerCase())&&(e=d.default.createElement("a",{href:"#/places/category/"+this.props.item._source.taxonomy.category.toLowerCase()+(this.props.routeParams?this.props.routeParams.replace(/category\/[^/]+/g,""):"")},l(this.props.item._source.taxonomy.name))):e=d.default.createElement("a",{href:"#/places/category/"+this.props.item._source.taxonomy.category.toLowerCase()+(this.props.routeParams?this.props.routeParams.replace(/category\/[^/]+/g,""):"")},l(this.props.item._source.taxonomy.name));else if(0<this.props.item._source.taxonomy.length&&(!y.default.siteOptions.recordList||1==!y.default.siteOptions.recordList.hideCategories)){var a=this.props;e=m.default.compact(m.default.map(a.item._source.taxonomy,function(t,e){if(t.category){var n="#/places"+v.default.createSearchRoute({category:t.category.toLowerCase(),recordtype:a.searchParams.recordtype});if(!o)return d.default.createElement("a",{href:n},l(t.name));if(-1<o.indexOf(t.type.toLowerCase()))return d.default.createElement("a",{href:n,key:"record-list-item-".concat(a.id,"-").concat(e)},l(t.name))}}))}}if(this.props.item._source.persons&&y.default.siteOptions.recordList&&1==y.default.siteOptions.recordList.visibleCollecorPersons&&0<this.props.item._source.persons.length){var s=this.props;n=m.default.compact(m.default.map(s.item._source.persons,function(t,e){if("c"!=t.relation)return"";var n="";s.routeParams&&(n=s.routeParams);var i="#/person/"+t.id.toLowerCase()+n;return d.default.createElement("a",{href:i,key:"record-list-item-".concat(s.id,"-").concat(e)},l(t.name))}))}var u,c="";this.props.item._source.transcriptionstatus&&(c=(u=this.props.item._source.transcriptionstatus).replace(u,{untranscribed:"",readytotranscribe:"Nej",undertranscription:"Skrivs av",transcribed:"Granskas",reviewing:"Granskas",approved:"Granskas",published:"Ja"}[u]));var h=this.props.item._source.title;"Granskas"==c&&(h="Titel granskas");var f=(y.default.embeddedApp?window.applicationSettings&&window.applicationSettings.landingPage?window.applicationSettings.landingPage:y.default.siteUrl:"")+"#records/"+this.props.id+v.default.createSearchRoute(this.props.searchParams);return d.default.createElement("tr",{className:"list-item"+(i?" highlighted":"")},d.default.createElement("td",{className:"text-larger"},d.default.createElement("a",{className:"item-title",target:y.default.embeddedApp?"_parent":"_self",href:f},y.default.siteOptions.recordList&&y.default.siteOptions.recordList.displayPlayButton&&null!=t&&d.default.createElement(p.default,{disablePlayback:!0,media:t,recordId:this.props.item._source.id,recordTitle:this.props.item._source.title&&""!=this.props.item._source.title?this.props.item._source.title:l("(Utan titel)")}),h&&""!=h?h:l("(Utan titel)"),this.props.item._source.media&&this.props.item._source.media.filter(function(t){return t.source&&t.source.includes(".pdf")})[0]&&d.default.createElement("sub",null,d.default.createElement("img",{src:"img/pdf.gif",style:{marginLeft:5}}))),i&&d.default.createElement("div",{className:"item-summary"},r)),!y.default.siteOptions.recordList||1==!y.default.siteOptions.recordList.hideAccessionpage&&this.renderFieldArchiveId(),!y.default.siteOptions.recordList||1==!y.default.siteOptions.recordList.hideCategories&&"one_accession_row"!==this.props.searchParams.recordtype&&d.default.createElement("td",{className:"table-buttons","data-title":l("Kategori")+":"},e),d.default.createElement("td",{className:"table-buttons","data-title":l("Ort")+":"},this.props.item._source.places&&0<this.props.item._source.places.length&&d.default.createElement("a",{target:y.default.embeddedApp?"_parent":"_self",href:(y.default.embeddedApp?window.applicationSettings&&window.applicationSettings.landingPage?window.applicationSettings.landingPage:y.default.siteUrl:"")+"#places/"+this.props.item._source.places[0].id+v.default.createSearchRoute({recordtype:this.props.searchParams.recordtype})},this.props.item._source.places[0].name+(this.props.item._source.places[0].landskap||this.props.item._source.places[0].fylke?this.props.item._source.places[0].landskap?", "+this.props.item._source.places[0].landskap:this.props.item._source.places[0].fylke?", "+this.props.item._source.places[0].fylke:"":""))),!y.default.siteOptions.recordList||1==y.default.siteOptions.recordList.visibleCollecorPersons&&d.default.createElement("td",{className:"table-buttons","data-title":l("Insamlare")+":"},n),d.default.createElement("td",{className:"table-text","data-title":l("År")+":"},this.props.item._source.year?this.props.item._source.year.split("-")[0]:""),!y.default.siteOptions.recordList||1==!y.default.siteOptions.recordList.hideMaterialType&&d.default.createElement("td",{"data-title":l("Materialtyp")+":"},this.props.item._source.materialtype),d.default.createElement("td",{"data-title":l("Avskriftstatus")+":"},c))}}])&&o(t.prototype,e),n&&o(t,n),r}();n.default=r},{"./../../../ISOF-React-modules/components/views/ListPlayButton":17,"./../../../scripts/config.js":112,"./../../../scripts/utils/routeHelper":114,react:73,underscore:94}],110:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("react")),a=i(t("./RecordList")),u=(i(t("./../../../ISOF-React-modules/utils/windowScroll")),i(t("./../../../scripts/utils/routeHelper")));function i(t){return t&&t.__esModule?t:{default:t}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=m(o);if(a){var r=m(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?p(e):n}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(r,o["default"].Component);var t,e,n,i=d(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this,t)).languageChangedHandler=e.languageChangedHandler.bind(p(e)),e}return t=r,(e=[{key:"languageChangedHandler",value:function(){this.forceUpdate()}},{key:"componentDidMount",value:function(){window.eventBus&&window.eventBus.addEventListener("Lang.setCurrentLang",this.languageChangedHandler)}},{key:"componentWillUnmount",value:function(){window.eventBus&&window.eventBus.removeEventListener("Lang.setCurrentLang",this.languageChangedHandler)}},{key:"render",value:function(){var t=this.props;return o.default.createElement("div",{className:"container"},o.default.createElement("div",{className:"container-header"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"twelve columns"},o.default.createElement("h2",null,l("Sökträffar som lista")," – ","one_accession_row"===this.props.searchParams.recordtype?"Accessioner":"Uppteckningar")))),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"records-list-wrapper"},o.default.createElement(a.default,c({key:"RecordListWrapper-RecordList-".concat(this.props.location.pathname),searchParams:u.default.createParamsFromPlacesRoute(this.props.location.pathname),highlightRecordsWithMetadataField:this.props.highlightRecordsWithMetadataField},t)))))}}])&&h(t.prototype,e),n&&h(t,n),r}();n.default=r},{"./../../../ISOF-React-modules/utils/windowScroll":33,"./../../../scripts/utils/routeHelper":114,"./RecordList":108,react:73}],111:[function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var x=i(t("react")),P=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=i?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}n.default=t,e&&e.set(t,n);return n}(t("underscore")),E=i(t("./../../../scripts/config.js")),o=i(t("./../../../ISOF-React-modules/utils/localLibrary")),M=i(t("./../../../ISOF-React-modules/components/controls/ShareButtons")),S=i(t("./../../../ISOF-React-modules/components/views/SimpleMap")),C=i(t("./../../../ISOF-React-modules/components/views/ListPlayButton")),O=i(t("./../../../ISOF-React-modules/components/views/ContributeInfoButton")),L=i(t("./../../../ISOF-React-modules/components/views/FeedbackButton")),T=i(t("./../../../ISOF-React-modules/components/views/TranscribeButton")),j=i(t("./../../../ISOF-React-modules/components/controls/ElementNotificationMessage")),R=i(t("./../../../ISOF-React-modules/components/controls/SitevisionContent")),I=i(t("./../../../ISOF-React-modules/components/controls/PdfViewer")),N=i(t("./../../../scripts/utils/routeHelper"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function i(t){return t&&t.__esModule?t:{default:t}}function A(){return(A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i=d(o);if(a){var r=d(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?f(e):n}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,x["default"].Component);var t,e,n,i=h(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=i.call(this,t),window.config=E.default,window.recordView=f(e),e.toggleSaveRecord=e.toggleSaveRecord.bind(f(e)),e.mediaImageClickHandler=e.mediaImageClickHandler.bind(f(e)),e.state={data:{},saved:!1},e.url=E.default.apiUrl+"document/",e}return t=r,(e=[{key:"componentDidMount",value:function(){this.fetchData(N.default.createParamsFromRecordRoute(this.props.location.pathname))}},{key:"componentWillUnmount",value:function(){window.eventBus&&window.eventBus.dispatch("overlay.hide")}},{key:"toggleSaveRecord",value:function(){var t={id:this.state.data.id,title:this.state.data.title,place:this.state.data.places&&0<this.state.data.places.length?this.state.data.places[0].name:null};o.default.find(t)?(o.default.remove(t),this.setState({saved:!1})):(o.default.add(t),this.setState({saved:!0}),window.eventBus&&window.eventBus.dispatch("popup-notification.notify",null,"<strong>"+this.state.data.title+"</strong> "+l("har sparats till dina sägner")+"."))}},{key:"mediaImageClickHandler",value:function(t){window.eventBus&&window.eventBus.dispatch("overlay.viewimage",{imageUrl:t.currentTarget.dataset.image,type:t.currentTarget.dataset.type})}},{key:"fetchData",value:function(t){var e="";"requiredParams"in E.default&&"index"in E.default.requiredParams&&(e="?index="+E.default.requiredParams.index),t.record_id&&fetch(this.url+t.record_id+"/"+e).then(function(t){return t.json()}).then(function(t){this.setState({data:t._source,saved:o.default.find({id:t._id})})}.bind(this)).catch(function(t){console.log("parsing failed",t)})}},{key:"getArchiveLogo",value:function(t){var e={"Dialekt-, namn- och folkminnesarkivet i Göteborg":"img/archive-logo-isof.png","Dialekt- och folkminnesarkivet i Uppsala":"img/archive-logo-isof.png","Dialekt och folkminnesarkivet i Uppsala":"img/archive-logo-isof.png",DAG:"img/archive-logo-isof.png","Norsk folkeminnesamling":"img/archive-logo-ikos.png",NFS:"img/archive-logo-ikos.png",DFU:"img/archive-logo-isof.png",SLS:"img/SLS-logga.svg","Svenska litteratursällskapet i Finland (SLS)":"img/SLS-logga.svg"};return e[t]?E.default.appUrl+e[t]:E.default.appUrl+e.DAG}},{key:"render",value:function(){var t=[],e=[],n=[],i=N.default.createSearchRoute(N.default.createParamsFromRecordRoute(this.props.location.pathname));if(this.state.data){if(this.state.data.media&&0<this.state.data.media.length)t=P.default.filter(this.state.data.media,function(t){return"image"==t.type}).map(function(t,e){if(-1==t.source.indexOf(".pdf"))return x.default.createElement("div",{"data-type":"image","data-image":t.source,onClick:this.mediaImageClickHandler,key:"image-"+e,className:"archive-image"},x.default.createElement("img",{src:E.default.imageUrl+t.source,alt:""}),t.title&&x.default.createElement("div",{className:"media-title sv-portlet-image-caption"},t.title))}.bind(this)),n=P.default.filter(this.state.data.media,function(t){return"audio"==t.type}).map(function(t,e){return x.default.createElement("tr",{key:e},x.default.createElement("td",{"data-title":"Lyssna:",width:"50px"},x.default.createElement(C.default,{media:t,recordId:this.state.data.id,recordTitle:this.state.data.title})),x.default.createElement("td",null,0<t.title.length?t.title:this.state.data.title))}.bind(this)),e=P.default.filter(this.state.data.media,function(t){return"pdf"==t.type}).map(function(t,e){return x.default.createElement("div",{"data-type":"pdf","data-image":t.source,onClick:this.mediaImageClickHandler,key:"pdf-"+e,className:"archive-image pdf"},x.default.createElement("div",{className:"pdf-icon"}),t.title&&x.default.createElement("div",{className:"media-title sv-portlet-image-caption"},t.title))}.bind(this)),E.default.siteOptions.recordView&&E.default.siteOptions.recordView.imagePosition==E.default.siteOptions.recordView.pdfIconsPosition&&(t=t.concat(e),e=[]);var r,o,a=this.state.data.persons&&0<this.state.data.persons.length?this.state.data.persons.map(function(t,e){return x.default.createElement("tr",{key:e},x.default.createElement("td",{"data-title":""},1==!E.default.siteOptions.disablePersonLinks?1==E.default.siteOptions.disableInformantLinks&&"i"==t.relation?t.name:x.default.createElement("a",{href:"#person/"+t.id+(i||"")},t.name?t.name:""):t.name),x.default.createElement("td",{"data-title":"Födelseår"},t.birth_year&&0<t.birth_year?t.birth_year:""),x.default.createElement("td",{"data-title":"Födelseort"},t.home&&0<t.home.length&&x.default.createElement("a",{href:"#places/"+t.home[0].id+(i||"")},t.home[0].name+", "+t.home[0].harad)),x.default.createElement("td",{"data-title":"Roll"},"c"==t.relation?l("Upptecknare"):"i"==t.relation?l("Informant"):""))}):[],s=this.state.data.places&&0<this.state.data.places.length?this.state.data.places.map(function(t,e){return x.default.createElement("tr",{key:e},x.default.createElement("td",null,x.default.createElement("a",{href:"#places/"+t.id+(i||"")},t.name+", "+(t.fylke?t.fylke:t.harad))))}):[],u=!1,c=P.default.find(this.state.data.metadata,function(t){return"sitevision_url"==t.type});if(c)r=x.default.createElement(R.default,{url:c.value});else if("readytotranscribe"==this.state.data.transcriptionstatus&&0<this.state.data.media.length)r=x.default.createElement("div",null,x.default.createElement("p",null,x.default.createElement("strong",null,l("Den här uppteckningen är inte avskriven.")),x.default.createElement("br",null),x.default.createElement("br",null),l("Vill du vara med och tillgängliggöra samlingarna för fler? Hjälp oss att skriva av berättelser!")),x.default.createElement(T.default,{className:"button-primary",label:l("Skriv av"),title:this.state.data.title,recordId:this.state.data.id,images:this.state.data.media}));else{var h,f=void 0;1==P.default.filter(this.state.data.media,function(t){return"pdf"==t.type}).length&&0==P.default.filter(this.state.data.media,function(t){return"image"==t.type}).length&&0==P.default.filter(this.state.data.media,function(t){return"audio"==t.type}).length&&(f=P.default.find(this.state.data.media,function(t){return"pdf"==t.type}),u=!0);var d=this.state.data.text;if(d&&d.includes("<p>Uppslagsord:</p>")){var p=d.split("<p>Uppslagsord:</p>");d=p[0]+'<p><label for="toggle">Uppslagsord</label></p><input type="checkbox" id="toggle" class="visually-hidden"/ ><div class="realkatalog-content">'+p[1]+"</div>"}h=f?x.default.createElement(I.default,{height:"800",url:(E.default.pdfUrl||E.default.imageUrl)+f.source}):x.default.createElement("div",null),r=x.default.createElement("div",null,x.default.createElement("div",{className:"record-text",dangerouslySetInnerHTML:{__html:d}}),h)}this.state.data.taxonomy&&(this.state.data.taxonomy.name?o=x.default.createElement("p",null,x.default.createElement("strong",null,l("Kategori")),x.default.createElement("br",null),x.default.createElement("a",{href:"#/places/category/"+this.state.data.taxonomy.category.toLowerCase()+(i||"")},l(this.state.data.taxonomy.name))):0<this.state.data.taxonomy.length&&(o=x.default.createElement("p",null,x.default.createElement("strong",null,l("Kategori")),x.default.createElement("br",null),x.default.createElement("span",{dangerouslySetInnerHTML:{__html:P.default.map(P.default.filter(this.state.data.taxonomy,function(t){return t.category}),function(t){return'<a href="#/places/category/'+t.category.toLowerCase()+(i||"")+'">'+l(t.name)+"</a>"}).join(", ")}}))));var m="unknown";"archive"in this.state.data&&"country"in this.state.data.archive&&(m=this.state.data.archive.country);var y=[];if(this.state.data.metadata&&0<this.state.data.metadata.length&&E.default.siteOptions.recordView&&E.default.siteOptions.recordView.visible_metadata_fields&&0<E.default.siteOptions.recordView.visible_metadata_fields.length){var v=0;P.default.each(this.state.data.metadata,function(t,e){var n;-1<E.default.siteOptions.recordView.visible_metadata_fields.indexOf(t.type)&&(v++,y.push(x.default.createElement("div",{className:"grid-item",key:t.type},x.default.createElement("p",null,x.default.createElement("strong",null,(n=t.type,E.default.siteOptions.metadataLabels&&E.default.siteOptions.metadataLabels[n]?E.default.siteOptions.metadataLabels[n]:n)),x.default.createElement("br",null),t.value))),v%3==0&&y.push(x.default.createElement("div",{className:"grid-divider-3 u-cf",key:"cf-"+e})),v%2==0&&y.push(x.default.createElement("div",{className:"grid-divider-2 u-cf",key:"cf-"+e})))})}var _="";if("archive"in this.state.data&&"page"in this.state.data.archive&&(_=this.state.data.archive.page)&&-1==_.indexOf("-")&&this.state.data.archive.total_pages){"string"==typeof _&&(_=_.replace(/\D/g,""),_=parseInt(_));var g=parseInt(this.state.data.archive.total_pages);if(1<g){var b=_;b=b+g-1,_=_.toString()+"-"+b.toString()}}var w=this.state.data.title,k=this.state.data.transcriptionstatus;return"transcribed"!=k&&"reviewing"!=k&&"approved"!=k||(w="Titel granskas"),x.default.createElement("div",{className:"container"+(this.state.data.id?"":" loading")},x.default.createElement("div",{className:"container-header"},x.default.createElement("div",{className:"row"},x.default.createElement("div",{className:"twelve columns"},x.default.createElement("h2",null,w&&""!=w?w:l("(Utan titel)")," ",x.default.createElement(j.default,{placement:"under",placementOffsetX:"-1",messageId:"saveLegendsNotification",forgetAfterClick:!0,closeTrigger:"click",autoHide:!0,message:l("Klicka på stjärnan för att spara sägner till din egen lista.")},x.default.createElement("button",{className:"save-button"+(this.state.saved?" saved":""),onClick:this.toggleSaveRecord},x.default.createElement("span",null,l("Spara"))))),(!E.default.siteOptions.recordView||!E.default.siteOptions.recordView.hideMaterialType)&&x.default.createElement("p",null,x.default.createElement("strong",null,"Materialtyp"),": ",this.state.data.materialtype))),!E.default.siteOptions.hideContactButton&&x.default.createElement(L.default,A({title:this.state.data.title,type:"Uppteckning",country:m},this.props)),!E.default.siteOptions.hideContactButton&&x.default.createElement(O.default,A({title:this.state.data.title,type:"Uppteckning",country:m,id:this.state.data.id},this.props))),x.default.createElement("div",{className:"row"},(this.state.data.text||r)&&x.default.createElement("div",{className:(c||0==t.length||u||E.default.siteOptions.recordView&&"under"==E.default.siteOptions.recordView.audioPlayerPosition&&E.default.siteOptions.recordView&&"under"==E.default.siteOptions.recordView.imagePosition&&E.default.siteOptions.recordView&&"under"==E.default.siteOptions.recordView.pdfIconsPosition?"twelve":"eight")+" columns"},r,this.state.data.comment&&""!=this.state.data.comment&&x.default.createElement("p",{className:"text-small"},x.default.createElement("strong",null,l("Kommentarer")+":"),x.default.createElement("br",null),x.default.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.data.comment}})),this.state.data.source&&"tryckt"==this.state.data.materialtype&&x.default.createElement("p",{className:"text-small"},x.default.createElement("strong",null,l("Tryckt källa")+": "),x.default.createElement("em",null,this.state.data.source)),0<n.length&&(c||u||E.default.siteOptions.recordView&&"under"==E.default.siteOptions.recordView.audioPlayerPosition)&&x.default.createElement("div",{className:"table-wrapper"},x.default.createElement("table",{width:"100%"},x.default.createElement("tbody",null,n))),0<t.length&&(c||u||E.default.siteOptions.recordView&&"under"==E.default.siteOptions.recordView.imagePosition)&&x.default.createElement("div",null,t),0<e.length&&(c||u||E.default.siteOptions.recordView&&"under"==E.default.siteOptions.recordView.pdfIconsPosition)&&x.default.createElement("div",null,e)),!c&&!u&&(!E.default.siteOptions.recordView||!E.default.siteOptions.recordView.imagePosition||"right"==E.default.siteOptions.recordView.imagePosition||!E.default.siteOptions.recordView.pdfIconsPosition||"right"==E.default.siteOptions.recordView.pdfIconsPosition||!E.default.siteOptions.recordView.audioPlayerPosition||"right"==E.default.siteOptions.recordView.audioPlayerPosition)&&(0<t.length||0<n.length||0<e.length)&&x.default.createElement("div",{className:"columns four u-pull-right"},(!E.default.siteOptions.recordView||!E.default.siteOptions.recordView.audioPlayerPosition||"right"==E.default.siteOptions.recordView.audioPlayerPosition)&&0<n.length&&x.default.createElement("div",{className:"table-wrapper"},x.default.createElement("table",{width:"100%"},x.default.createElement("tbody",null,n))),(!E.default.siteOptions.recordView||!E.default.siteOptions.recordView.imagePosition||"right"==E.default.siteOptions.recordView.imagePosition)&&0<t.length&&t,(!E.default.siteOptions.recordView||!E.default.siteOptions.recordView.pdfIconsPosition||"right"==E.default.siteOptions.recordView.pdfIconsPosition)&&0<e.length&&e)),0<y.length&&x.default.createElement("div",{className:"grid-items"},y,x.default.createElement("div",{className:"u-cf"})),x.default.createElement("div",{className:"row"},x.default.createElement("div",{className:"six columns"},x.default.createElement(M.default,{path:E.default.siteUrl+"#/records/"+this.state.data.id,text:'"'+this.state.data.title+'"',title:l("Kopiera länk")})),E.default.siteOptions&&E.default.siteOptions.copyrightContent&&this.state.data.copyrightlicense&&x.default.createElement("div",{className:"six columns"},x.default.createElement("div",{className:"copyright",dangerouslySetInnerHTML:{__html:E.default.siteOptions.copyrightContent[this.state.data.copyrightlicense]}}))),x.default.createElement("hr",null),0<a.length&&x.default.createElement("div",{className:"row"},x.default.createElement("div",{className:"twelve columns"},x.default.createElement("h3",null,l("Personer")),x.default.createElement("div",{className:"table-wrapper"},x.default.createElement("table",{width:"100%",className:"table-responsive"},x.default.createElement("thead",null,x.default.createElement("tr",null,x.default.createElement("th",null,l("Namn")),x.default.createElement("th",null,l("Födelseår")),x.default.createElement("th",null,l("Födelseort")),x.default.createElement("th",null,l("Roll")))),x.default.createElement("tbody",null,a))))),0<a.length&&0<s.length&&x.default.createElement("hr",null),0<s.length&&x.default.createElement("div",{className:"row"},x.default.createElement("div",{className:"six columns"},x.default.createElement("h3",null,l("Platser")),x.default.createElement("div",{className:"table-wrapper"},x.default.createElement("table",{width:"100%"},x.default.createElement("thead",null,x.default.createElement("tr",null,x.default.createElement("th",null,l("Namn")))),x.default.createElement("tbody",null,s)))),x.default.createElement("div",{className:"six columns"},this.state.data.places&&0<this.state.data.places.length&&this.state.data.places[0].location.lat&&this.state.data.places[0].location.lon&&x.default.createElement(S.default,{markers:this.state.data.places}))),x.default.createElement("hr",null),x.default.createElement("div",{className:"row"},x.default.createElement("div",{className:"four columns"},this.state.data.archive&&this.state.data.archive.archive&&x.default.createElement("p",null,x.default.createElement("strong",null,l("Arkiv")),x.default.createElement("br",null),this.state.data.archive.archive),this.state.data.archive&&this.state.data.archive.archive&&x.default.createElement("p",null,x.default.createElement("strong",null,l("Acc. nr")),x.default.createElement("br",null),this.state.data.archive.archive_id),this.state.data.archive&&this.state.data.archive.archive&&x.default.createElement("p",null,x.default.createElement("strong",null,l("Sid. nr")),x.default.createElement("br",null),_)),x.default.createElement("div",{className:"four columns"},this.state.data.materialtype&&x.default.createElement("p",null,x.default.createElement("strong",null,l("Materialtyp")),x.default.createElement("br",null),this.state.data.materialtype?this.state.data.materialtype.charAt(0).toUpperCase()+this.state.data.materialtype.slice(1):""),o),x.default.createElement("div",{className:"four columns"},this.state.data.year&&x.default.createElement("p",null,x.default.createElement("strong",null,l("År")),x.default.createElement("br",null),this.state.data.year.substring(0,4)),this.state.data.source&&x.default.createElement("p",null,x.default.createElement("strong",null,l("Tryckt källa")),x.default.createElement("br",null),this.state.data.source),this.state.data.archive&&this.state.data.archive.archive&&x.default.createElement("p",null,x.default.createElement("img",{src:this.getArchiveLogo(this.state.data.archive.archive),style:{width:"100%"}})))))}return x.default.createElement("div",{className:"container"},x.default.createElement("div",{className:"container-header"},x.default.createElement("div",{className:"row"},x.default.createElement("div",{className:"twelve columns"},x.default.createElement("h2",null,l("Finns inte"))))),x.default.createElement("div",{className:"row"},x.default.createElement("p",null,"Post "+this.props.match.params.record_id+" finns inte.")))}}])&&u(t.prototype,e),n&&u(t,n),r}();n.default=r},{"./../../../ISOF-React-modules/components/controls/ElementNotificationMessage":4,"./../../../ISOF-React-modules/components/controls/PdfViewer":5,"./../../../ISOF-React-modules/components/controls/ShareButtons":8,"./../../../ISOF-React-modules/components/controls/SitevisionContent":9,"./../../../ISOF-React-modules/components/views/ContributeInfoButton":10,"./../../../ISOF-React-modules/components/views/FeedbackButton":12,"./../../../ISOF-React-modules/components/views/ListPlayButton":17,"./../../../ISOF-React-modules/components/views/SimpleMap":21,"./../../../ISOF-React-modules/components/views/TranscribeButton":22,"./../../../ISOF-React-modules/utils/localLibrary":30,"./../../../scripts/config.js":112,"./../../../scripts/utils/routeHelper":114,react:73,underscore:94}],112:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={localLibraryName:"publikutforska_library",requiredParams:{mark_metadata:"transcriptionstatus",categorytypes:"tradark"},siteOptions:{placeView:{hideInformantPersonList:!0},recordList:{hideMaterialType:!0,visibleCategories:["tradark"],visibleCollecorPersons:!0},disableInformantLinks:!0,feedbackText:"Har du frågor eller synpunkter på hur applikationen fungerar? Har du hittat fel, till exempel i avskrifterna? Kontakta oss gärna!",contributeInfoText:"Känner du till någon av personerna som nämns: en upptecknare, någon som intervjuats eller som nämns i en berättelse? Vid 1900-talets början var arkiven framför allt intresserade av berättelserna, inte berättarna. Därför vet vi idag ganska lite om människorna i arkiven. Kontakta oss gärna nedan om du har information om eller fotografier på någon av personerna som nämns på uppteckningen! \t\t\t\t\tVill du vara med och bevara minnen och berättelser från vår tid till framtiden? På Institutets webbplats publiceras regelbundet frågelistor om olika ämnen. ",helpText:"Här kan du läsa mer om hur du använder applikationen: Här kan du läsa mer om hur du bidrar genom att t.ex. skriva av uppteckningar: ",copyrightContent:{"https://creativecommons.org/licenses/by-nd/2.5/se/":'<a rel="license" target="_blank" href="https://creativecommons.org/licenses/by-nd/2.5/se/"><img alt="Creative Commons-licens" style="border-width:0" src="https://i.creativecommons.org/l/by-nd/2.5/se/88x31.png" /></a><br />Detta verk är licensierat under en <a rel="license" target="_blank" href="https://creativecommons.org/licenses/by-nd/2.5/se/">Creative Commons Erkännande-IngaBearbetningar 2.5 Sverige Licens</a>.',"https://creativecommons.org/licenses/by/2.5/se/":'<a rel="license" target="_blank" href="https://creativecommons.org/licenses/by/2.5/se/"><img alt="Creative Commons-licens" style="border-width:0" src="https://i.creativecommons.org/l/by/2.5/se/88x31.png" /></a><br />Detta verk är licensierat under en <a rel="license" target="_blank" href="https://creativecommons.org/licenses/by/2.5/se/">Creative Commons Erkännande 2.5 Sverige Licens</a>.'}},country:"sweden",startPageUrl:"https://www.isof.se/om-oss/kartor/sagenkartan/om-sagenkartan---kort.html",imageUrl:"https://www4.isof.se/Folkminnen/Svenska_sagor_filer/",pdfUrl:"https://frigg-test.isof.se/sagendatabas/api/filemaker_proxy/publik/",personImageUrl:"https://frigg.isof.se/media/",audioUrl:"https://www4.isof.se/Folkminnen/Svenska_sagor_filer/inspelningar/",appUrl:"https://frigg.isof.se/static/js-apps/publikutforska/",siteUrl:"https://www.isof.se/om-oss/kartor/publikutforska.html",apiUrl:"https://frigg-test.isof.se/sagendatabas/api/es/",restApiUrl:"https://frigg-test.isof.se/sagendatabas/api/"}},{}],113:[function(t,e,n){"use strict";var i;function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={sv:{Fylke:" ",untranscribed:"Ej transkribera",readytotranscribe:"Nej",undertranscription:"Skrivs av",transcribed:"Granskas",reviewing:"Granskas",approved:"Granskas",published:"Ja"},no:(r(i={Karta:"Kart","Mina sägner":"Mine sagn","Visa sökträffar som lista":"Vis søketreff som liste","Sökträffar som lista":"Søketreff som liste","Inga sökträffar":"Ingen treff","Sökträffar":"Treff","Sök":"Søk","Stäng":"Lukk",Ort:"Kommune, fylke","Klicka här för att inte visa den rutan igen.":"Klikk her for ikke å vise dette vinduet igjen","Norska sägner":"Norske sagn","Nordiska sägner":"Nordiske sagn","Innehåll":"Innhold",Person:"Person"},"Ort","Sted"),r(i,"Avancerad sökning","Avansert søk"),r(i,"Avgränsa till kategorier","Begrens til kategorier"),r(i,"Upptecknare","Samler"),r(i,"Meddelare","Meddeler"),r(i,"Kön","Kjønn"),r(i,"Båda","Begge"),r(i,"Kvinna","Kvinne"),r(i,"Man","Mann"),r(i,"Kategorier","Kategorier"),r(i,"Kopiera länk","Kopier lenke"),r(i,"Länk till dina sägner har kopierats.","Link til dine sagn har blitt kopiert."),r(i,"Klicka här för att visa lista över dina sparade sägner.","Klikk her for å vise liste over dine lagrede sagn"),r(i,"Länk har kopierats.","Link har blitt kopiert."),r(i,"Dela sägen på sociala media","Del sagnet på sosiale medier via denne lenken"),r(i,"Titel","Tittel"),r(i,"Kategori","Kategori"),r(i,"Uppteckningsår","Opptegnelsesår"),r(i,"Visar","Viser"),r(i,"av","fra"),r(i,"Föregående","Forrige"),r(i,"Nästa","Neste"),r(i,"Klicka på stjärnan för att spara sägner till din egen lista.","Klikk på stjernen for å lagre sagn i din egen liste"),r(i,"Spara","Lagre"),r(i,"har sparats till dina sägner","har blitt lagret i dine sagn"),r(i,"Ordförklaringar och dylikt i upptekcningarna/utgåvorna","Ordforklaringer og lignende i opptegnelsene/utgavene"),r(i,"Personer","Personer"),r(i,"Namn","Navn"),r(i,"Födelseår","Fødselsår"),r(i,"Födelseort","Fødested"),r(i,"Roll","Rolle"),r(i,"Platser","Steder"),r(i,"Arkiv","Arkiv"),r(i,"Acc. nr","Acc.nr"),r(i,"Sid. nr","Sidenr."),r(i,"Materialtyp","Materialtype"),r(i,"Uppteckningar","Opptegnelser"),r(i,"Föddes","Født"),r(i,"Samtliga uppteckningar från orten","Samtlige opptegnelser fra stedet"),r(i,"Intervjuade personer","Intervjuede personer"),r(i,"Några intressanta sägner på sägenkartan:","Noen interessante sagn på sagnkartet"),r(i,"Döden och de döda","Døden og de døde"),r(i,"Den vilda jakten","Den ville jakten"),r(i,"Skogsväsen","Skogvetter"),r(i,"Vattenväsen","Vannvetter"),r(i,"Bergväsen","Bergvetter"),r(i,"Tomtar","Nisser"),r(i,"De underjordiska","De underjordiske"),r(i,"Förvandlade","Omskapte"),r(i,"Spiritus","Ånder"),r(i,"Djävulen","Djevelen"),r(i,"Kloka","Kloke"),r(i,"Häxor och trollkarlar","Hekser og trollmenn"),r(i,"Tjuvmjölkande väsen","Tyvmelkende vesen"),r(i,"Övernaturliga djur","Overnaturlige dyr"),r(i,"År","Opptegnelsesår"),r(i,"Kommentarer","Ordforklaringer og lignende i opptegnelsene/utgavene"),r(i,"Tryckt källa","Tryckt källa"),r(i,"Avskriven","Avskriven"),r(i,"Frågor och synpunkter","Frågor och synpunkter"),r(i,"Vet du mer?","Vet du mer?"),r(i,"Hjälp","Hjälp"),r(i,"Finns inte","Finns inte"),r(i,"Post ","Post "),r(i," finns inte."," finns inte."),r(i,"Den här uppteckningen är inte avskriven.","Den här uppteckningen är inte avskriven."),r(i,"Vill du vara med och tillgängliggöra samlingarna för fler? Hjälp oss att skriva av berättelser!","Vill du vara med och tillgängliggöra samlingarna för fler? Hjälp oss att skriva av berättelser!"),r(i,"Skriv av","Skriv av"),r(i,"untranscribed","Ej transkribera"),r(i,"readytotranscribe","Nej"),r(i,"transcribed","Granskas"),r(i,"reviewing","Granskas"),r(i,"approved","Granskas"),r(i,"published","Ja"),i)};n.default=o},{}],114:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("route-parser"))&&i.__esModule?i:{default:i};var o="(/record_ids/:record_ids)(/search/:search)(/search_field/:search_field)(/type/:type)(/category/:category)(/recordtype/:recordtype)(/year_from/:year_from)(/year_to/:year_to)(/person_relation/:person_relation)(/gender/:gender)(/person_landskap/:person_landskap)(/person_county/:person_county)(/person_harad/:person_harad)(/person_socken/:person_socken)(/filter/:filter)(/has_media/:has_media)(/transcriptionstatus/:transcriptionstatus)",a="/places(/:place_id)(/record_ids/:record_ids)(/search/:search)(/search_field/:search_field)(/type/:type)(/category/:category)(/recordtype/:recordtype)(/year_from/:year_from)(/year_to/:year_to)(/person_relation/:person_relation)(/gender/:gender)(/person_landskap/:person_landskap)(/person_county/:person_county)(/person_harad/:person_harad)(/person_socken/:person_socken)(/filter/:filter)(/has_media/:has_media)(/transcriptionstatus/:transcriptionstatus)",s="/places/:place_id(/record_ids/:record_ids)(/search/:search)(/search_field/:search_field)(/type/:type)(/category/:category)(/recordtype/:recordtype)(/year_from/:year_from)(/year_to/:year_to)(/person_relation/:person_relation)(/gender/:gender)(/person_landskap/:person_landskap)(/person_county/:person_county)(/person_harad/:person_harad)(/person_socken/:person_socken)(/filter/:filter)(/has_media/:has_media)(/transcriptionstatus/:transcriptionstatus)",l="/records/:record_id(/record_ids/:record_ids)(/search/:search)(/search_field/:search_field)(/type/:type)(/category/:category)(/recordtype/:recordtype)(/year_from/:year_from)(/year_to/:year_to)(/person_relation/:person_relation)(/gender/:gender)(/person_landskap/:person_landskap)(/person_county/:person_county)(/person_harad/:person_harad)(/person_socken/:person_socken)(/filter/:filter)(/has_media/:has_media)(/transcriptionstatus/:transcriptionstatus)",u={createPlacePathFromPlaces:function(t,e){var n=new r.default(a),i=n.match(e)||{};return i.place_id=t,(n=new r.default(s)).reverse(i)||""},createPlacesPathFromPlace:function(t){var e=new r.default(s),n=e.match(t)||{};return n.place_id&&delete n.place_id,(e=new r.default(a)).reverse(n)||""},createPlacesPathFromRecord:function(t){var e=new r.default(l),n=e.match(t)||{};return n.record_id&&delete n.record_id,(e=new r.default(a)).reverse(n)||""},createSearchRoute:function(t){return new r.default(o).reverse(t)||""},createParamsFromPlacesRoute:function(t){return new r.default(a).match(t.replace(/\/$/,""))},createParamsFromRecordRoute:function(t){return new r.default(l).match(t.replace(/\/$/,""))},createParamsFromSearchRoute:function(t){return new r.default(o).match(t.replace(/\/$/,""))}};n.default=u},{"route-parser":77}]},{},[99]);